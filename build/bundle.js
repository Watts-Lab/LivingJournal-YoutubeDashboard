var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function a(e,t,n){e.$$.on_destroy.push(s(t,n))}function l(e,t,n,r){if(e){const o=c(e,t,n,r);return e[0](o)}}function c(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function u(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}function f(e,t,n,r,o,i){if(o){const s=c(t,n,r,i);e.p(s,o)}}function p(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function h(e){return null==e?"":e}function d(e,t,n){return e.set(n),t}function m(t){return t&&o(t.destroy)?t.destroy:e}function g(e,t){e.appendChild(t)}function y(e,t,n){e.insertBefore(t,n||null)}function v(e){e.parentNode.removeChild(e)}function $(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function x(e){return document.createElement(e)}function b(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function w(e){return document.createTextNode(e)}function _(){return w(" ")}function k(){return w("")}function T(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function M(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function C(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function z(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function N(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}e.selectedIndex=-1}let S,D;function j(){if(void 0===S){S=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){S=!0}}return S}function A(e,t,n){e.classList[n?"add":"remove"](t)}function q(e){D=e}function L(){if(!D)throw new Error("Function called outside component initialization");return D}function E(e){L().$$.on_mount.push(e)}function Y(){const e=L();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=function(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,r,t),o}(t,n,{cancelable:r});return o.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}function K(e){return L().$$.context.get(e)}const R=[],U=[],F=[],P=[],H=Promise.resolve();let I=!1;function O(e){F.push(e)}const W=new Set;let G=0;function X(){const e=D;do{for(;G<R.length;){const e=R[G];G++,q(e),V(e.$$)}for(q(null),R.length=0,G=0;U.length;)U.pop()();for(let e=0;e<F.length;e+=1){const t=F[e];W.has(t)||(W.add(t),t())}F.length=0}while(R.length);for(;P.length;)P.pop()();I=!1,W.clear(),q(e)}function V(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(O)}}const B=new Set;let J;function Z(){J={r:0,c:[],p:J}}function Q(){J.r||r(J.c),J=J.p}function ee(e,t){e&&e.i&&(B.delete(e),e.i(t))}function te(e,t,n,r){if(e&&e.o){if(B.has(e))return;B.add(e),J.c.push((()=>{B.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}function ne(e){e&&e.c()}function re(e,n,i,s){const{fragment:a,on_mount:l,on_destroy:c,after_update:u}=e.$$;a&&a.m(n,i),s||O((()=>{const n=l.map(t).filter(o);c?c.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(O)}function oe(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ie(e,t){-1===e.$$.dirty[0]&&(R.push(e),I||(I=!0,H.then(X)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function se(t,o,i,s,a,l,c,u=[-1]){const f=D;q(t);const p=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:o.target||f.$$.root};c&&c(p.root);let h=!1;if(p.ctx=i?i(t,o.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&a(p.ctx[e],p.ctx[e]=o)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](o),h&&ie(t,e)),n})):[],p.update(),h=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);p.fragment&&p.fragment.l(e),e.forEach(v)}else p.fragment&&p.fragment.c();o.intro&&ee(t.$$.fragment),re(t,o.target,o.anchor,o.customElement),X()}q(f)}class ae{$destroy(){oe(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function le(t){let n,r,o,i,s,a,l,c,u,f,p,h,d;return{c(){n=x("header"),r=x("div"),o=x("div"),o.innerHTML='<a class="logo_anchor svelte-gqmfnb" href="https://css.seas.upenn.edu/"><img class="logo_img svelte-gqmfnb" src="https://css.seas.upenn.edu/wp-content/uploads/2021/09/WEBSITE-LOGO.png" alt="Computational Social Science Lab" id="logo"/></a>',i=_(),s=x("div"),s.innerHTML='<nav id="top-menu-nav" class="svelte-gqmfnb"><ul id="top-menu" class="nav svelte-gqmfnb"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-2731 svelte-gqmfnb"><a class="menu-item-anchor svelte-gqmfnb" href="https://css.seas.upenn.edu/about/">About</a> \n                        <ul class="sub-menu svelte-gqmfnb"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1554 svelte-gqmfnb"><a class="sub-menu-item-anchor svelte-gqmfnb" href="https://css.seas.upenn.edu/about/lab/">The Lab</a></li> \n                            <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2232 svelte-gqmfnb"><a class="sub-menu-item-anchor svelte-gqmfnb" href="https://css.seas.upenn.edu/about/community/">CSS Community</a></li></ul></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1747 svelte-gqmfnb"><a class="menu-item-anchor svelte-gqmfnb" href="https://css.seas.upenn.edu/people/">People</a></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-37 svelte-gqmfnb"><a class="menu-item-anchor svelte-gqmfnb" href="https://css.seas.upenn.edu/research/">Research</a> \n                        <ul class="sub-menu svelte-gqmfnb"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-735 svelte-gqmfnb"><a class="sub-menu-item-anchor svelte-gqmfnb" href="https://css.seas.upenn.edu/project/penn-map/">PennMAP</a></li> \n                            <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-292 svelte-gqmfnb"><a class="sub-menu-item-anchor svelte-gqmfnb" href="https://css.seas.upenn.edu/project/virtual-lab/">Group Dynamics</a></li> \n                            <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-291 svelte-gqmfnb"><a class="sub-menu-item-anchor svelte-gqmfnb" href="https://css.seas.upenn.edu/project/covid-philadelphia/">COVID-Philadelphia</a></li> \n                            <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-377 svelte-gqmfnb"><a class="sub-menu-item-anchor svelte-gqmfnb" href="https://css.seas.upenn.edu/project/common-sense/">Common Sense</a></li></ul></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-344 svelte-gqmfnb"><a class="menu-item-anchor svelte-gqmfnb" href="https://css.seas.upenn.edu/partnerships/">Partners</a></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-58 svelte-gqmfnb"><a class="menu-item-anchor svelte-gqmfnb" href="https://css.seas.upenn.edu/publications/">Publications</a></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-105 svelte-gqmfnb"><a class="menu-item-anchor svelte-gqmfnb" href="https://css.seas.upenn.edu/blog-news-events/">News</a></li></ul></nav>',a=_(),l=x("div"),c=x("nav"),u=x("div"),u.innerHTML='<div class="line svelte-gqmfnb"></div> \n                    <div class="line svelte-gqmfnb"></div> \n                    <div class="line svelte-gqmfnb"></div>',f=_(),p=x("ul"),p.innerHTML='<li class="svelte-gqmfnb"><a class="item-mobile svelte-gqmfnb" href="https://css.seas.upenn.edu/about/">About</a> \n                        <ul class="sub-menu-mobile"><li class="sub-menu-list-mobile svelte-gqmfnb"><a class="sub-item-mobile svelte-gqmfnb" href="https://css.seas.upenn.edu/about/lab/">The Lab</a></li> \n                            <li class="sub-menu-list-mobile svelte-gqmfnb"><a class="sub-item-mobile svelte-gqmfnb" href="https://css.seas.upenn.edu/about/community/">CSS Community</a></li></ul></li> \n                    <li class="svelte-gqmfnb"><a class="item-mobile svelte-gqmfnb" href="https://css.seas.upenn.edu/people/">People</a></li> \n                    <li class="svelte-gqmfnb"><a class="item-mobile svelte-gqmfnb" href="https://css.seas.upenn.edu/research/">Research</a> \n                        <ul class="sub-menu-mobile"><li class="sub-menu-list-mobile svelte-gqmfnb"><a class="sub-item-mobile svelte-gqmfnb" href="https://css.seas.upenn.edu/project/penn-map/">PennMAP</a></li> \n                            <li class="sub-menu-list-mobile svelte-gqmfnb"><a class="sub-item-mobile svelte-gqmfnb" href="https://css.seas.upenn.edu/project/virtual-lab/">Group Dynamics</a></li> \n                            <li class="sub-menu-list-mobile svelte-gqmfnb"><a class="sub-item-mobile svelte-gqmfnb" href="https://css.seas.upenn.edu/project/covid-philadelphia/">COVID-Philadelphia</a></li> \n                            <li class="sub-menu-list-mobile svelte-gqmfnb"><a class="sub-item-mobile svelte-gqmfnb" href="https://css.seas.upenn.edu/project/common-sense/">Common Sense</a></li></ul></li> \n                    <li class="svelte-gqmfnb"><a class="item-mobile svelte-gqmfnb" href="https://css.seas.upenn.edu/partnerships/">Partners</a></li> \n                    <li class="svelte-gqmfnb"><a class="item-mobile svelte-gqmfnb" href="https://css.seas.upenn.edu/publications/">Publications</a></li> \n                    <li class="svelte-gqmfnb"><a class="item-mobile svelte-gqmfnb" href="https://css.seas.upenn.edu/blog-news-events/">News</a></li>',M(o,"class","logo_container svelte-gqmfnb"),M(s,"id","et-top-navigation"),M(s,"class","svelte-gqmfnb"),M(u,"class","icon svelte-gqmfnb"),M(p,"id","nav-mobile"),M(p,"class","nav-mobile nav-mobile-hidden svelte-gqmfnb"),M(c,"id","top-menu-nav-mobile"),M(c,"class","svelte-gqmfnb"),M(l,"id","et-top-navigation-mobile"),M(l,"class","svelte-gqmfnb"),M(r,"class","container clearfix et_menu_container svelte-gqmfnb"),M(n,"id","main-header"),M(n,"data-height-onload","84"),M(n,"data-height-loaded","true"),M(n,"data-fixed-height-onload","84"),z(n,"top","0px"),M(n,"class","svelte-gqmfnb")},m(e,m){y(e,n,m),g(n,r),g(r,o),g(r,i),g(r,s),g(r,a),g(r,l),g(l,c),g(c,u),g(c,f),g(c,p),h||(d=T(u,"click",t[0]),h=!0)},p:e,i:e,o:e,d(e){e&&v(n),h=!1,d()}}}function ce(e){let t=null;return E((()=>{t=document.getElementById("nav-mobile")})),[function(e){const{classList:n}=t;n.contains("nav-mobile-active")?(n.remove("nav-mobile-active"),n.add("nav-mobile-hidden")):(n.add("nav-mobile-active"),n.remove("nav-mobile-hidden"))}]}class ue extends ae{constructor(e){super(),se(this,e,ce,le,i,{})}}function fe(t){let n;return{c(){n=x("footer"),n.innerHTML='<div class="et_builder_inner_content et_pb_gutters3"><div class="et_pb_section et_pb_section_0_tb_footer et_pb_with_background et_section_regular et_pb_section--with-menu svelte-m2njio"><div class="et_pb_row et_pb_row_0_tb_footer et_pb_row--with-menu et_pb_row_4col svelte-m2njio" style="z-index: 3;"><div class="et_pb_column et_pb_column_1_4 et_pb_column_0_tb_footer global-footer-column-1 et_pb_css_mix_blend_mode_passthrough svelte-m2njio"><div class="et_pb_module et_pb_image et_pb_image_0_tb_footer et_pb_image_sticky svelte-m2njio"><a href="https://www.seas.upenn.edu/" target="_blank" class="svelte-m2njio"><span class="et_pb_image_wrap  svelte-m2njio"><img loading="lazy" width="480" height="123" src="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-1-seas.png" alt="Penn Engineering" title="Penn Engineering" srcset="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-1-seas.png 480w, https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-1-seas-300x77.png 300w" sizes="(max-width: 480px) 100vw, 480px" class="wp-image-3438 svelte-m2njio"/></span></a></div> \n                    <div class="et_pb_module et_pb_image et_pb_image_1_tb_footer et_pb_image_sticky svelte-m2njio"><a href="https://www.asc.upenn.edu/" target="_blank" class="svelte-m2njio"><span class="et_pb_image_wrap  svelte-m2njio"><img loading="lazy" width="480" height="123" src="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-2-asc.png" alt="Penn Engineering" title="Penn Engineering" srcset="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-2-asc.png 480w, https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-2-asc-300x77.png 300w" sizes="(max-width: 480px) 100vw, 480px" class="wp-image-3440 svelte-m2njio"/></span></a></div> \n                    <div class="et_pb_module et_pb_image et_pb_image_2_tb_footer et_pb_image_sticky svelte-m2njio"><a href="https://www.wharton.upenn.edu/" target="_blank" class="svelte-m2njio"><span class="et_pb_image_wrap  svelte-m2njio"><img loading="lazy" width="480" height="111" src="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-3-wharton.png" alt="Penn Engineering" title="Penn Engineering" srcset="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-3-wharton.png 480w, https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-3-wharton-300x69.png 300w" sizes="(max-width: 480px) 100vw, 480px" class="wp-image-3439 svelte-m2njio"/></span></a></div></div> \n\n            <div class="et_pb_column et_pb_column_1_4 et_pb_column_1_tb_footer global-footer-column-2 et_pb_css_mix_blend_mode_passthrough et_pb_column--with-menu svelte-m2njio"><div class="et_pb_module et_pb_text et_pb_text_0_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-m2njio"><div class="et_pb_text_inner svelte-m2njio"><h2 class="svelte-m2njio">Navigate</h2></div></div> \n                <div class="et_pb_module et_pb_divider et_pb_divider_0_tb_footer et_pb_divider_position_ et_pb_space svelte-m2njio"><div class="et_pb_divider_internal svelte-m2njio"></div></div> \n                <div class="et_pb_module et_pb_menu et_pb_menu_0_tb_footer footer-vertical-menu et_pb_bg_layout_light et_pb_text_align_left et_dropdown_animation_fade et_pb_menu--without-logo et_pb_menu--style-left_aligned svelte-m2njio"><div class="et_pb_menu_inner_container clearfix"><div class="et_pb_menu__wrap"><div class="et_pb_menu__menu svelte-m2njio"><nav class="et-menu-nav svelte-m2njio"><ul id="menu-footer-menu-new" class="et-menu nav svelte-m2njio"><li id="menu-item-3425" class="et_pb_menu_page_id-2233 menu-item menu-item-type-post_type menu-item-object-page menu-item-3425 svelte-m2njio"><a href="https://css.seas.upenn.edu/about/" class="svelte-m2njio">About</a></li> \n                                        <li id="menu-item-3426" class="et_pb_menu_page_id-1732 menu-item menu-item-type-post_type menu-item-object-page menu-item-3426 svelte-m2njio"><a href="https://css.seas.upenn.edu/people/" class="svelte-m2njio">People</a></li> \n                                        <li id="menu-item-3430" class="et_pb_menu_page_id-22 menu-item menu-item-type-post_type menu-item-object-page menu-item-3430 svelte-m2njio"><a href="https://css.seas.upenn.edu/research/" class="svelte-m2njio">Research</a></li> \n                                        <li id="menu-item-3428" class="et_pb_menu_page_id-65 menu-item menu-item-type-post_type menu-item-object-page menu-item-3428 svelte-m2njio"><a href="https://css.seas.upenn.edu/partnerships/" class="svelte-m2njio">Partners</a></li> \n                                        <li id="menu-item-3429" class="et_pb_menu_page_id-52 menu-item menu-item-type-post_type menu-item-object-page menu-item-3429 svelte-m2njio"><a href="https://css.seas.upenn.edu/publications/" class="svelte-m2njio">Publications</a></li> \n                                        <li id="menu-item-3427" class="et_pb_menu_page_id-92 menu-item menu-item-type-post_type menu-item-object-page menu-item-3427 svelte-m2njio"><a href="https://css.seas.upenn.edu/blog-news-events/" class="svelte-m2njio">News</a></li></ul></nav></div></div></div></div></div> \n    \n    <div class="et_pb_column et_pb_column_1_4 et_pb_column_2_tb_footer global-footer-column-3 et_pb_css_mix_blend_mode_passthrough svelte-m2njio"><div class="et_pb_module et_pb_text et_pb_text_1_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-m2njio"><div class="et_pb_text_inner svelte-m2njio"><h2 class="svelte-m2njio">Contact</h2></div></div> \n        <div class="et_pb_module et_pb_divider et_pb_divider_1_tb_footer et_pb_divider_position_ et_pb_space svelte-m2njio"><div class="et_pb_divider_internal svelte-m2njio"></div></div> \n        <div class="et_pb_module et_pb_text et_pb_text_2_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-m2njio"><div class="et_pb_text_inner svelte-m2njio"><p class="svelte-m2njio">3401 Walnut Street<br/>Suite 417B<br/>Philadelphia PA, 19104</p> \n                <p class="svelte-m2njio">CSSLab@seas.upenn.edu</p> \n                <p class="svelte-m2njio">(215) 573-7098</p></div></div></div></div> \n    <div class="et_pb_row et_pb_row_1_tb_footer et_pb_equal_columns svelte-m2njio"><div class="et_pb_column et_pb_column_4_4 et_pb_column_4_tb_footer et_pb_css_mix_blend_mode_passthrough et-last-child"><div class="et_pb_module et_pb_text et_pb_text_4_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-m2njio"><div class="et_pb_text_inner svelte-m2njio"><p style="text-align: center;" class="svelte-m2njio"><a href="https://www.upenn.edu/" class="svelte-m2njio">Penn Homepage</a> \n                        <a href="https://www.upenn.edu/about/disclaimer" class="svelte-m2njio">Disclaimer</a> \n                        <a href="https://www.publicsafety.upenn.edu/contact/" class="svelte-m2njio">Emergency Services</a> \n                        <a href="https://www.upenn.edu/about/privacy-policy" class="svelte-m2njio">Privacy Policy</a> \n                        <a href="https://accessibility.web-resources.upenn.edu/get-help" class="svelte-m2njio">Report Accessibility Issues and Get Help</a> \n                        <a href="https://www.upenn.edu/about/report-copyright-infringement" class="svelte-m2njio">Report Copyright Infringement</a></p></div></div> \n            <div class="et_pb_module et_pb_text et_pb_text_5_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-m2njio"><div class="et_pb_text_inner svelte-m2njio"><p style="text-align: center;" class="svelte-m2njio"><em><strong></strong></em></p> \n                    <p style="text-align: center;" class="svelte-m2njio"><em><a href="https://css.seas.upenn.edu/research-assistant-positions/" class="svelte-m2njio"><strong>Interested in working at the CSSLab?</strong> Click here to view opportunities for Penn students</a></em></p></div></div></div></div></div></div>',M(n,"class","et-l et-l--footer svelte-m2njio")},m(e,t){y(e,n,t)},p:e,i:e,o:e,d(e){e&&v(n)}}}class pe extends ae{constructor(e){super(),se(this,e,null,fe,i,{})}}function he(t){let n,r;return{c(){n=x("h1"),r=w(t[0]),M(n,"class","svelte-wev0vk")},m(e,t){y(e,n,t),g(n,r)},p(e,[t]){1&t&&C(r,e[0])},i:e,o:e,d(e){e&&v(n)}}}function de(e,t,n){let{title:r}=t;return e.$$set=e=>{"title"in e&&n(0,r=e.title)},[r]}class me extends ae{constructor(e){super(),se(this,e,de,he,i,{title:0})}}function ge(t){let n,r,o,i,s,a,l;return{c(){n=x("div"),r=x("a"),o=w("Read the original research\n    "),i=b("svg"),s=b("path"),a=b("polyline"),l=b("line"),M(s,"d","M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"),M(a,"points","15 3 21 3 21 9"),M(l,"x1","10"),M(l,"y1","14"),M(l,"x2","21"),M(l,"y2","3"),M(i,"xmlns","http://www.w3.org/2000/svg"),M(i,"viewBox","0 0 24 24"),M(i,"fill","none"),M(i,"stroke","currentColor"),M(i,"stroke-width","2"),M(i,"stroke-linecap","round"),M(i,"stroke-linejoin","round"),M(i,"class","feather feather-external-link svelte-mwaz07"),M(r,"class","btn svelte-mwaz07"),M(r,"href",t[0]),M(r,"target","_top"),M(n,"class","btn-container svelte-mwaz07")},m(e,t){y(e,n,t),g(n,r),g(r,o),g(r,i),g(i,s),g(i,a),g(i,l)},p(e,[t]){1&t&&M(r,"href",e[0])},i:e,o:e,d(e){e&&v(n)}}}function ye(e,t,n){let{url:r}=t;return e.$$set=e=>{"url"in e&&n(0,r=e.url)},[r]}class ve extends ae{constructor(e){super(),se(this,e,ye,ge,i,{url:0})}}function $e(e,t,n){const r=e.slice();return r[1]=t[n],r}function xe(e){let t,n,r=e[1].value+"";return{c(){t=x("p"),n=w(r),M(t,"class","svelte-hixzrs")},m(e,r){y(e,t,r),g(t,n)},p(e,t){1&t&&r!==(r=e[1].value+"")&&C(n,r)},d(e){e&&v(t)}}}function be(e){let t,n,r,o,i=e[0],s=[];for(let t=0;t<i.length;t+=1)s[t]=xe($e(e,i,t));return r=new ve({props:{url:"https://www.pnas.org/doi/10.1073/pnas.2101967118"}}),{c(){t=x("div");for(let e=0;e<s.length;e+=1)s[e].c();n=_(),ne(r.$$.fragment),M(t,"class","standfirst-wrapper svelte-hixzrs")},m(e,i){y(e,t,i);for(let e=0;e<s.length;e+=1)s[e].m(t,null);g(t,n),re(r,t,null),o=!0},p(e,[r]){if(1&r){let o;for(i=e[0],o=0;o<i.length;o+=1){const a=$e(e,i,o);s[o]?s[o].p(a,r):(s[o]=xe(a),s[o].c(),s[o].m(t,n))}for(;o<s.length;o+=1)s[o].d(1);s.length=i.length}},i(e){o||(ee(r.$$.fragment,e),o=!0)},o(e){te(r.$$.fragment,e),o=!1},d(e){e&&v(t),$(s,e),oe(r)}}}function we(e,t,n){let{standfirst:r}=t;return e.$$set=e=>{"standfirst"in e&&n(0,r=e.standfirst)},[r]}class _e extends ae{constructor(e){super(),se(this,e,we,be,i,{standfirst:0})}}var ke={},Te={};function Me(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function Ce(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function ze(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Ne(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function(e){return e<0?"-"+ze(-e,6):e>9999?"+"+ze(e,6):ze(e,4)}(e.getUTCFullYear())+"-"+ze(e.getUTCMonth()+1,2)+"-"+ze(e.getUTCDate(),2)+(o?"T"+ze(t,2)+":"+ze(n,2)+":"+ze(r,2)+"."+ze(o,3)+"Z":r?"T"+ze(t,2)+":"+ze(n,2)+":"+ze(r,2)+"Z":n||t?"T"+ze(t,2)+":"+ze(n,2)+"Z":"")}var Se=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,o=[],i=e.length,s=0,a=0,l=i<=0,c=!1;function u(){if(l)return Te;if(c)return c=!1,ke;var t,r,o=s;if(34===e.charCodeAt(o)){for(;s++<i&&34!==e.charCodeAt(s)||34===e.charCodeAt(++s););return(t=s)>=i?l=!0:10===(r=e.charCodeAt(s++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(s)&&++s),e.slice(o+1,t-1).replace(/""/g,'"')}for(;s<i;){if(10===(r=e.charCodeAt(t=s++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(s)&&++s;else if(r!==n)continue;return e.slice(o,t)}return l=!0,e.slice(o,i)}for(10===e.charCodeAt(i-1)&&--i,13===e.charCodeAt(i-1)&&--i;(r=u())!==Te;){for(var f=[];r!==ke&&r!==Te;)f.push(r),r=u();t&&null==(f=t(f,a++))||o.push(f)}return o}function o(t,n){return t.map((function(t){return n.map((function(e){return s(t[e])})).join(e)}))}function i(t){return t.map(s).join(e)}function s(e){return null==e?"":e instanceof Date?Ne(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,o,i=r(e,(function(e,r){if(n)return n(e,r-1);o=e,n=t?function(e,t){var n=Me(e);return function(r,o){return t(n(r),o,e)}}(e,t):Me(e)}));return i.columns=o||[],i},parseRows:r,format:function(t,n){return null==n&&(n=Ce(t)),[n.map(s).join(e)].concat(o(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=Ce(e)),o(e,t).join("\n")},formatRows:function(e){return e.map(i).join("\n")},formatRow:i,formatValue:s}}(","),De=Se.parse;function je(e){for(var t in e){var n,r,o=e[t].trim();if(o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("NaN"===o)o=NaN;else if(isNaN(n=+o)){if(!(r=o.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Ae&&r[4]&&!r[7]&&(o=o.replace(/-/g,"/").replace(/T/," ")),o=new Date(o)}else o=n;else o=null;e[t]=o}return e}const Ae=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function qe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Le(e,t){return fetch(e,t).then(qe)}var Ee,Ye=(Ee=De,function(e,t,n){return 2===arguments.length&&"function"==typeof t&&(n=t,t=void 0),Le(e,t).then((function(e){return Ee(e,n)}))});function Ke(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Re(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ue(e){let t,n,r;function o(e,r,o=0,i=e.length){if(o<i){if(0!==t(r,r))return i;do{const t=o+i>>>1;n(e[t],r)<0?o=t+1:i=t}while(o<i)}return o}return 2!==e.length?(t=Ke,n=(t,n)=>Ke(e(t),n),r=(t,n)=>e(t)-n):(t=e===Ke||e===Re?e:Fe,n=e,r=e),{left:o,center:function(e,t,n=0,i=e.length){const s=o(e,t,n,i-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r,o=0,i=e.length){if(o<i){if(0!==t(r,r))return i;do{const t=o+i>>>1;n(e[t],r)<=0?o=t+1:i=t}while(o<i)}return o}}}function Fe(){return 0}const Pe=Ue(Ke).right;Ue((function(e){return null===e?NaN:+e})).center;var He=Pe;class Ie extends Map{constructor(e,t=We){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(Oe(this,e))}has(e){return super.has(Oe(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);e.has(r)&&(n=e.get(r),e.delete(r));return n}(this,e))}}function Oe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function We(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Ge(e){return e}function Xe(e,...t){return Be(e,Ge,Ge,t)}function Ve(e,...t){return Be(e,Array.from,Ge,t)}function Be(e,t,n,r){return function e(o,i){if(i>=r.length)return n(o);const s=new Ie,a=r[i++];let l=-1;for(const e of o){const t=a(e,++l,o),n=s.get(t);n?n.push(e):s.set(t,[e])}for(const[t,n]of s)s.set(t,e(n,i));return t(s)}(e,0)}var Je=Math.sqrt(50),Ze=Math.sqrt(10),Qe=Math.sqrt(2);function et(e,t,n){var r,o,i,s,a=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(s=tt(e,t,n))||!isFinite(s))return[];if(s>0){let n=Math.round(e/s),r=Math.round(t/s);for(n*s<e&&++n,r*s>t&&--r,i=new Array(o=r-n+1);++a<o;)i[a]=(n+a)*s}else{s=-s;let n=Math.round(e*s),r=Math.round(t*s);for(n/s<e&&++n,r/s>t&&--r,i=new Array(o=r-n+1);++a<o;)i[a]=(n+a)/s}return r&&i.reverse(),i}function tt(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=Je?10:i>=Ze?5:i>=Qe?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=Je?10:i>=Ze?5:i>=Qe?2:1)}function nt(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=Je?o*=10:i>=Ze?o*=5:i>=Qe&&(o*=2),t<e?-o:o}function rt(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(o);++r<o;)i[r]=e+r*n;return i}function ot(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let r=-1;for(let o of e)(o=+t(o,++r,e))&&(n+=o)}return n}function it(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function st(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const at=Symbol("implicit");function lt(){var e=new Ie,t=[],n=[],r=at;function o(o){let i=e.get(o);if(void 0===i){if(r!==at)return r;e.set(o,i=t.push(o)-1)}return n[i%n.length]}return o.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Ie;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return o},o.range=function(e){return arguments.length?(n=Array.from(e),o):n.slice()},o.unknown=function(e){return arguments.length?(r=e,o):r},o.copy=function(){return lt(t,n).unknown(r)},it.apply(o,arguments),o}function ct(){var e,t,n=lt().unknown(void 0),r=n.domain,o=n.range,i=0,s=1,a=!1,l=0,c=0,u=.5;function f(){var n=r().length,f=s<i,p=f?s:i,h=f?i:s;e=(h-p)/Math.max(1,n-l+2*c),a&&(e=Math.floor(e)),p+=(h-p-e*(n-l))*u,t=e*(1-l),a&&(p=Math.round(p),t=Math.round(t));var d=rt(n).map((function(t){return p+e*t}));return o(f?d.reverse():d)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),f()):r()},n.range=function(e){return arguments.length?([i,s]=e,i=+i,s=+s,f()):[i,s]},n.rangeRound=function(e){return[i,s]=e,i=+i,s=+s,a=!0,f()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,f()):a},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),f()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),f()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,f()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),f()):u},n.copy=function(){return ct(r(),[i,s]).round(a).paddingInner(l).paddingOuter(c).align(u)},it.apply(f(),arguments)}function ut(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ft(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function pt(){}var ht=.7,dt=1/ht,mt="\\s*([+-]?\\d+)\\s*",gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vt=/^#([0-9a-f]{3,8})$/,$t=new RegExp(`^rgb\\(${mt},${mt},${mt}\\)$`),xt=new RegExp(`^rgb\\(${yt},${yt},${yt}\\)$`),bt=new RegExp(`^rgba\\(${mt},${mt},${mt},${gt}\\)$`),wt=new RegExp(`^rgba\\(${yt},${yt},${yt},${gt}\\)$`),_t=new RegExp(`^hsl\\(${gt},${yt},${yt}\\)$`),kt=new RegExp(`^hsla\\(${gt},${yt},${yt},${gt}\\)$`),Tt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Mt(){return this.rgb().formatHex()}function Ct(){return this.rgb().formatRgb()}function zt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=vt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Nt(t):3===n?new At(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?St(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?St(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=$t.exec(e))?new At(t[1],t[2],t[3],1):(t=xt.exec(e))?new At(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=bt.exec(e))?St(t[1],t[2],t[3],t[4]):(t=wt.exec(e))?St(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=_t.exec(e))?Rt(t[1],t[2]/100,t[3]/100,1):(t=kt.exec(e))?Rt(t[1],t[2]/100,t[3]/100,t[4]):Tt.hasOwnProperty(e)?Nt(Tt[e]):"transparent"===e?new At(NaN,NaN,NaN,0):null}function Nt(e){return new At(e>>16&255,e>>8&255,255&e,1)}function St(e,t,n,r){return r<=0&&(e=t=n=NaN),new At(e,t,n,r)}function Dt(e){return e instanceof pt||(e=zt(e)),e?new At((e=e.rgb()).r,e.g,e.b,e.opacity):new At}function jt(e,t,n,r){return 1===arguments.length?Dt(e):new At(e,t,n,null==r?1:r)}function At(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function qt(){return`#${Kt(this.r)}${Kt(this.g)}${Kt(this.b)}`}function Lt(){const e=Et(this.opacity);return`${1===e?"rgb(":"rgba("}${Yt(this.r)}, ${Yt(this.g)}, ${Yt(this.b)}${1===e?")":`, ${e})`}`}function Et(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Kt(e){return((e=Yt(e))<16?"0":"")+e.toString(16)}function Rt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ft(e,t,n,r)}function Ut(e){if(e instanceof Ft)return new Ft(e.h,e.s,e.l,e.opacity);if(e instanceof pt||(e=zt(e)),!e)return new Ft;if(e instanceof Ft)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,a=i-o,l=(i+o)/2;return a?(s=t===i?(n-r)/a+6*(n<r):n===i?(r-t)/a+2:(t-n)/a+4,a/=l<.5?i+o:2-i-o,s*=60):a=l>0&&l<1?0:s,new Ft(s,a,l,e.opacity)}function Ft(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Pt(e){return(e=(e||0)%360)<0?e+360:e}function Ht(e){return Math.max(0,Math.min(1,e||0))}function It(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}ut(pt,zt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Mt,formatHex:Mt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ut(this).formatHsl()},formatRgb:Ct,toString:Ct}),ut(At,jt,ft(pt,{brighter(e){return e=null==e?dt:Math.pow(dt,e),new At(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?ht:Math.pow(ht,e),new At(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new At(Yt(this.r),Yt(this.g),Yt(this.b),Et(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qt,formatHex:qt,formatHex8:function(){return`#${Kt(this.r)}${Kt(this.g)}${Kt(this.b)}${Kt(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Lt,toString:Lt})),ut(Ft,(function(e,t,n,r){return 1===arguments.length?Ut(e):new Ft(e,t,n,null==r?1:r)}),ft(pt,{brighter(e){return e=null==e?dt:Math.pow(dt,e),new Ft(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?ht:Math.pow(ht,e),new Ft(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new At(It(e>=240?e-240:e+120,o,r),It(e,o,r),It(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Ft(Pt(this.h),Ht(this.s),Ht(this.l),Et(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Et(this.opacity);return`${1===e?"hsl(":"hsla("}${Pt(this.h)}, ${100*Ht(this.s)}%, ${100*Ht(this.l)}%${1===e?")":`, ${e})`}`}}));var Ot=e=>()=>e;function Wt(e){return 1==(e=+e)?Gt:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Ot(isNaN(t)?n:t)}}function Gt(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Ot(isNaN(e)?t:e)}var Xt=function e(t){var n=Wt(t);function r(e,t){var r=n((e=jt(e)).r,(t=jt(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),s=Gt(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function Vt(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}}function Bt(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),s=new Array(r);for(n=0;n<o;++n)i[n]=rn(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<o;++n)s[n]=i[n](e);return s}}function Jt(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Zt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Qt(e,t){var n,r={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=rn(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}var en=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tn=new RegExp(en.source,"g");function nn(e,t){var n,r,o,i=en.lastIndex=tn.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(n=en.exec(e))&&(r=tn.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:Zt(n,r)})),i=tn.lastIndex;return i<t.length&&(o=t.slice(i),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)a[(n=l[r]).i]=n.x(e);return a.join("")})}function rn(e,t){var n,r=typeof t;return null==t||"boolean"===r?Ot(t):("number"===r?Zt:"string"===r?(n=zt(t))?(t=n,Xt):nn:t instanceof zt?Xt:t instanceof Date?Jt:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Vt:Array.isArray(t)?Bt:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Qt:Zt)(e,t)}function on(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function sn(e,t){void 0===t&&(t=e,e=rn);for(var n=0,r=t.length-1,o=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(o,o=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}function an(e){return+e}var ln=[0,1];function cn(e){return e}function un(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function fn(e,t,n){var r=e[0],o=e[1],i=t[0],s=t[1];return o<r?(r=un(o,r),i=n(s,i)):(r=un(r,o),i=n(i,s)),function(e){return i(r(e))}}function pn(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)o[s]=un(e[s],e[s+1]),i[s]=n(t[s],t[s+1]);return function(t){var n=He(e,t,1,r)-1;return i[n](o[n](t))}}function hn(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dn(){var e,t,n,r,o,i,s=ln,a=ln,l=rn,c=cn;function u(){var e=Math.min(s.length,a.length);return c!==cn&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),r=e>2?pn:fn,o=i=null,f}function f(t){return null==t||isNaN(t=+t)?n:(o||(o=r(s.map(e),a,l)))(e(c(t)))}return f.invert=function(n){return c(t((i||(i=r(a,s.map(e),Zt)))(n)))},f.domain=function(e){return arguments.length?(s=Array.from(e,an),u()):s.slice()},f.range=function(e){return arguments.length?(a=Array.from(e),u()):a.slice()},f.rangeRound=function(e){return a=Array.from(e),l=on,u()},f.clamp=function(e){return arguments.length?(c=!!e||cn,u()):c!==cn},f.interpolate=function(e){return arguments.length?(l=e,u()):l},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,u()}}function mn(){return dn()(cn,cn)}function gn(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function yn(e){return(e=gn(Math.abs(e)))?e[1]:NaN}var vn,$n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xn(e){if(!(t=$n.exec(e)))throw new Error("invalid format: "+e);var t;return new bn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function bn(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function wn(e,t){var n=gn(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}xn.prototype=bn.prototype,bn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var _n={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>wn(100*e,t),r:wn,s:function(e,t){var n=gn(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(vn=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+gn(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kn(e){return e}var Tn,Mn,Cn,zn=Array.prototype.map,Nn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Sn(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?kn:(t=zn.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,i=[],s=0,a=t[0],l=0;o>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),i.push(e.substring(o-=a,o+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return i.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?kn:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(zn.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=xn(e)).fill,n=e.align,f=e.sign,p=e.symbol,h=e.zero,d=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):_n[v]||(void 0===g&&(g=12),y=!0,v="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var $="$"===p?o:"#"===p&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===p?i:/[%p]/.test(v)?l:"",b=_n[v],w=/[defgprs%]/.test(v);function _(e){var o,i,l,p=$,_=x;if("c"===v)_=b(e)+_,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:b(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),k&&0==+e&&"+"!==f&&(k=!1),p=(k?"("===f?f:c:"-"===f||"("===f?"":f)+p,_=("s"===v?Nn[8+vn/3]:"")+_+(k&&"("===f?")":""),w)for(o=-1,i=e.length;++o<i;)if(48>(l=e.charCodeAt(o))||l>57){_=(46===l?s+e.slice(o+1):e.slice(o))+_,e=e.slice(0,o);break}}m&&!h&&(e=r(e,1/0));var T=p.length+e.length+_.length,M=T<d?new Array(d-T+1).join(t):"";switch(m&&h&&(e=r(M+e,M.length?d-_.length:1/0),M=""),n){case"<":e=p+e+_+M;break;case"=":e=p+M+e+_;break;case"^":e=M.slice(0,T=M.length>>1)+p+e+_+M.slice(T);break;default:e=M+p+e+_}return a(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),_.toString=function(){return e+""},_}return{format:f,formatPrefix:function(e,t){var n=f(((e=xn(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(yn(t)/3))),o=Math.pow(10,-r),i=Nn[8+r/3];return function(e){return n(o*e)+i}}}}function Dn(e,t,n,r){var o,i=nt(e,t,n);switch((r=xn(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(yn(t)/3)))-yn(Math.abs(e)))}(i,s))||(r.precision=o),Cn(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yn(t)-yn(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(e){return Math.max(0,-yn(Math.abs(e)))}(i))||(r.precision=o-2*("%"===r.type))}return Mn(r)}function jn(e){var t=e.domain;return e.ticks=function(e){var n=t();return et(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Dn(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o,i=t(),s=0,a=i.length-1,l=i[s],c=i[a],u=10;for(c<l&&(o=l,l=c,c=o,o=s,s=a,a=o);u-- >0;){if((o=tt(l,c,n))===r)return i[s]=l,i[a]=c,t(i);if(o>0)l=Math.floor(l/o)*o,c=Math.ceil(c/o)*o;else{if(!(o<0))break;l=Math.ceil(l*o)/o,c=Math.floor(c*o)/o}r=o}return e},e}function An(){var e=mn();return e.copy=function(){return hn(e,An())},it.apply(e,arguments),jn(e)}function qn(e,t){var n,r=0,o=(e=e.slice()).length-1,i=e[r],s=e[o];return s<i&&(n=r,r=o,o=n,n=i,i=s,s=n),e[r]=t.floor(i),e[o]=t.ceil(s),e}function Ln(e){return Math.log(e)}function En(e){return Math.exp(e)}function Yn(e){return-Math.log(-e)}function Kn(e){return-Math.exp(-e)}function Rn(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Un(e){return(t,n)=>-e(-t,n)}function Fn(e){const t=e(Ln,En),n=t.domain;let r,o,i=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),o=function(e){return 10===e?Rn:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(r=Un(r),o=Un(o),e(Yn,Kn)):e(Ln,En),t}return t.base=function(e){return arguments.length?(i=+e,s()):i},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],a=t[t.length-1];const l=a<s;l&&([s,a]=[a,s]);let c,u,f=r(s),p=r(a);const h=null==e?10:+e;let d=[];if(!(i%1)&&p-f<h){if(f=Math.floor(f),p=Math.ceil(p),s>0){for(;f<=p;++f)for(c=1;c<i;++c)if(u=f<0?c/o(-f):c*o(f),!(u<s)){if(u>a)break;d.push(u)}}else for(;f<=p;++f)for(c=i-1;c>=1;--c)if(u=f>0?c/o(-f):c*o(f),!(u<s)){if(u>a)break;d.push(u)}2*d.length<h&&(d=et(s,a,h))}else d=et(f,p,Math.min(p-f,h)).map(o);return l?d.reverse():d},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!=typeof n&&(i%1||null!=(n=xn(n)).precision||(n.trim=!0),n=Mn(n)),e===1/0)return n;const s=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/o(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=s?n(e):""}},t.nice=()=>n(qn(n(),{floor:e=>o(Math.floor(r(e))),ceil:e=>o(Math.ceil(r(e)))})),t}function Pn(){const e=Fn(dn()).domain([1,10]);return e.copy=()=>hn(e,Pn()).base(e.base()),it.apply(e,arguments),e}function Hn(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function In(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function On(e){return e<0?-e*e:e*e}function Wn(e){var t=e(cn,cn),n=1;function r(){return 1===n?e(cn,cn):.5===n?e(In,On):e(Hn(n),Hn(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},jn(t)}function Gn(){var e=Wn(dn());return e.copy=function(){return hn(e,Gn()).exponent(e.exponent())},it.apply(e,arguments),e}Tn=Sn({thousands:",",grouping:[3],currency:["$",""]}),Mn=Tn.format,Cn=Tn.formatPrefix;var Xn=new Date,Vn=new Date;function Bn(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=function(t){return e(t=new Date(+t)),t},o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,i){var s,a=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return a;do{a.push(s=new Date(+n)),t(n,i),e(n)}while(s<n&&n<r);return a},o.filter=function(n){return Bn((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(o.count=function(t,r){return Xn.setTime(+t),Vn.setTime(+r),e(Xn),e(Vn),Math.floor(n(Xn,Vn))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?function(t){return r(t)%e==0}:function(t){return o.count(0,t)%e==0}):o:null}),o}var Jn=Bn((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));Jn.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Bn((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):Jn:null};var Zn=Jn;Jn.range;const Qn=1e3,er=6e4,tr=36e5,nr=864e5,rr=6048e5,or=2592e6,ir=31536e6;var sr=Bn((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*Qn)}),(function(e,t){return(t-e)/Qn}),(function(e){return e.getUTCSeconds()})),ar=sr;sr.range;var lr=Bn((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qn)}),(function(e,t){e.setTime(+e+t*er)}),(function(e,t){return(t-e)/er}),(function(e){return e.getMinutes()})),cr=lr;lr.range;var ur=Bn((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qn-e.getMinutes()*er)}),(function(e,t){e.setTime(+e+t*tr)}),(function(e,t){return(t-e)/tr}),(function(e){return e.getHours()})),fr=ur;ur.range;var pr=Bn((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*er)/nr),(e=>e.getDate()-1)),hr=pr;function dr(e){return Bn((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*er)/rr}))}pr.range;var mr=dr(0),gr=dr(1),yr=dr(2),vr=dr(3),$r=dr(4),xr=dr(5),br=dr(6);mr.range,gr.range,yr.range,vr.range,$r.range,xr.range,br.range;var wr=Bn((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),_r=wr;wr.range;var kr=Bn((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));kr.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Bn((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var Tr=kr;kr.range;var Mr=Bn((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/nr}),(function(e){return e.getUTCDate()-1})),Cr=Mr;function zr(e){return Bn((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/rr}))}Mr.range;var Nr=zr(0),Sr=zr(1),Dr=zr(2),jr=zr(3),Ar=zr(4),qr=zr(5),Lr=zr(6);Nr.range,Sr.range,Dr.range,jr.range,Ar.range,qr.range,Lr.range;var Er=Bn((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));Er.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Bn((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var Yr=Er;Er.range;const[Kr,Rr]=function(e,t,n,r,o,i){const s=[[ar,1,Qn],[ar,5,5e3],[ar,15,15e3],[ar,30,3e4],[i,1,er],[i,5,3e5],[i,15,9e5],[i,30,18e5],[o,1,tr],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,nr],[r,2,1728e5],[n,1,rr],[t,1,or],[t,3,7776e6],[e,1,ir]];function a(t,n,r){const o=Math.abs(n-t)/r,i=Ue((([,,e])=>e)).right(s,o);if(i===s.length)return e.every(nt(t/ir,n/ir,r));if(0===i)return Zn.every(Math.max(nt(t,n,r),1));const[a,l]=s[o/s[i-1][2]<s[i][2]/o?i-1:i];return a.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const o=n&&"function"==typeof n.range?n:a(e,t,n),i=o?o.range(e,+t+1):[];return r?i.reverse():i},a]}(Tr,_r,mr,hr,fr,cr);function Ur(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fr(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pr(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Hr,Ir,Or={"-":"",_:" ",0:"0"},Wr=/^\s*\d+/,Gr=/^%/,Xr=/[\\^$*+?|[\]().{}]/g;function Vr(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function Br(e){return e.replace(Xr,"\\$&")}function Jr(e){return new RegExp("^(?:"+e.map(Br).join("|")+")","i")}function Zr(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function Qr(e,t,n){var r=Wr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function eo(e,t,n){var r=Wr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function to(e,t,n){var r=Wr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function no(e,t,n){var r=Wr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ro(e,t,n){var r=Wr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function oo(e,t,n){var r=Wr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function io(e,t,n){var r=Wr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function so(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ao(e,t,n){var r=Wr.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function lo(e,t,n){var r=Wr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function co(e,t,n){var r=Wr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function uo(e,t,n){var r=Wr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function fo(e,t,n){var r=Wr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function po(e,t,n){var r=Wr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ho(e,t,n){var r=Wr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function mo(e,t,n){var r=Wr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function go(e,t,n){var r=Wr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yo(e,t,n){var r=Gr.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function vo(e,t,n){var r=Wr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function $o(e,t,n){var r=Wr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function xo(e,t){return Vr(e.getDate(),t,2)}function bo(e,t){return Vr(e.getHours(),t,2)}function wo(e,t){return Vr(e.getHours()%12||12,t,2)}function _o(e,t){return Vr(1+hr.count(Tr(e),e),t,3)}function ko(e,t){return Vr(e.getMilliseconds(),t,3)}function To(e,t){return ko(e,t)+"000"}function Mo(e,t){return Vr(e.getMonth()+1,t,2)}function Co(e,t){return Vr(e.getMinutes(),t,2)}function zo(e,t){return Vr(e.getSeconds(),t,2)}function No(e){var t=e.getDay();return 0===t?7:t}function So(e,t){return Vr(mr.count(Tr(e)-1,e),t,2)}function Do(e){var t=e.getDay();return t>=4||0===t?$r(e):$r.ceil(e)}function jo(e,t){return e=Do(e),Vr($r.count(Tr(e),e)+(4===Tr(e).getDay()),t,2)}function Ao(e){return e.getDay()}function qo(e,t){return Vr(gr.count(Tr(e)-1,e),t,2)}function Lo(e,t){return Vr(e.getFullYear()%100,t,2)}function Eo(e,t){return Vr((e=Do(e)).getFullYear()%100,t,2)}function Yo(e,t){return Vr(e.getFullYear()%1e4,t,4)}function Ko(e,t){var n=e.getDay();return Vr((e=n>=4||0===n?$r(e):$r.ceil(e)).getFullYear()%1e4,t,4)}function Ro(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Vr(t/60|0,"0",2)+Vr(t%60,"0",2)}function Uo(e,t){return Vr(e.getUTCDate(),t,2)}function Fo(e,t){return Vr(e.getUTCHours(),t,2)}function Po(e,t){return Vr(e.getUTCHours()%12||12,t,2)}function Ho(e,t){return Vr(1+Cr.count(Yr(e),e),t,3)}function Io(e,t){return Vr(e.getUTCMilliseconds(),t,3)}function Oo(e,t){return Io(e,t)+"000"}function Wo(e,t){return Vr(e.getUTCMonth()+1,t,2)}function Go(e,t){return Vr(e.getUTCMinutes(),t,2)}function Xo(e,t){return Vr(e.getUTCSeconds(),t,2)}function Vo(e){var t=e.getUTCDay();return 0===t?7:t}function Bo(e,t){return Vr(Nr.count(Yr(e)-1,e),t,2)}function Jo(e){var t=e.getUTCDay();return t>=4||0===t?Ar(e):Ar.ceil(e)}function Zo(e,t){return e=Jo(e),Vr(Ar.count(Yr(e),e)+(4===Yr(e).getUTCDay()),t,2)}function Qo(e){return e.getUTCDay()}function ei(e,t){return Vr(Sr.count(Yr(e)-1,e),t,2)}function ti(e,t){return Vr(e.getUTCFullYear()%100,t,2)}function ni(e,t){return Vr((e=Jo(e)).getUTCFullYear()%100,t,2)}function ri(e,t){return Vr(e.getUTCFullYear()%1e4,t,4)}function oi(e,t){var n=e.getUTCDay();return Vr((e=n>=4||0===n?Ar(e):Ar.ceil(e)).getUTCFullYear()%1e4,t,4)}function ii(){return"+0000"}function si(){return"%"}function ai(e){return+e}function li(e){return Math.floor(+e/1e3)}function ci(e){return new Date(e)}function ui(e){return e instanceof Date?+e:+new Date(+e)}function fi(e,t,n,r,o,i,s,a,l,c){var u=mn(),f=u.invert,p=u.domain,h=c(".%L"),d=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),$=c("%B"),x=c("%Y");function b(e){return(l(e)<e?h:a(e)<e?d:s(e)<e?m:i(e)<e?g:r(e)<e?o(e)<e?y:v:n(e)<e?$:x)(e)}return u.invert=function(e){return new Date(f(e))},u.domain=function(e){return arguments.length?p(Array.from(e,ui)):p().map(ci)},u.ticks=function(t){var n=p();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?b:c(t)},u.nice=function(e){var n=p();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?p(qn(n,e)):u},u.copy=function(){return hn(u,fi(e,t,n,r,o,i,s,a,l,c))},u}function pi(){return it.apply(fi(Kr,Rr,Tr,_r,mr,hr,fr,cr,ar,Ir).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function di(){var e,t,n,r,o,i,s,a=0,l=.5,c=1,u=1,f=cn,p=!1;function h(e){return isNaN(e=+e)?s:(e=.5+((e=+i(e))-t)*(u*e<u*t?r:o),f(p?Math.max(0,Math.min(1,e)):e))}function d(e){return function(t){var n,r,o;return arguments.length?([n,r,o]=t,f=sn(e,[n,r,o]),h):[f(0),f(.5),f(1)]}}return h.domain=function(s){return arguments.length?([a,l,c]=s,e=i(a=+a),t=i(l=+l),n=i(c=+c),r=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),u=t<e?-1:1,h):[a,l,c]},h.clamp=function(e){return arguments.length?(p=!!e,h):p},h.interpolator=function(e){return arguments.length?(f=e,h):f},h.range=d(rn),h.rangeRound=d(on),h.unknown=function(e){return arguments.length?(s=e,h):s},function(s){return i=s,e=s(a),t=s(l),n=s(c),r=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),u=t<e?-1:1,h}}function mi(){var e=jn(di()(cn));return e.copy=function(){return hi(e,mi())},st.apply(e,arguments)}function gi(e){let t,n;const r=e[7].default,o=l(r,e,e[6],null);return{c(){t=x("div"),o&&o.c(),M(t,"class","step-container svelte-1j0zugt")},m(r,i){y(r,t,i),o&&o.m(t,null),e[8](t),n=!0},p(e,[t]){o&&o.p&&(!n||64&t)&&f(o,r,e,e[6],n?u(r,e[6],t,null):p(e[6]),null)},i(e){n||(ee(o,e),n=!0)},o(e){te(o,e),n=!1},d(n){n&&v(t),o&&o.d(n),e[8](null)}}}function yi(e,t,n){let{$$slots:r={},$$scope:o}=t,{root:i=null}=t,{top:s=0}=t,{bottom:a=0}=t,{increments:l=100}=t,{value:c}=t;const u=[],f=[];let p,h=[],d=[];const m=()=>{h.length&&h.forEach(g)},g=(e,t)=>{const r={root:i,rootMargin:`${s?-1*s:0}px 0px ${a?-1*a:0}px 0px`,threshold:f};d[t]&&d[t].disconnect();const o=new IntersectionObserver((e=>{e[0].isIntersecting;const r=e[0].intersectionRatio;u[t]=r,(()=>{let e=0,t=0;for(let n=0;n<u.length;n++)u[n]>e&&(e=u[n],t=n);n(1,c=e>0?t:void 0)})()}),r);o.observe(e),d[t]=o};return E((()=>{for(let e=0;e<l+1;e++)f.push(e/l);h=p.querySelectorAll(":scope > .step"),m()})),e.$$set=e=>{"root"in e&&n(2,i=e.root),"top"in e&&n(3,s=e.top),"bottom"in e&&n(4,a=e.bottom),"increments"in e&&n(5,l=e.increments),"value"in e&&n(1,c=e.value),"$$scope"in e&&n(6,o=e.$$scope)},e.$$.update=()=>{24&e.$$.dirty&&m()},[p,c,i,s,a,l,o,r,function(e){U[e?"unshift":"push"]((()=>{p=e,n(0,p)}))}]}!function(e){Hr=function(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=Jr(o),u=Zr(o),f=Jr(i),p=Zr(i),h=Jr(s),d=Zr(s),m=Jr(a),g=Zr(a),y=Jr(l),v=Zr(l),$={a:function(e){return s[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:null,d:xo,e:xo,f:To,g:Eo,G:Ko,H:bo,I:wo,j:_o,L:ko,m:Mo,M:Co,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:ai,s:li,S:zo,u:No,U:So,V:jo,w:Ao,W:qo,x:null,X:null,y:Lo,Y:Yo,Z:Ro,"%":si},x={a:function(e){return s[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return a[e.getUTCMonth()]},c:null,d:Uo,e:Uo,f:Oo,g:ni,G:oi,H:Fo,I:Po,j:Ho,L:Io,m:Wo,M:Go,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:ai,s:li,S:Xo,u:Vo,U:Bo,V:Zo,w:Qo,W:ei,x:null,X:null,y:ti,Y:ri,Z:ii,"%":si},b={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:co,e:co,f:go,g:io,G:oo,H:fo,I:fo,j:uo,L:mo,m:lo,M:po,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:ao,Q:vo,s:$o,S:ho,u:eo,U:to,V:no,w:Qr,W:ro,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:io,Y:oo,Z:so,"%":yo};function w(e,t){return function(n){var r,o,i,s=[],a=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===e.charCodeAt(a)&&(s.push(e.slice(l,a)),null!=(o=Or[r=e.charAt(++a)])?r=e.charAt(++a):o="e"===r?" ":"0",(i=t[r])&&(r=i(n,o)),s.push(r),l=a+1);return s.push(e.slice(l,a)),s.join("")}}function _(e,t){return function(n){var r,o,i=Pr(1900,void 0,1);if(k(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=Fr(Pr(i.y,0,1))).getUTCDay(),r=o>4||0===o?Sr.ceil(r):Sr(r),r=Cr.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=Ur(Pr(i.y,0,1))).getDay(),r=o>4||0===o?gr.ceil(r):gr(r),r=hr.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?Fr(Pr(i.y,0,1)).getUTCDay():Ur(Pr(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Fr(i)):Ur(i)}}function k(e,t,n,r){for(var o,i,s=0,a=t.length,l=n.length;s<a;){if(r>=l)return-1;if(37===(o=t.charCodeAt(s++))){if(o=t.charAt(s++),!(i=b[o in Or?t.charAt(s++):o])||(r=i(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return $.x=w(n,$),$.X=w(r,$),$.c=w(t,$),x.x=w(n,x),x.X=w(r,x),x.c=w(t,x),{format:function(e){var t=w(e+="",$);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}}}(e),Ir=Hr.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});class vi extends ae{constructor(e){super(),se(this,e,yi,gi,i,{root:2,top:3,bottom:4,increments:5,value:1})}}const $i=[];function xi(t,n=e){let r;const o=new Set;function s(e){if(i(t,e)&&(t=e,r)){const e=!$i.length;for(const e of o)e[1](),$i.push(e,t);if(e){for(let e=0;e<$i.length;e+=2)$i[e][0]($i[e+1]);$i.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(i,a=e){const l=[i,a];return o.add(l),1===o.size&&(r=n(s)||e),i(t),()=>{o.delete(l),0===o.size&&(r(),r=null)}}}}function bi(t,n,i){const a=!Array.isArray(t),l=a?[t]:t,c=n.length<2;return u=t=>{let i=!1;const u=[];let f=0,p=e;const h=()=>{if(f)return;p();const r=n(a?u[0]:u,t);c?t(r):p=o(r)?r:e},d=l.map(((e,t)=>s(e,(e=>{u[t]=e,f&=~(1<<t),i&&h()}),(()=>{f|=1<<t}))));return i=!0,h(),function(){r(d),p()}},{subscribe:xi(i,u).subscribe};var u}function wi(e){return 0===(t=e)||t?Array.isArray(e)?t=>e.map((e=>"function"!=typeof e?t[e]:e(t))):"function"!=typeof e?t=>t[e]:e:null;var t}function _i(e,t={}){return function(e){const t={};for(const n of e){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:e,1:r}=n;Object.defineProperty(t,e,{configurable:!0,enumerable:!0,writable:!0,value:r})}return t}(Object.entries(e).filter((([e,n])=>void 0!==n&&void 0===t[e])))}function ki(e,t){if(!Array.isArray(e))throw new TypeError("The first argument of calcExtents() must be an array. If you got this error using the <LayerCake> component, consider passing a flat array to the `flatData` prop. More info: https://layercake.graphics/guide/#flatdata");if(Array.isArray(t)||null==t)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(t),o=r.length;let i,s,a,l,c,u,f,p;const h=e.length;for(i=0;i<o;i+=1){for(l=r[i],f=t[l],c=null,u=null,s=0;s<h;s+=1)if(p=f(e[s]),Array.isArray(p)){const e=p.length;for(a=0;a<e;a+=1)void 0!==p[a]&&null!==p[a]&&!1===Number.isNaN(p[a])&&((null===c||p[a]<c)&&(c=p[a]),(null===u||p[a]>u)&&(u=p[a]))}else null!=p&&!1===Number.isNaN(p)&&((null===c||p<c)&&(c=p),(null===u||p>u)&&(u=p));n[l]=[c,u]}return n}function Ti(e=[],t){return!0===Array.isArray(t)?t.map(((t,n)=>null===t?e[n]:t)):e}function Mi(e){return function([t,n]){return t?Ti(t[e],n):n}}var Ci={x:An,y:An,z:An,r:function(){return Gn.apply(null,arguments).exponent(.5)}};function zi(e){return e}function Ni(e){return t=>Math.log(e*t)}function Si(e){return t=>e*Math.exp(t)}function Di(e){return t=>Math.sign(t)*Math.log1p(Math.abs(t/e))}function ji(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function Ai(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qi(e,t){if("function"!=typeof e.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof e.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t))return e.domain();2!==e.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",e.domain()),2!==e.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",e.range());const{lift:n,ground:r}=function(e){const t=function(e){return e.constant?"symlog":e.base?"log":e.exponent?.5===e.exponent()?"sqrt":"pow":"other"}(e);if("log"===t){const n=Math.sign(e.domain()[0]);return{lift:Ni(n),ground:Si(n),scaleType:t}}if("pow"===t){const e=1;return{lift:Ai(e),ground:Ai(1/e),scaleType:t}}if("sqrt"===t){const e=.5;return{lift:Ai(e),ground:Ai(1/e),scaleType:t}}if("symlog"===t){const e=1;return{lift:Di(e),ground:ji(e),scaleType:t}}return{lift:zi,ground:zi,scaleType:t}}(e),o=e.domain()[0],i="[object Date]"===Object.prototype.toString.call(o),[s,a]=e.domain().map((e=>n(i?e.getTime():e))),[l,c]=e.range(),u=t[0]||0,f=t[1]||0,p=(a-s)/(Math.abs(c-l)-u-f);return[s-u*p,f*p+a].map((e=>r(i?new Date(e):e)))}function Li(e){return function([t,n,r,o,i,s,a,l,c,u]){if(null===n)return null;const f=function(e,t,n,r,o,i){return o?"function"==typeof o?o({width:t,height:n}):o:function(e,t,n,r,o){let i,s;return!0===o?(i=0,s=100):(i="r"===e?1:0,s="y"===e?n:"r"===e?25:t),!0===r?[s,i]:[i,s]}(e,t,n,r,i)}(e,a,l,s,c,u),p=t===Ci[e]?t():t.copy();return p.domain(Ti(n[e],r)).range(f),o&&p.domain(qi(p,o)),!0===i&&("function"==typeof p.nice?p.nice():console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),p}}function Ei([e,t]){return n=>{const r=e(n);return Array.isArray(r)?r.map((e=>t(e))):t(r)}}function Yi([e]){if("function"==typeof e){if("function"==typeof e.range)return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var Ki={x:!1,y:!0,z:!1,r:!1};const Ri=e=>({element:4&e[0],width:256&e[0],height:512&e[0],aspectRatio:1024&e[0],containerWidth:128&e[0],containerHeight:64&e[0]}),Ui=e=>({element:e[2],width:e[8],height:e[9],aspectRatio:e[10],containerWidth:e[7],containerHeight:e[6]});function Fi(e){let t,n,r;const o=e[90].default,i=l(o,e,e[89],Ui);return{c(){t=x("div"),i&&i.c(),M(t,"class","layercake-container svelte-1ll0j6t"),O((()=>e[92].call(t))),z(t,"position",e[5],!1),z(t,"top","absolute"===e[5]?"0":null,!1),z(t,"right","absolute"===e[5]?"0":null,!1),z(t,"bottom","absolute"===e[5]?"0":null,!1),z(t,"left","absolute"===e[5]?"0":null,!1),z(t,"pointer-events",!1===e[4]?"none":null,!1)},m(o,s){y(o,t,s),i&&i.m(t,null),e[91](t),n=function(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=x("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=j();let o;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=T(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{o=T(n.contentWindow,"resize",t)}),g(e,n),()=>{(r||o&&n.contentWindow)&&o(),v(n)}}(t,e[92].bind(t)),r=!0},p(e,n){i&&i.p&&(!r||1988&n[0]|134217728&n[2])&&f(i,o,e,e[89],r?u(o,e[89],n,Ri):p(e[89]),Ui),32&n[0]&&z(t,"position",e[5],!1),32&n[0]&&z(t,"top","absolute"===e[5]?"0":null,!1),32&n[0]&&z(t,"right","absolute"===e[5]?"0":null,!1),32&n[0]&&z(t,"bottom","absolute"===e[5]?"0":null,!1),32&n[0]&&z(t,"left","absolute"===e[5]?"0":null,!1),16&n[0]&&z(t,"pointer-events",!1===e[4]?"none":null,!1)},i(e){r||(ee(i,e),r=!0)},o(e){te(i,e),r=!1},d(r){r&&v(t),i&&i.d(r),e[91](null),n()}}}function Pi(e){let t,n,r=(!0===e[3]||"undefined"!=typeof window)&&Fi(e);return{c(){r&&r.c(),t=k()},m(e,o){r&&r.m(e,o),y(e,t,o),n=!0},p(e,n){!0===e[3]||"undefined"!=typeof window?r?(r.p(e,n),8&n[0]&&ee(r,1)):(r=Fi(e),r.c(),ee(r,1),r.m(t.parentNode,t)):r&&(Z(),te(r,1,1,(()=>{r=null})),Q())},i(e){n||(ee(r),n=!0)},o(e){te(r),n=!1},d(e){r&&r.d(e),e&&v(t)}}}function Hi(e,t,n){let r,o,i,s,l,c,u,f,p,h,m,g,y,v,$,x,b,w,_,k,T,M,C,z,N,S,D,j,A,q,Y,K,R,F,P,H,I,O,W,G,X,{$$slots:V={},$$scope:B}=t,{ssr:J=!1}=t,{pointerEvents:Z=!0}=t,{position:Q="relative"}=t,{percentRange:ee=!1}=t,{width:te}=t,{height:ne}=t,{containerWidth:re=te||100}=t,{containerHeight:oe=ne||100}=t,{element:ie}=t,{x:se}=t,{y:ae}=t,{z:le}=t,{r:ce}=t,{data:ue=[]}=t,{xDomain:fe}=t,{yDomain:pe}=t,{zDomain:he}=t,{rDomain:de}=t,{xNice:me=!1}=t,{yNice:ge=!1}=t,{zNice:ye=!1}=t,{rNice:ve=!1}=t,{xReverse:$e=Ki.x}=t,{yReverse:xe=Ki.y}=t,{zReverse:be=Ki.z}=t,{rReverse:we=Ki.r}=t,{xPadding:_e}=t,{yPadding:ke}=t,{zPadding:Te}=t,{rPadding:Me}=t,{xScale:Ce=Ci.x}=t,{yScale:ze=Ci.y}=t,{zScale:Ne=Ci.z}=t,{rScale:Se=Ci.r}=t,{xRange:De}=t,{yRange:je}=t,{zRange:Ae}=t,{rRange:qe}=t,{padding:Le={}}=t,{extents:Ee={}}=t,{flatData:Ye}=t,{custom:Ke={}}=t,Re=!1;E((()=>{Re=!0}));const Ue={},Fe=xi(ee);a(e,Fe,(e=>n(128,O=e)));const Pe=xi(re);a(e,Pe,(e=>n(7,I=e)));const He=xi(oe);a(e,He,(e=>n(6,H=e)));const Ie=xi(_i(Ee));a(e,Ie,(e=>n(127,P=e)));const Oe=xi(ue);a(e,Oe,(e=>n(126,F=e)));const We=xi(Ye||ue);a(e,We,(e=>n(125,R=e)));const Ge=xi(Le);a(e,Ge,(e=>n(124,K=e)));const Xe=xi(wi(se));a(e,Xe,(e=>n(123,Y=e)));const Ve=xi(wi(ae));a(e,Ve,(e=>n(122,q=e)));const Be=xi(wi(le));a(e,Be,(e=>n(121,A=e)));const Je=xi(wi(ce));a(e,Je,(e=>n(120,j=e)));const Ze=xi(fe);a(e,Ze,(e=>n(119,D=e)));const Qe=xi(pe);a(e,Qe,(e=>n(118,S=e)));const et=xi(he);a(e,et,(e=>n(117,N=e)));const tt=xi(de);a(e,tt,(e=>n(116,z=e)));const nt=xi(me);a(e,nt,(e=>n(115,C=e)));const rt=xi(ge);a(e,rt,(e=>n(114,M=e)));const ot=xi(ye);a(e,ot,(e=>n(113,T=e)));const it=xi(ve);a(e,it,(e=>n(112,k=e)));const st=xi($e);a(e,st,(e=>n(111,_=e)));const at=xi(xe);a(e,at,(e=>n(110,w=e)));const lt=xi(be);a(e,lt,(e=>n(109,b=e)));const ct=xi(we);a(e,ct,(e=>n(108,x=e)));const ut=xi(_e);a(e,ut,(e=>n(107,$=e)));const ft=xi(ke);a(e,ft,(e=>n(106,v=e)));const pt=xi(Te);a(e,pt,(e=>n(105,y=e)));const ht=xi(Me);a(e,ht,(e=>n(104,g=e)));const dt=xi(De);a(e,dt,(e=>n(103,m=e)));const mt=xi(je);a(e,mt,(e=>n(102,h=e)));const gt=xi(Ae);a(e,gt,(e=>n(101,p=e)));const yt=xi(qe);a(e,yt,(e=>n(100,f=e)));const vt=xi(Ce);a(e,vt,(e=>n(99,u=e)));const $t=xi(ze);a(e,$t,(e=>n(98,c=e)));const xt=xi(Ne);a(e,xt,(e=>n(97,l=e)));const bt=xi(Se);a(e,bt,(e=>n(96,s=e)));const wt=xi(Ue);a(e,wt,(e=>n(94,o=e)));const _t=xi(Ke);a(e,_t,(e=>n(95,i=e)));const kt=bi([Xe,Ve,Be,Je],(([e,t,n,r])=>{const o={};return e&&(o.x=e),t&&(o.y=t),n&&(o.z=n),r&&(o.r=r),o})),Tt=bi([Ge,Pe,He],(([e])=>Object.assign({top:0,right:0,bottom:0,left:0},e))),Mt=bi([Pe,He,Tt],(([e,t,n])=>{const r={};return r.top=n.top,r.right=e-n.right,r.bottom=t-n.bottom,r.left=n.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&!0===Re&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&!0===Re&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),Ct=bi([Mt],(([e])=>e.width));a(e,Ct,(e=>n(8,W=e)));const zt=bi([Mt],(([e])=>e.height));a(e,zt,(e=>n(9,G=e)));const Nt=bi([We,kt,Ie],(([e,t,n])=>{const r=_i(t,n);return Object.keys(r).length>0?{...ki(e,r),...n}:{}})),St=bi([Nt,Ze],Mi("x")),Dt=bi([Nt,Qe],Mi("y")),jt=bi([Nt,et],Mi("z")),At=bi([Nt,tt],Mi("r")),qt=bi([vt,Nt,St,ut,nt,st,Ct,zt,dt,Fe],Li("x")),Lt=bi([Xe,qt],Ei),Et=bi([$t,Nt,Dt,ft,rt,at,Ct,zt,mt,Fe],Li("y")),Yt=bi([Ve,Et],Ei),Kt=bi([xt,Nt,jt,pt,ot,lt,Ct,zt,gt,Fe],Li("z")),Rt=bi([Be,Kt],Ei),Ut=bi([bt,Nt,At,ht,it,ct,Ct,zt,yt,Fe],Li("r")),Ft=bi([Je,Ut],Ei),Pt=bi([qt],Yi),Ht=bi([Et],Yi),It=bi([Kt],Yi),Ot=bi([Ut],Yi),Wt=bi([Ct,zt],(([e,t])=>e/t));return a(e,Wt,(e=>n(10,X=e))),e.$$set=e=>{"ssr"in e&&n(3,J=e.ssr),"pointerEvents"in e&&n(4,Z=e.pointerEvents),"position"in e&&n(5,Q=e.position),"percentRange"in e&&n(51,ee=e.percentRange),"width"in e&&n(52,te=e.width),"height"in e&&n(53,ne=e.height),"containerWidth"in e&&n(0,re=e.containerWidth),"containerHeight"in e&&n(1,oe=e.containerHeight),"element"in e&&n(2,ie=e.element),"x"in e&&n(54,se=e.x),"y"in e&&n(55,ae=e.y),"z"in e&&n(56,le=e.z),"r"in e&&n(57,ce=e.r),"data"in e&&n(58,ue=e.data),"xDomain"in e&&n(59,fe=e.xDomain),"yDomain"in e&&n(60,pe=e.yDomain),"zDomain"in e&&n(61,he=e.zDomain),"rDomain"in e&&n(62,de=e.rDomain),"xNice"in e&&n(63,me=e.xNice),"yNice"in e&&n(64,ge=e.yNice),"zNice"in e&&n(65,ye=e.zNice),"rNice"in e&&n(66,ve=e.rNice),"xReverse"in e&&n(67,$e=e.xReverse),"yReverse"in e&&n(68,xe=e.yReverse),"zReverse"in e&&n(69,be=e.zReverse),"rReverse"in e&&n(70,we=e.rReverse),"xPadding"in e&&n(71,_e=e.xPadding),"yPadding"in e&&n(72,ke=e.yPadding),"zPadding"in e&&n(73,Te=e.zPadding),"rPadding"in e&&n(74,Me=e.rPadding),"xScale"in e&&n(75,Ce=e.xScale),"yScale"in e&&n(76,ze=e.yScale),"zScale"in e&&n(77,Ne=e.zScale),"rScale"in e&&n(78,Se=e.rScale),"xRange"in e&&n(79,De=e.xRange),"yRange"in e&&n(80,je=e.yRange),"zRange"in e&&n(81,Ae=e.zRange),"rRange"in e&&n(82,qe=e.rRange),"padding"in e&&n(83,Le=e.padding),"extents"in e&&n(84,Ee=e.extents),"flatData"in e&&n(85,Ye=e.flatData),"custom"in e&&n(86,Ke=e.custom),"$$scope"in e&&n(89,B=e.$$scope)},e.$$.update=()=>{8388608&e.$$.dirty[1]&&se&&n(87,Ue.x=se,Ue),16777216&e.$$.dirty[1]&&ae&&n(87,Ue.y=ae,Ue),33554432&e.$$.dirty[1]&&le&&n(87,Ue.z=le,Ue),67108864&e.$$.dirty[1]&&ce&&n(87,Ue.r=ce,Ue),268435456&e.$$.dirty[1]&&fe&&n(87,Ue.xDomain=fe,Ue),536870912&e.$$.dirty[1]&&pe&&n(87,Ue.yDomain=pe,Ue),1073741824&e.$$.dirty[1]&&he&&n(87,Ue.zDomain=he,Ue),1&e.$$.dirty[2]&&de&&n(87,Ue.rDomain=de,Ue),131072&e.$$.dirty[2]&&De&&n(87,Ue.xRange=De,Ue),262144&e.$$.dirty[2]&&je&&n(87,Ue.yRange=je,Ue),524288&e.$$.dirty[2]&&Ae&&n(87,Ue.zRange=Ae,Ue),1048576&e.$$.dirty[2]&&qe&&n(87,Ue.rRange=qe,Ue),1048576&e.$$.dirty[1]&&d(Fe,O=ee,O),1&e.$$.dirty[0]&&d(Pe,I=re,I),2&e.$$.dirty[0]&&d(He,H=oe,H),4194304&e.$$.dirty[2]&&d(Ie,P=_i(Ee),P),134217728&e.$$.dirty[1]&&d(Oe,F=ue,F),134217728&e.$$.dirty[1]|8388608&e.$$.dirty[2]&&d(We,R=Ye||ue,R),2097152&e.$$.dirty[2]&&d(Ge,K=Le,K),8388608&e.$$.dirty[1]&&d(Xe,Y=wi(se),Y),16777216&e.$$.dirty[1]&&d(Ve,q=wi(ae),q),33554432&e.$$.dirty[1]&&d(Be,A=wi(le),A),67108864&e.$$.dirty[1]&&d(Je,j=wi(ce),j),268435456&e.$$.dirty[1]&&d(Ze,D=fe,D),536870912&e.$$.dirty[1]&&d(Qe,S=pe,S),1073741824&e.$$.dirty[1]&&d(et,N=he,N),1&e.$$.dirty[2]&&d(tt,z=de,z),2&e.$$.dirty[2]&&d(nt,C=me,C),4&e.$$.dirty[2]&&d(rt,M=ge,M),8&e.$$.dirty[2]&&d(ot,T=ye,T),16&e.$$.dirty[2]&&d(it,k=ve,k),32&e.$$.dirty[2]&&d(st,_=$e,_),64&e.$$.dirty[2]&&d(at,w=xe,w),128&e.$$.dirty[2]&&d(lt,b=be,b),256&e.$$.dirty[2]&&d(ct,x=we,x),512&e.$$.dirty[2]&&d(ut,$=_e,$),1024&e.$$.dirty[2]&&d(ft,v=ke,v),2048&e.$$.dirty[2]&&d(pt,y=Te,y),4096&e.$$.dirty[2]&&d(ht,g=Me,g),131072&e.$$.dirty[2]&&d(dt,m=De,m),262144&e.$$.dirty[2]&&d(mt,h=je,h),524288&e.$$.dirty[2]&&d(gt,p=Ae,p),1048576&e.$$.dirty[2]&&d(yt,f=qe,f),8192&e.$$.dirty[2]&&d(vt,u=Ce,u),16384&e.$$.dirty[2]&&d($t,c=ze,c),32768&e.$$.dirty[2]&&d(xt,l=Ne,l),65536&e.$$.dirty[2]&&d(bt,s=Se,s),16777216&e.$$.dirty[2]&&d(_t,i=Ke,i),33554432&e.$$.dirty[2]&&d(wt,o=Ue,o),67108864&e.$$.dirty[2]&&function(e,t){L().$$.context.set(e,t)}("LayerCake",r)},n(88,r={activeGetters:kt,width:Ct,height:zt,percentRange:Fe,aspectRatio:Wt,containerWidth:Pe,containerHeight:He,x:Xe,y:Ve,z:Be,r:Je,custom:_t,data:Oe,xNice:nt,yNice:rt,zNice:ot,rNice:it,xReverse:st,yReverse:at,zReverse:lt,rReverse:ct,xPadding:ut,yPadding:ft,zPadding:pt,rPadding:ht,padding:Tt,flatData:We,extents:Nt,xDomain:St,yDomain:Dt,zDomain:jt,rDomain:At,xRange:Pt,yRange:Ht,zRange:It,rRange:Ot,config:wt,xScale:qt,xGet:Lt,yScale:Et,yGet:Yt,zScale:Kt,zGet:Rt,rScale:Ut,rGet:Ft}),[re,oe,ie,J,Z,Q,H,I,W,G,X,Fe,Pe,He,Ie,Oe,We,Ge,Xe,Ve,Be,Je,Ze,Qe,et,tt,nt,rt,ot,it,st,at,lt,ct,ut,ft,pt,ht,dt,mt,gt,yt,vt,$t,xt,bt,wt,_t,Ct,zt,Wt,ee,te,ne,se,ae,le,ce,ue,fe,pe,he,de,me,ge,ye,ve,$e,xe,be,we,_e,ke,Te,Me,Ce,ze,Ne,Se,De,je,Ae,qe,Le,Ee,Ye,Ke,Ue,r,B,V,function(e){U[e?"unshift":"push"]((()=>{ie=e,n(2,ie)}))},function(){re=this.clientWidth,oe=this.clientHeight,n(0,re),n(1,oe)}]}class Ii extends ae{constructor(e){super(),se(this,e,Hi,Pi,i,{ssr:3,pointerEvents:4,position:5,percentRange:51,width:52,height:53,containerWidth:0,containerHeight:1,element:2,x:54,y:55,z:56,r:57,data:58,xDomain:59,yDomain:60,zDomain:61,rDomain:62,xNice:63,yNice:64,zNice:65,rNice:66,xReverse:67,yReverse:68,zReverse:69,rReverse:70,xPadding:71,yPadding:72,zPadding:73,rPadding:74,xScale:75,yScale:76,zScale:77,rScale:78,xRange:79,yRange:80,zRange:81,rRange:82,padding:83,extents:84,flatData:85,custom:86},null,[-1,-1,-1,-1,-1])}}const Oi=e=>({element:1&e}),Wi=e=>({element:e[0]});function Gi(e){let t,n;const r=e[6].default,o=l(r,e,e[5],Wi);return{c(){t=x("div"),o&&o.c(),M(t,"class","layercake-layout-html svelte-1u9nfei"),z(t,"z-index",e[1],!1),z(t,"pointer-events",!1===e[2]?"none":null,!1),z(t,"top",e[3].top+"px",!1),z(t,"right",e[3].right+"px",!1),z(t,"bottom",e[3].bottom+"px",!1),z(t,"left",e[3].left+"px",!1)},m(r,i){y(r,t,i),o&&o.m(t,null),e[7](t),n=!0},p(e,[i]){o&&o.p&&(!n||33&i)&&f(o,r,e,e[5],n?u(r,e[5],i,Oi):p(e[5]),Wi),2&i&&z(t,"z-index",e[1],!1),4&i&&z(t,"pointer-events",!1===e[2]?"none":null,!1),8&i&&z(t,"top",e[3].top+"px",!1),8&i&&z(t,"right",e[3].right+"px",!1),8&i&&z(t,"bottom",e[3].bottom+"px",!1),8&i&&z(t,"left",e[3].left+"px",!1)},i(e){n||(ee(o,e),n=!0)},o(e){te(o,e),n=!1},d(n){n&&v(t),o&&o.d(n),e[7](null)}}}function Xi(e,t,n){let r,{$$slots:o={},$$scope:i}=t,{element:s}=t,{zIndex:l}=t,{pointerEvents:c}=t;const{padding:u}=K("LayerCake");return a(e,u,(e=>n(3,r=e))),e.$$set=e=>{"element"in e&&n(0,s=e.element),"zIndex"in e&&n(1,l=e.zIndex),"pointerEvents"in e&&n(2,c=e.pointerEvents),"$$scope"in e&&n(5,i=e.$$scope)},[s,l,c,r,u,i,o,function(e){U[e?"unshift":"push"]((()=>{s=e,n(0,s)}))}]}class Vi extends ae{constructor(e){super(),se(this,e,Xi,Gi,i,{element:0,zIndex:1,pointerEvents:2})}}const Bi=e=>({element:1&e}),Ji=e=>({element:e[0]}),Zi=e=>({element:1&e}),Qi=e=>({element:e[0]});function es(e){let t,n,r,o,i;const s=e[12].defs,a=l(s,e,e[11],Qi),c=e[12].default,h=l(c,e,e[11],Ji);return{c(){t=b("svg"),n=b("defs"),a&&a.c(),r=b("g"),h&&h.c(),M(r,"class","layercake-layout-svg_g"),M(r,"transform",o="translate("+e[7].left+", "+e[7].top+")"),M(t,"class","layercake-layout-svg svelte-17l4rdd"),M(t,"viewBox",e[4]),M(t,"width",e[5]),M(t,"height",e[6]),z(t,"z-index",e[2],!1),z(t,"pointer-events",!1===e[3]?"none":null,!1)},m(o,s){y(o,t,s),g(t,n),a&&a.m(n,null),g(t,r),h&&h.m(r,null),e[13](r),e[14](t),i=!0},p(e,[n]){a&&a.p&&(!i||2049&n)&&f(a,s,e,e[11],i?u(s,e[11],n,Zi):p(e[11]),Qi),h&&h.p&&(!i||2049&n)&&f(h,c,e,e[11],i?u(c,e[11],n,Bi):p(e[11]),Ji),(!i||128&n&&o!==(o="translate("+e[7].left+", "+e[7].top+")"))&&M(r,"transform",o),(!i||16&n)&&M(t,"viewBox",e[4]),(!i||32&n)&&M(t,"width",e[5]),(!i||64&n)&&M(t,"height",e[6]),4&n&&z(t,"z-index",e[2],!1),8&n&&z(t,"pointer-events",!1===e[3]?"none":null,!1)},i(e){i||(ee(a,e),ee(h,e),i=!0)},o(e){te(a,e),te(h,e),i=!1},d(n){n&&v(t),a&&a.d(n),h&&h.d(n),e[13](null),e[14](null)}}}function ts(e,t,n){let r,o,i,{$$slots:s={},$$scope:l}=t,{element:c}=t,{innerElement:u}=t,{zIndex:f}=t,{pointerEvents:p}=t,{viewBox:h}=t;const{containerWidth:d,containerHeight:m,padding:g}=K("LayerCake");return a(e,d,(e=>n(5,r=e))),a(e,m,(e=>n(6,o=e))),a(e,g,(e=>n(7,i=e))),e.$$set=e=>{"element"in e&&n(0,c=e.element),"innerElement"in e&&n(1,u=e.innerElement),"zIndex"in e&&n(2,f=e.zIndex),"pointerEvents"in e&&n(3,p=e.pointerEvents),"viewBox"in e&&n(4,h=e.viewBox),"$$scope"in e&&n(11,l=e.$$scope)},[c,u,f,p,h,r,o,i,d,m,g,l,s,function(e){U[e?"unshift":"push"]((()=>{u=e,n(1,u)}))},function(e){U[e?"unshift":"push"]((()=>{c=e,n(0,c)}))}]}class ns extends ae{constructor(e){super(),se(this,e,ts,es,i,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4})}}function rs(e){if(Array.isArray(e)&&Array.isArray(e[0])){let t=[];const n=e.length;for(let r=0;r<n;r+=1)t=t.concat(e[r]);return t}return e}function os(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,s,a,l,c,u,f,p,h=e._root,d={data:r},m=e._x0,g=e._y0,y=e._x1,v=e._y1;if(!h)return e._root=d,e;for(;h.length;)if((c=t>=(i=(m+y)/2))?m=i:y=i,(u=n>=(s=(g+v)/2))?g=s:v=s,o=h,!(h=h[f=u<<1|c]))return o[f]=d,e;if(a=+e._x.call(null,h.data),l=+e._y.call(null,h.data),t===a&&n===l)return d.next=h,o?o[f]=d:e._root=d,e;do{o=o?o[f]=new Array(4):e._root=new Array(4),(c=t>=(i=(m+y)/2))?m=i:y=i,(u=n>=(s=(g+v)/2))?g=s:v=s}while((f=u<<1|c)==(p=(l>=s)<<1|a>=i));return o[p]=h,o[f]=d,e}function is(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function ss(e){return e[0]}function as(e){return e[1]}function ls(e,t,n){var r=new cs(null==t?ss:t,null==n?as:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function cs(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function us(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var fs=ls.prototype=cs.prototype;function ps(e){return function(){return e}}function hs(e){return 1e-6*(e()-.5)}function ds(e){return e.x+e.vx}function ms(e){return e.y+e.vy}fs.copy=function(){var e,t,n=new cs(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=us(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=us(t));return n},fs.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return os(this.cover(t,n),t,n,e)},fs.addAll=function(e){var t,n,r,o,i=e.length,s=new Array(i),a=new Array(i),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=r,a[n]=o,r<l&&(l=r),r>u&&(u=r),o<c&&(c=o),o>f&&(f=o));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),n=0;n<i;++n)os(this,s[n],a[n],e[n]);return this},fs.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var s,a,l=o-n||1,c=this._root;n>e||e>=o||r>t||t>=i;)switch(a=(t<r)<<1|e<n,(s=new Array(4))[a]=c,c=s,l*=2,a){case 0:o=n+l,i=r+l;break;case 1:n=o-l,i=r+l;break;case 2:o=n+l,r=i-l;break;case 3:n=o-l,r=i-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},fs.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},fs.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},fs.find=function(e,t,n){var r,o,i,s,a,l,c,u=this._x0,f=this._y0,p=this._x1,h=this._y1,d=[],m=this._root;for(m&&d.push(new is(m,u,f,p,h)),null==n?n=1/0:(u=e-n,f=t-n,p=e+n,h=t+n,n*=n);l=d.pop();)if(!(!(m=l.node)||(o=l.x0)>p||(i=l.y0)>h||(s=l.x1)<u||(a=l.y1)<f))if(m.length){var g=(o+s)/2,y=(i+a)/2;d.push(new is(m[3],g,y,s,a),new is(m[2],o,y,g,a),new is(m[1],g,i,s,y),new is(m[0],o,i,g,y)),(c=(t>=y)<<1|e>=g)&&(l=d[d.length-1],d[d.length-1]=d[d.length-1-c],d[d.length-1-c]=l)}else{var v=e-+this._x.call(null,m.data),$=t-+this._y.call(null,m.data),x=v*v+$*$;if(x<n){var b=Math.sqrt(n=x);u=e-b,f=t-b,p=e+b,h=t+b,r=m.data}}return r},fs.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e)))return this;var t,n,r,o,i,s,a,l,c,u,f,p,h=this._root,d=this._x0,m=this._y0,g=this._x1,y=this._y1;if(!h)return this;if(h.length)for(;;){if((c=i>=(a=(d+g)/2))?d=a:g=a,(u=s>=(l=(m+y)/2))?m=l:y=l,t=h,!(h=h[f=u<<1|c]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,p=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(o=h.next)&&delete h.next,r?(o?r.next=o:delete r.next,this):t?(o?t[f]=o:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[p]=h:this._root=h),this):(this._root=o,this)},fs.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},fs.root=function(){return this._root},fs.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},fs.visit=function(e){var t,n,r,o,i,s,a=[],l=this._root;for(l&&a.push(new is(l,this._x0,this._y0,this._x1,this._y1));t=a.pop();)if(!e(l=t.node,r=t.x0,o=t.y0,i=t.x1,s=t.y1)&&l.length){var c=(r+i)/2,u=(o+s)/2;(n=l[3])&&a.push(new is(n,c,u,i,s)),(n=l[2])&&a.push(new is(n,r,u,c,s)),(n=l[1])&&a.push(new is(n,c,o,i,u)),(n=l[0])&&a.push(new is(n,r,o,c,u))}return this},fs.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new is(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var i,s=t.x0,a=t.y0,l=t.x1,c=t.y1,u=(s+l)/2,f=(a+c)/2;(i=o[0])&&n.push(new is(i,s,a,u,f)),(i=o[1])&&n.push(new is(i,u,a,l,f)),(i=o[2])&&n.push(new is(i,s,f,u,c)),(i=o[3])&&n.push(new is(i,u,f,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},fs.x=function(e){return arguments.length?(this._x=e,this):this._x},fs.y=function(e){return arguments.length?(this._y=e,this):this._y};var gs={value:()=>{}};function ys(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new vs(r)}function vs(e){this._=e}function $s(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function xs(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function bs(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=gs,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}vs.prototype=ys.prototype={constructor:vs,on:function(e,t){var n,r=this._,o=$s(e+"",r),i=-1,s=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<s;)if(n=(e=o[i]).type)r[n]=bs(r[n],e.name,t);else if(null==t)for(n in r)r[n]=bs(r[n],e.name,null);return this}for(;++i<s;)if((n=(e=o[i]).type)&&(n=xs(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new vs(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var ws,_s,ks=0,Ts=0,Ms=0,Cs=0,zs=0,Ns=0,Ss="object"==typeof performance&&performance.now?performance:Date,Ds="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function js(){return zs||(Ds(As),zs=Ss.now()+Ns)}function As(){zs=0}function qs(){this._call=this._time=this._next=null}function Ls(e,t,n){var r=new qs;return r.restart(e,t,n),r}function Es(){zs=(Cs=Ss.now())+Ns,ks=Ts=0;try{!function(){js(),++ks;for(var e,t=ws;t;)(e=zs-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ks}()}finally{ks=0,function(){var e,t,n=ws,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ws=t);_s=e,Ks(r)}(),zs=0}}function Ys(){var e=Ss.now(),t=e-Cs;t>1e3&&(Ns-=t,Cs=e)}function Ks(e){ks||(Ts&&(Ts=clearTimeout(Ts)),e-zs>24?(e<1/0&&(Ts=setTimeout(Es,e-Ss.now()-Ns)),Ms&&(Ms=clearInterval(Ms))):(Ms||(Cs=Ss.now(),Ms=setInterval(Ys,1e3)),ks=1,Ds(Es)))}qs.prototype=Ls.prototype={constructor:qs,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?js():+n)+(null==t?0:+t),this._next||_s===this||(_s?_s._next=this:ws=this,_s=this),this._call=e,this._time=n,Ks()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ks())}};const Rs=4294967296;function Us(e){return e.x}function Fs(e){return e.y}var Ps=Math.PI*(3-Math.sqrt(5));function Hs(e){var t,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,s=.6,a=new Map,l=Ls(f),c=ys("tick","end"),u=function(){let e=1;return()=>(e=(1664525*e+1013904223)%Rs)/Rs}();function f(){p(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function p(r){var l,c,u=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(i-n)*o,a.forEach((function(e){e(n)})),l=0;l<u;++l)null==(c=e[l]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var o=10*Math.sqrt(.5+n),i=n*Ps;t.x=o*Math.cos(i),t.y=o*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function d(t){return t.initialize&&t.initialize(e,u),t}return null==e&&(e=[]),h(),t={tick:p,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),a.forEach(d),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(o=+e,t):+o},alphaTarget:function(e){return arguments.length?(i=+e,t):i},velocityDecay:function(e){return arguments.length?(s=1-e,t):1-s},randomSource:function(e){return arguments.length?(u=e,a.forEach(d),t):u},force:function(e,n){return arguments.length>1?(null==n?a.delete(e):a.set(e,d(n)),t):a.get(e)},find:function(t,n,r){var o,i,s,a,l,c=0,u=e.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(s=(o=t-(a=e[c]).x)*o+(i=n-a.y)*i)<r&&(l=a,r=s);return l},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}function Is(e){var t,n,r,o=ps(.1);function i(e){for(var o,i=0,s=t.length;i<s;++i)(o=t[i]).vx+=(r[i]-o.x)*n[i]*e}function s(){if(t){var i,s=t.length;for(n=new Array(s),r=new Array(s),i=0;i<s;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=ps(null==e?0:+e)),i.initialize=function(e){t=e,s()},i.strength=function(e){return arguments.length?(o="function"==typeof e?e:ps(+e),s(),i):o},i.x=function(t){return arguments.length?(e="function"==typeof t?t:ps(+t),s(),i):e},i}function Os(e){var t,n,r,o=ps(.1);function i(e){for(var o,i=0,s=t.length;i<s;++i)(o=t[i]).vy+=(r[i]-o.y)*n[i]*e}function s(){if(t){var i,s=t.length;for(n=new Array(s),r=new Array(s),i=0;i<s;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=ps(null==e?0:+e)),i.initialize=function(e){t=e,s()},i.strength=function(e){return arguments.length?(o="function"==typeof e?e:ps(+e),s(),i):o},i.y=function(t){return arguments.length?(e="function"==typeof t?t:ps(+t),s(),i):e},i}function Ws(e,t,n){const r=e.slice();return r[32]=t[n],r}function Gs(e){let t,n,o,i,s,a,l;function c(...t){return e[26](e[32],...t)}function u(...t){return e[27](e[32],...t)}return{c(){t=b("circle"),M(t,"class","node"),M(t,"fill",n=e[5](e[32])),M(t,"stroke",e[1]),M(t,"stroke-width",e[0]),M(t,"cx",o=e[32].x),M(t,"cy",i=e[32].y),M(t,"r",s=e[3](e[32])*e[2])},m(e,n){y(e,t,n),a||(l=[T(t,"mouseover",c),T(t,"focus",u)],a=!0)},p(r,a){e=r,48&a[0]&&n!==(n=e[5](e[32]))&&M(t,"fill",n),2&a[0]&&M(t,"stroke",e[1]),1&a[0]&&M(t,"stroke-width",e[0]),16&a[0]&&o!==(o=e[32].x)&&M(t,"cx",o),16&a[0]&&i!==(i=e[32].y)&&M(t,"cy",i),28&a[0]&&s!==(s=e[3](e[32])*e[2])&&M(t,"r",s)},d(e){e&&v(t),a=!1,r(l)}}}function Xs(t){let n,o,i,s=t[4],a=[];for(let e=0;e<s.length;e+=1)a[e]=Gs(Ws(t,s,e));return{c(){n=b("g");for(let e=0;e<a.length;e+=1)a[e].c();M(n,"class","bee-group")},m(e,r){y(e,n,r);for(let e=0;e<a.length;e+=1)a[e].m(n,null);o||(i=[T(n,"mouseout",t[28]),T(n,"blur",t[29])],o=!0)},p(e,t){if(8255&t[0]){let r;for(s=e[4],r=0;r<s.length;r+=1){const o=Ws(e,s,r);a[r]?a[r].p(o,t):(a[r]=Gs(o),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}},i:e,o:e,d(e){e&&v(n),$(a,e),o=!1,r(i)}}}function Vs(e,t,n){let r,o,i,s,l,c,u;const{data:f,xGet:p,yGet:h,zGet:d,rGet:m,height:g,width:y}=K("LayerCake");a(e,f,(e=>n(30,c=e))),a(e,p,(e=>n(25,l=e))),a(e,h,(e=>n(22,o=e))),a(e,d,(e=>n(5,u=e))),a(e,m,(e=>n(3,r=e))),a(e,g,(e=>n(24,s=e))),a(e,y,(e=>n(23,i=e)));let{strokeWidth:v=1}=t,{stroke:$="#fff"}=t,{xStrength:x=.95}=t,{yStrength:b=.075}=t,{collideStrength:w=.075}=t,{currentStep:_}=t;const k=Y();let T=c.map(((e,t)=>({...e,y:250,x:t/c.length*960}))),M=Hs(T),C=null,z=null,N=1;function S(e,t){if(3===_){const{target:n}=e;k("mousemove",{e:e,props:t}),n.classList.add("active-node")}}function D(e){if(3===_){const{target:t}=e;k("mouseout"),t.classList.remove("active-node")}}M.on("tick",(()=>{n(4,T=M.nodes())}));return e.$$set=e=>{"strokeWidth"in e&&n(0,v=e.strokeWidth),"stroke"in e&&n(1,$=e.stroke),"xStrength"in e&&n(15,x=e.xStrength),"yStrength"in e&&n(16,b=e.yStrength),"collideStrength"in e&&n(17,w=e.collideStrength),"currentStep"in e&&n(18,_=e.currentStep)},e.$$.update=()=>{66813964&e.$$.dirty[0]&&(i>=s?(n(20,C=Is().x((e=>l(e))).strength(x)),n(21,z=Os().y(s/2).strength(b))):(n(2,N=.75),n(20,C=Is().x(i/2).strength(b)),n(21,z=Os().y((e=>o(e))).strength(x))),n(19,M=M.force("collide",function(e){var t,n,r,o=1,i=1;function s(){for(var e,s,l,c,u,f,p,h=t.length,d=0;d<i;++d)for(s=ls(t,ds,ms).visitAfter(a),e=0;e<h;++e)l=t[e],f=n[l.index],p=f*f,c=l.x+l.vx,u=l.y+l.vy,s.visit(m);function m(e,t,n,i,s){var a=e.data,h=e.r,d=f+h;if(!a)return t>c+d||i<c-d||n>u+d||s<u-d;if(a.index>l.index){var m=c-a.x-a.vx,g=u-a.y-a.vy,y=m*m+g*g;y<d*d&&(0===m&&(y+=(m=hs(r))*m),0===g&&(y+=(g=hs(r))*g),y=(d-(y=Math.sqrt(y)))/y*o,l.vx+=(m*=y)*(d=(h*=h)/(p+h)),l.vy+=(g*=y)*d,a.vx-=m*(d=1-d),a.vy-=g*d)}}}function a(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var r,o,i=t.length;for(n=new Array(i),r=0;r<i;++r)o=t[r],n[o.index]=+e(o,r,t)}}return"function"!=typeof e&&(e=ps(null==e?1:+e)),s.initialize=function(e,n){t=e,r=n,l()},s.iterations=function(e){return arguments.length?(i=+e,s):i},s.strength=function(e){return arguments.length?(o=+e,s):o},s.radius=function(t){return arguments.length?(e="function"==typeof t?t:ps(+t),l(),s):e},s}((e=>r(e)*N+.5)).strength(w).iterations(2)).force("charge",function(){var e,t,n,r,o,i=ps(-30),s=1,a=1/0,l=.81;function c(n){var o,i=e.length,s=ls(e,Us,Fs).visitAfter(f);for(r=n,o=0;o<i;++o)t=e[o],s.visit(p)}function u(){if(e){var t,n,r=e.length;for(o=new Array(r),t=0;t<r;++t)n=e[t],o[n.index]=+i(n,t,e)}}function f(e){var t,n,r,i,s,a=0,l=0;if(e.length){for(r=i=s=0;s<4;++s)(t=e[s])&&(n=Math.abs(t.value))&&(a+=t.value,l+=n,r+=n*t.x,i+=n*t.y);e.x=r/l,e.y=i/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{a+=o[t.data.index]}while(t=t.next)}e.value=a}function p(e,i,c,u){if(!e.value)return!0;var f=e.x-t.x,p=e.y-t.y,h=u-i,d=f*f+p*p;if(h*h/l<d)return d<a&&(0===f&&(d+=(f=hs(n))*f),0===p&&(d+=(p=hs(n))*p),d<s&&(d=Math.sqrt(s*d)),t.vx+=f*e.value*r/d,t.vy+=p*e.value*r/d),!0;if(!(e.length||d>=a)){(e.data!==t||e.next)&&(0===f&&(d+=(f=hs(n))*f),0===p&&(d+=(p=hs(n))*p),d<s&&(d=Math.sqrt(s*d)));do{e.data!==t&&(h=o[e.data.index]*r/d,t.vx+=f*h,t.vy+=p*h)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,u()},c.strength=function(e){return arguments.length?(i="function"==typeof e?e:ps(+e),u(),c):i},c.distanceMin=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c.distanceMax=function(e){return arguments.length?(a=e*e,c):Math.sqrt(a)},c.theta=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c}().strength(-1)).force("x",C).force("y",z).alpha(1).restart()))},[v,$,N,r,T,u,f,p,h,d,m,g,y,S,D,x,b,w,_,M,C,z,o,i,s,l,(e,t)=>S(t,e),(e,t)=>S(t,e),e=>D(e),e=>D(e)]}class Bs extends ae{constructor(e){super(),se(this,e,Vs,Xs,i,{strokeWidth:0,stroke:1,xStrength:15,yStrength:16,collideStrength:17,currentStep:18},null,[-1,-1])}}const Js=new Map([["fL","Far Left"],["L","Left"],["C","Center"],["AW","Anti-woke"],["R","Right"],["fR","Far Right"]]),Zs=new Map([["Ext URL","External URL"],["HP","Homepage"],["Other","Other"],["Search","Search"],["User/Channel","User or Channel"],["Video","Video"]]),Qs=new Map([["fL","#336084"],["L","#98BBD7"],["C","#A9A9A9"],["AW","#C19AC1"],["R","#CF6363"],["fR","#AC3535"]]),ea=new Map([["Ext URL","#E08A00"],["HP","#e4a33c"],["Other","#e9c995"],["Search","#a7c2c0"],["User/Channel","#609692"],["Video","#317873"]]);function ta(e,t,n){const r=e.slice();return r[10]=t[n],r}function na(e){let t,n,r,o=Js.get(e[10])+"";return{c(){t=x("span"),n=w(o),M(t,"class","label svelte-169n03v"),M(t,"style",r=`--top: ${e[4](e[10])}px; --left: 18px; --color: ${Qs.get(e[10])}`)},m(e,r){y(e,t,r),g(t,n)},p(e,i){1&i&&o!==(o=Js.get(e[10])+"")&&C(n,o),17&i&&r!==(r=`--top: ${e[4](e[10])}px; --left: 18px; --color: ${Qs.get(e[10])}`)&&M(t,"style",r)},d(e){e&&v(t)}}}function ra(e){let t,n,r,o=Js.get(e[10])+"";return{c(){t=x("span"),n=w(o),M(t,"class","label svelte-169n03v"),M(t,"style",r=`--left: ${e[3](e[10])}px; --top: 75px; --color: ${Qs.get(e[10])}`)},m(e,r){y(e,t,r),g(t,n)},p(e,i){1&i&&o!==(o=Js.get(e[10])+"")&&C(n,o),9&i&&r!==(r=`--left: ${e[3](e[10])}px; --top: 75px; --color: ${Qs.get(e[10])}`)&&M(t,"style",r)},d(e){e&&v(t)}}}function oa(e){let t,n;function r(e,t){return e[1]>=e[2]?ra:na}let o=r(e),i=o(e);return{c(){t=x("div"),i.c(),n=_(),M(t,"class","label-group")},m(e,r){y(e,t,r),i.m(t,null),g(t,n)},p(e,s){o===(o=r(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t,n)))},d(e){e&&v(t),i.d()}}}function ia(t){let n,r=t[0],o=[];for(let e=0;e<r.length;e+=1)o[e]=oa(ta(t,r,e));return{c(){n=x("div");for(let e=0;e<o.length;e+=1)o[e].c();M(n,"class","label-container svelte-169n03v")},m(e,t){y(e,n,t);for(let e=0;e<o.length;e+=1)o[e].m(n,null)},p(e,[t]){if(31&t){let i;for(r=e[0],i=0;i<r.length;i+=1){const s=ta(e,r,i);o[i]?o[i].p(s,t):(o[i]=oa(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:e,o:e,d(e){e&&v(n),$(o,e)}}}function sa(e,t,n){let r,o,i,s,l;const{xScale:c,yScale:u,zDomain:f,width:p,height:h}=K("LayerCake");return a(e,c,(e=>n(3,s=e))),a(e,u,(e=>n(4,l=e))),a(e,f,(e=>n(0,r=e))),a(e,p,(e=>n(1,o=e))),a(e,h,(e=>n(2,i=e))),[r,o,i,s,l,c,u,f,p,h]}class aa extends ae{constructor(e){super(),se(this,e,sa,ia,i,{})}}const la=e=>({detail:1&e}),ca=e=>({detail:e[0].detail});function ua(e){let t,n;const r=e[3].default,o=l(r,e,e[2],ca);return{c(){t=x("div"),o&&o.c(),M(t,"class","tooltip svelte-1mnhvmj"),z(t,"top",e[0].detail.e.layerY+e[1]+"px"),z(t,"left",e[0].detail.e.layerX+"px")},m(e,r){y(e,t,r),o&&o.m(t,null),n=!0},p(e,i){o&&o.p&&(!n||5&i)&&f(o,r,e,e[2],n?u(r,e[2],i,la):p(e[2]),ca),(!n||3&i)&&z(t,"top",e[0].detail.e.layerY+e[1]+"px"),(!n||1&i)&&z(t,"left",e[0].detail.e.layerX+"px")},i(e){n||(ee(o,e),n=!0)},o(e){te(o,e),n=!1},d(e){e&&v(t),o&&o.d(e)}}}function fa(e){let t,n,r=e[0].detail&&ua(e);return{c(){r&&r.c(),t=k()},m(e,o){r&&r.m(e,o),y(e,t,o),n=!0},p(e,[n]){e[0].detail?r?(r.p(e,n),1&n&&ee(r,1)):(r=ua(e),r.c(),ee(r,1),r.m(t.parentNode,t)):r&&(Z(),te(r,1,1,(()=>{r=null})),Q())},i(e){n||(ee(r),n=!0)},o(e){te(r),n=!1},d(e){r&&r.d(e),e&&v(t)}}}function pa(e,t,n){let{$$slots:r={},$$scope:o}=t,{evt:i={}}=t,{offset:s=-35}=t;return e.$$set=e=>{"evt"in e&&n(0,i=e.evt),"offset"in e&&n(1,s=e.offset),"$$scope"in e&&n(2,o=e.$$scope)},[i,s,o,r]}class ha extends ae{constructor(e){super(),se(this,e,pa,fa,i,{evt:0,offset:1})}}function da(e){const t={...e[18].props};e[19]=t}function ma(e,t,n){const r=e.slice();r[20]=t[n];const o=r[20].replace(/^\w/,(e=>e.toUpperCase())).replace("_"," ");r[21]=o;const i=r[19][r[20]];return r[22]=i,r}function ga(e){let t,n;return t=new Bs({props:{strokeWidth:0,xStrength:.1,yStrength:.05,collideStrength:1,currentStep:e[1]}}),t.$on("mousemove",e[16]),t.$on("mouseout",e[17]),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.currentStep=e[1]),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function ya(e){let t,n;return t=new aa({}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function va(e){let t,n;return t=new ha({props:{evt:e[14],$$slots:{default:[ba,({detail:e})=>({18:e}),({detail:e})=>e?262144:0]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};16384&n&&(r.evt=e[14]),33816576&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function $a(e){let t,n,r,o,i,s,a=e[22].toLocaleString()+"";return{c(){t=x("div"),n=x("span"),r=w(e[21]),o=w(":"),i=_(),s=w(a),M(t,"class","row")},m(e,a){y(e,t,a),g(t,n),g(n,r),g(n,o),g(t,i),g(t,s)},p(e,t){262144&t&&a!==(a=e[22].toLocaleString()+"")&&C(s,a)},d(e){e&&v(t)}}}function xa(e){let t,n=e[22]&&$a(e);return{c(){n&&n.c(),t=k()},m(e,r){n&&n.m(e,r),y(e,t,r)},p(e,r){e[22]?n?n.p(e,r):(n=$a(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&v(t)}}}function ba(e){let t;da(e);let n,r,o,i=Js.get(e[19].cluster)+"",s=["total_videos","subscribers"],a=[];for(let t=0;t<2;t+=1)a[t]=xa(ma(e,s,t));return{c(){t=x("div"),n=w(i),r=_();for(let e=0;e<2;e+=1)a[e].c();o=k(),M(t,"class","cluster-label svelte-1dvjvf7"),z(t,"--color",Qs.get(e[19].cluster))},m(e,i){y(e,t,i),g(t,n),y(e,r,i);for(let t=0;t<2;t+=1)a[t].m(e,i);y(e,o,i)},p(e,r){if(da(e),262144&r&&i!==(i=Js.get(e[19].cluster)+"")&&C(n,i),262144&r&&z(t,"--color",Qs.get(e[19].cluster)),262144&r){let t;for(s=["total_videos","subscribers"],t=0;t<2;t+=1){const n=ma(e,s,t);a[t]?a[t].p(n,r):(a[t]=xa(n),a[t].c(),a[t].m(o.parentNode,o))}for(;t<2;t+=1)a[t].d(1)}},d(e){e&&v(t),e&&v(r),$(a,e),e&&v(o)}}}function wa(e){let t,n,r,o=2===e[1]&&ya(),i=!0!==e[15]&&3===e[1]&&va(e);return{c(){o&&o.c(),t=_(),i&&i.c(),n=k()},m(e,s){o&&o.m(e,s),y(e,t,s),i&&i.m(e,s),y(e,n,s),r=!0},p(e,r){2===e[1]?o?2&r&&ee(o,1):(o=ya(),o.c(),ee(o,1),o.m(t.parentNode,t)):o&&(Z(),te(o,1,1,(()=>{o=null})),Q()),!0!==e[15]&&3===e[1]?i?(i.p(e,r),32770&r&&ee(i,1)):(i=va(e),i.c(),ee(i,1),i.m(n.parentNode,n)):i&&(Z(),te(i,1,1,(()=>{i=null})),Q())},i(e){r||(ee(o),ee(i),r=!0)},o(e){te(o),te(i),r=!1},d(e){o&&o.d(e),e&&v(t),i&&i.d(e),e&&v(n)}}}function _a(e){let t,n,r,o;return t=new ns({props:{$$slots:{default:[ga]},$$scope:{ctx:e}}}),r=new Vi({props:{pointerEvents:!1,$$slots:{default:[wa]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment),n=_(),ne(r.$$.fragment)},m(e,i){re(t,e,i),y(e,n,i),re(r,e,i),o=!0},p(e,n){const o={};33603586&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};33603586&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){o||(ee(t.$$.fragment,e),ee(r.$$.fragment,e),o=!0)},o(e){te(t.$$.fragment,e),te(r.$$.fragment,e),o=!1},d(e){oe(t,e),e&&v(n),oe(r,e)}}}function ka(e){let t,n,r;return n=new Ii({props:{x:e[2],xScale:e[3],xDomain:e[4],y:e[5],yScale:e[6],yDomain:e[7],z:e[8],zScale:e[9],zDomain:e[10],zRange:e[11],r:e[12],rRange:e[13],data:e[0],padding:{top:50,right:15,bottom:15,left:15},$$slots:{default:[_a]},$$scope:{ctx:e}}}),{c(){t=x("div"),ne(n.$$.fragment),M(t,"id","beeswarm"),M(t,"class","chart beeswarm-chart svelte-1dvjvf7")},m(e,o){y(e,t,o),re(n,t,null),r=!0},p(e,[t]){const r={};4&t&&(r.x=e[2]),8&t&&(r.xScale=e[3]),16&t&&(r.xDomain=e[4]),32&t&&(r.y=e[5]),64&t&&(r.yScale=e[6]),128&t&&(r.yDomain=e[7]),256&t&&(r.z=e[8]),512&t&&(r.zScale=e[9]),1024&t&&(r.zDomain=e[10]),2048&t&&(r.zRange=e[11]),4096&t&&(r.r=e[12]),8192&t&&(r.rRange=e[13]),1&t&&(r.data=e[0]),33603586&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(ee(n.$$.fragment,e),r=!0)},o(e){te(n.$$.fragment,e),r=!1},d(e){e&&v(t),oe(n)}}}function Ta(e,t,n){let r,{data:o}=t,{currentStep:i=0}=t,{xKey:s="channel"}=t,{xScale:a=An()}=t,{xDomain:l=[null,null]}=t,{yKey:c="channel"}=t,{yScale:u=An()}=t,{yDomain:f=[null,null]}=t,{zKey:p="cluster"}=t,{zScale:h=lt()}=t,{zDomain:d=Array.from(new Set(o.map((e=>e.cluster))))}=t,{zRange:m=d.map((e=>Qs.get(e)))}=t,{rKey:g="subscribers"}=t,{rRange:y=[5,28]}=t,v=!0;return e.$$set=e=>{"data"in e&&n(0,o=e.data),"currentStep"in e&&n(1,i=e.currentStep),"xKey"in e&&n(2,s=e.xKey),"xScale"in e&&n(3,a=e.xScale),"xDomain"in e&&n(4,l=e.xDomain),"yKey"in e&&n(5,c=e.yKey),"yScale"in e&&n(6,u=e.yScale),"yDomain"in e&&n(7,f=e.yDomain),"zKey"in e&&n(8,p=e.zKey),"zScale"in e&&n(9,h=e.zScale),"zDomain"in e&&n(10,d=e.zDomain),"zRange"in e&&n(11,m=e.zRange),"rKey"in e&&n(12,g=e.rKey),"rRange"in e&&n(13,y=e.rRange)},[o,i,s,a,l,c,u,f,p,h,d,m,g,y,r,v,e=>n(14,r=n(15,v=e)),()=>n(15,v=!0)]}class Ma extends ae{constructor(e){super(),se(this,e,Ta,ka,i,{data:0,currentStep:1,xKey:2,xScale:3,xDomain:4,yKey:5,yScale:6,yDomain:7,zKey:8,zScale:9,zDomain:10,zRange:11,rKey:12,rRange:13})}}function Ca(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function za(e,t,n){const r=e.slice();return r[15]=t[n],r[17]=n,r}function Na(e){let t,n;return t=new Ma({props:{currentStep:e[2],xKey:e[3],xScale:e[4],xDomain:e[5],yKey:e[6],yScale:e[7],yDomain:e[8],data:e[1]}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.currentStep=e[2]),8&n&&(r.xKey=e[3]),16&n&&(r.xScale=e[4]),32&n&&(r.xDomain=e[5]),64&n&&(r.yKey=e[6]),128&n&&(r.yScale=e[7]),256&n&&(r.yDomain=e[8]),2&n&&(r.data=e[1]),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Sa(e){let t,n,r=e[15]+"";return{c(){t=x("p"),n=w(r),M(t,"class","svelte-104zqcg")},m(e,r){y(e,t,r),g(t,n)},p(e,t){1&t&&r!==(r=e[15]+"")&&C(n,r)},d(e){e&&v(t)}}}function Da(e){let t,n,r,o,i,s=e[12].value,a=[];for(let t=0;t<s.length;t+=1)a[t]=Sa(za(e,s,t));return{c(){t=x("div"),n=x("div");for(let e=0;e<a.length;e+=1)a[e].c();o=_(),i=x("div"),M(n,"class","step-content svelte-104zqcg"),M(t,"class",r="step "+e[12].type+" svelte-104zqcg"),A(t,"active",e[2]===e[14]),M(i,"class","spacer svelte-104zqcg")},m(e,r){y(e,t,r),g(t,n);for(let e=0;e<a.length;e+=1)a[e].m(n,null);y(e,o,r),y(e,i,r)},p(e,o){if(1&o){let t;for(s=e[12].value,t=0;t<s.length;t+=1){const r=za(e,s,t);a[t]?a[t].p(r,o):(a[t]=Sa(r),a[t].c(),a[t].m(n,null))}for(;t<a.length;t+=1)a[t].d(1);a.length=s.length}1&o&&r!==(r="step "+e[12].type+" svelte-104zqcg")&&M(t,"class",r),5&o&&A(t,"active",e[2]===e[14])},d(e){e&&v(t),$(a,e),e&&v(o),e&&v(i)}}}function ja(e){let t,n=e[0],r=[];for(let t=0;t<n.length;t+=1)r[t]=Da(Ca(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=k()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);y(e,t,n)},p(e,o){if(5&o){let i;for(n=e[0],i=0;i<n.length;i+=1){const s=Ca(e,n,i);r[i]?r[i].p(s,o):(r[i]=Da(s),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){$(r,e),e&&v(t)}}}function Aa(e){let t,n,r,o,i,s=e[1]&&e[1].length&&Na(e);function a(t){e[9](t)}let l={$$slots:{default:[ja]},$$scope:{ctx:e}};return void 0!==e[2]&&(l.value=e[2]),r=new vi({props:l}),U.push((()=>function(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}(r,"value",a))),{c(){t=x("div"),s&&s.c(),n=_(),ne(r.$$.fragment),M(t,"class","scroller-wrapper svelte-104zqcg")},m(e,o){y(e,t,o),s&&s.m(t,null),g(t,n),re(r,t,null),i=!0},p(e,[i]){e[1]&&e[1].length?s?(s.p(e,i),2&i&&ee(s,1)):(s=Na(e),s.c(),ee(s,1),s.m(t,n)):s&&(Z(),te(s,1,1,(()=>{s=null})),Q());const a={};var l;262149&i&&(a.$$scope={dirty:i,ctx:e}),!o&&4&i&&(o=!0,a.value=e[2],l=()=>o=!1,P.push(l)),r.$set(a)},i(e){i||(ee(s),ee(r.$$.fragment,e),i=!0)},o(e){te(s),te(r.$$.fragment,e),i=!1},d(e){e&&v(t),s&&s.d(),oe(r)}}}function qa(){const e=document.getElementsByClassName("active-node");if(e||e.length)for(let t of e)t.classList.remove("active-node")}function La(e,t,n){let r,o,{steps:i}=t,s="channel",a=An(),l=[null,null],c="channel",u=An(),f=[null,null];const p=lt().domain(["fL","L","C","AW","R","fR"]).range([0,1,2,3,4,5]),h=(d="cluster",m=p,function(e,t){return m(e[d])-m(t[d])});var d,m;return E((async()=>{const e=await Ye("assets/data/channels_top250.csv",je);n(1,r=e),r.sort(h),n(1,r=r.map(((e,t)=>Object.assign(Object.assign({},e),{channel:t}))))})),e.$$set=e=>{"steps"in e&&n(0,i=e.steps)},e.$$.update=()=>{6&e.$$.dirty&&(0==o||(1==o?(n(3,s="subscribers"),n(4,a=Pn()),n(5,l=[null,null]),n(6,c="subscribers"),n(7,u=Pn()),n(8,f=[null,null]),qa()):2==o?(n(3,s="cluster"),n(4,a=ct()),n(5,l=["fL","L","C","AW","R","fR"]),n(6,c="cluster"),n(7,u=ct()),n(8,f=["fL","L","C","AW","R","fR"]),qa()):3==o&&(n(3,s="index"),n(4,a=An()),n(5,l=[null,null]),n(6,c="index"),n(7,u=An()),n(8,f=[null,null]),n(1,r=r.map(((e,t)=>Object.assign(Object.assign({},e),{index:t})))),qa())))},[i,r,o,s,a,l,c,u,f,function(e){o=e,n(2,o)}]}class Ea extends ae{constructor(e){super(),se(this,e,La,Aa,i,{steps:0})}}function Ya(e){let t,n,r,o,i,s,a;return n=new me({props:{title:e[0]}}),o=new _e({props:{standfirst:e[1]}}),s=new Ea({props:{steps:e[2]}}),{c(){t=x("main"),ne(n.$$.fragment),r=_(),ne(o.$$.fragment),i=_(),ne(s.$$.fragment),M(t,"class","svelte-rvjdxv")},m(e,l){y(e,t,l),re(n,t,null),g(t,r),re(o,t,null),g(t,i),re(s,t,null),a=!0},p(e,[t]){const r={};1&t&&(r.title=e[0]),n.$set(r);const i={};2&t&&(i.standfirst=e[1]),o.$set(i);const a={};4&t&&(a.steps=e[2]),s.$set(a)},i(e){a||(ee(n.$$.fragment,e),ee(o.$$.fragment,e),ee(s.$$.fragment,e),a=!0)},o(e){te(n.$$.fragment,e),te(o.$$.fragment,e),te(s.$$.fragment,e),a=!1},d(e){e&&v(t),oe(n),oe(o),oe(s)}}}function Ka(e,t,n){let{title:r}=t,{standfirst:o=[{value:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Commodi consequatur inventore exercitationem ex perferendis provident, earum cumque maiores quam quidem labore, mollitia odit eaque laborum?"}]}=t,{steps:i}=t;return e.$$set=e=>{"title"in e&&n(0,r=e.title),"standfirst"in e&&n(1,o=e.standfirst),"steps"in e&&n(2,i=e.steps)},[r,o,i]}class Ra extends ae{constructor(e){super(),se(this,e,Ka,Ya,i,{title:0,standfirst:1,steps:2})}}function Ua(e,t={}){let n;const r=r=>{const o=r[0].isIntersecting?"enter":"exit";"enter"===o&&e.dispatchEvent(new CustomEvent(o)),"enter"===o&&t.once&&n.disconnect()},o=({root:t,top:o,bottom:i})=>{const s={root:t,rootMargin:`${o?-1*o:0}px 0px ${i?-1*i:0}px 0px`};n&&n.disconnect(),n=new IntersectionObserver(r,s),n.observe(e)};return o(t),{update(e){o(e)},destroy(){n&&n.disconnect()}}}const Fa=Math.PI,Pa=2*Fa,Ha=1e-6,Ia=Pa-Ha;function Oa(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Wa(){return new Oa}function Ga(e){return function(){return e}}function Xa(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Va(e){this._context=e}function Ba(e){return new Va(e)}function Ja(e){return e[0]}function Za(e){return e[1]}function Qa(e,t){var n=Ga(!0),r=null,o=Ba,i=null;function s(s){var a,l,c,u=(s=Xa(s)).length,f=!1;for(null==r&&(i=o(c=Wa())),a=0;a<=u;++a)!(a<u&&n(l=s[a],a,s))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(l,a,s),+t(l,a,s));if(c)return i=null,c+""||null}return e="function"==typeof e?e:void 0===e?Ja:Ga(e),t="function"==typeof t?t:void 0===t?Za:Ga(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:Ga(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:Ga(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:Ga(!!e),s):n},s.curve=function(e){return arguments.length?(o=e,null!=r&&(i=o(r)),s):o},s.context=function(e){return arguments.length?(null==e?r=i=null:i=o(r=e),s):r},s}function el(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function tl(e){this._context=e}function nl(e){return new tl(e)}function rl(e,t){if((o=e.length)>1)for(var n,r,o,i=1,s=e[t[0]],a=s.length;i<o;++i)for(r=s,s=e[t[i]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function ol(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function il(e,t){return e[t]}function sl(e){const t=[];return t.key=e,t}function al(e,t,n){const r=e.slice();return r[10]=t[n],r[12]=n,r}function ll(e){let t,n,r,o;return{c(){t=b("path"),M(t,"class",n=h(`path-line path-${e[10][0]}`)+" svelte-1415x4j"),M(t,"d",r=e[1](e[10][1])),M(t,"stroke",o=e[3](e[10][1][0]))},m(e,n){y(e,t,n)},p(e,i){4&i&&n!==(n=h(`path-line path-${e[10][0]}`)+" svelte-1415x4j")&&M(t,"class",n),6&i&&r!==(r=e[1](e[10][1]))&&M(t,"d",r),12&i&&o!==(o=e[3](e[10][1][0]))&&M(t,"stroke",o)},d(e){e&&v(t)}}}function cl(t){let n,r,o=t[2],i=[];for(let e=0;e<o.length;e+=1)i[e]=ll(al(t,o,e));return{c(){n=b("g");for(let e=0;e<i.length;e+=1)i[e].c();M(n,"class",r=h(`line-group line-group-${t[0]}`)+" svelte-1415x4j")},m(e,t){y(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null)},p(e,[t]){if(14&t){let r;for(o=e[2],r=0;r<o.length;r+=1){const s=al(e,o,r);i[r]?i[r].p(s,t):(i[r]=ll(s),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}1&t&&r!==(r=h(`line-group line-group-${e[0]}`)+" svelte-1415x4j")&&M(n,"class",r)},i:e,o:e,d(e){e&&v(n),$(i,e)}}}function ul(e,t,n){let r,o,i,s,l;const{data:c,xGet:u,yGet:f,zGet:p}=K("LayerCake");a(e,c,(e=>n(2,s=e))),a(e,u,(e=>n(9,i=e))),a(e,f,(e=>n(8,o=e))),a(e,p,(e=>n(3,l=e)));let{activeChart:h}=t;return e.$$set=e=>{"activeChart"in e&&n(0,h=e.activeChart)},e.$$.update=()=>{768&e.$$.dirty&&n(1,r=Qa().x((e=>i(e))).y((e=>o(e))).curve(nl))},[h,r,s,l,c,u,f,p,o,i]}Oa.prototype=Wa.prototype={constructor:Oa,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(e,t,n,r,o){e=+e,t=+t,n=+n,r=+r,o=+o;var i=this._x1,s=this._y1,a=n-e,l=r-t,c=i-e,u=s-t,f=c*c+u*u;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>Ha)if(Math.abs(u*a-l*c)>Ha&&o){var p=n-i,h=r-s,d=a*a+l*l,m=p*p+h*h,g=Math.sqrt(d),y=Math.sqrt(f),v=o*Math.tan((Fa-Math.acos((d+f-m)/(2*g*y)))/2),$=v/y,x=v/g;Math.abs($-1)>Ha&&(this._+="L"+(e+$*c)+","+(t+$*u)),this._+="A"+o+","+o+",0,0,"+ +(u*p>c*h)+","+(this._x1=e+x*a)+","+(this._y1=t+x*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,o,i){e=+e,t=+t,i=!!i;var s=(n=+n)*Math.cos(r),a=n*Math.sin(r),l=e+s,c=t+a,u=1^i,f=i?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Ha||Math.abs(this._y1-c)>Ha)&&(this._+="L"+l+","+c),n&&(f<0&&(f=f%Pa+Pa),f>Ia?this._+="A"+n+","+n+",0,1,"+u+","+(e-s)+","+(t-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):f>Ha&&(this._+="A"+n+","+n+",0,"+ +(f>=Fa)+","+u+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},Va.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},tl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:el(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:el(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class fl extends ae{constructor(e){super(),se(this,e,ul,cl,i,{activeChart:0})}}function pl(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function hl(e){let t,n;return{c(){t=b("line"),M(t,"class","gridline svelte-11s23aw"),M(t,"y1",n=-1*e[11]),M(t,"y2","0"),M(t,"x1","0"),M(t,"x2","0")},m(e,n){y(e,t,n)},p(e,r){2048&r&&n!==(n=-1*e[11])&&M(t,"y1",n)},d(e){e&&v(t)}}}function dl(e){let t,n,r;return{c(){t=b("line"),M(t,"class","tick-mark svelte-11s23aw"),M(t,"y1",0),M(t,"y2",6),M(t,"x1",n=e[5]||e[7]?e[8].bandwidth()/2:0),M(t,"x2",r=e[5]||e[7]?e[8].bandwidth()/2:0)},m(e,n){y(e,t,n)},p(e,o){416&o&&n!==(n=e[5]||e[7]?e[8].bandwidth()/2:0)&&M(t,"x1",n),416&o&&r!==(r=e[5]||e[7]?e[8].bandwidth()/2:0)&&M(t,"x2",r)},d(e){e&&v(t)}}}function ml(e){let t,n,r,o,i,s,a,l,c=e[4](e[19])+"",u=!1!==e[0]&&hl(e),f=!0===e[1]&&dl(e);return{c(){t=b("g"),u&&u.c(),n=k(),f&&f.c(),r=b("text"),o=w(c),M(r,"x",i=e[5]||e[7]?e[8].bandwidth()/2:0),M(r,"y",e[6]),M(r,"dx",""),M(r,"dy",""),M(r,"text-anchor",s=e[17](e[21])),M(r,"class","svelte-11s23aw"),M(t,"class",a="tick tick-"+e[21]+" svelte-11s23aw"),M(t,"transform",l="translate("+e[8](e[19])+","+e[10][0]+")")},m(e,i){y(e,t,i),u&&u.m(t,null),g(t,n),f&&f.m(t,null),g(t,r),g(r,o)},p(e,s){!1!==e[0]?u?u.p(e,s):(u=hl(e),u.c(),u.m(t,n)):u&&(u.d(1),u=null),!0===e[1]?f?f.p(e,s):(f=dl(e),f.c(),f.m(t,r)):f&&(f.d(1),f=null),528&s&&c!==(c=e[4](e[19])+"")&&C(o,c),416&s&&i!==(i=e[5]||e[7]?e[8].bandwidth()/2:0)&&M(r,"x",i),64&s&&M(r,"y",e[6]),1792&s&&l!==(l="translate("+e[8](e[19])+","+e[10][0]+")")&&M(t,"transform",l)},d(e){e&&v(t),u&&u.d(),f&&f.d()}}}function gl(e){let t,n,r;return{c(){t=b("line"),M(t,"class","baseline svelte-11s23aw"),M(t,"y1",n=e[11]+.5),M(t,"y2",r=e[11]+.5),M(t,"x1","0"),M(t,"x2",e[12])},m(e,n){y(e,t,n)},p(e,o){2048&o&&n!==(n=e[11]+.5)&&M(t,"y1",n),2048&o&&r!==(r=e[11]+.5)&&M(t,"y2",r),4096&o&&M(t,"x2",e[12])},d(e){e&&v(t)}}}function yl(t){let n,r,o=t[9],i=[];for(let e=0;e<o.length;e+=1)i[e]=ml(pl(t,o,e));let s=!0===t[2]&&gl(t);return{c(){n=b("g");for(let e=0;e<i.length;e+=1)i[e].c();r=k(),s&&s.c(),M(n,"class","axis x-axis svelte-11s23aw"),A(n,"snapTicks",t[3])},m(e,t){y(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null);g(n,r),s&&s.m(n,null)},p(e,[t]){if(135155&t){let s;for(o=e[9],s=0;s<o.length;s+=1){const a=pl(e,o,s);i[s]?i[s].p(a,t):(i[s]=ml(a),i[s].c(),i[s].m(n,r))}for(;s<i.length;s+=1)i[s].d(1);i.length=o.length}!0===e[2]?s?s.p(e,t):(s=gl(e),s.c(),s.m(n,null)):s&&(s.d(1),s=null),8&t&&A(n,"snapTicks",e[3])},i:e,o:e,d(e){e&&v(n),$(i,e),s&&s.d()}}}function vl(e,t,n){let r,o,i,s,l,c;const{width:u,height:f,xScale:p,yRange:h}=K("LayerCake");a(e,u,(e=>n(12,c=e))),a(e,f,(e=>n(11,l=e))),a(e,p,(e=>n(8,i=e))),a(e,h,(e=>n(10,s=e)));let{gridlines:d=!0}=t,{tickMarks:m=!1}=t,{baseline:g=!1}=t,{snapTicks:y=!1}=t,{formatTick:v=(e=>e)}=t,{ticks:$}=t,{xTick:x=0}=t,{yTick:b=16}=t;return e.$$set=e=>{"gridlines"in e&&n(0,d=e.gridlines),"tickMarks"in e&&n(1,m=e.tickMarks),"baseline"in e&&n(2,g=e.baseline),"snapTicks"in e&&n(3,y=e.snapTicks),"formatTick"in e&&n(4,v=e.formatTick),"ticks"in e&&n(18,$=e.ticks),"xTick"in e&&n(5,x=e.xTick),"yTick"in e&&n(6,b=e.yTick)},e.$$.update=()=>{256&e.$$.dirty&&n(7,r="function"==typeof i.bandwidth),262528&e.$$.dirty&&n(9,o=Array.isArray($)?$:r?i.domain():"function"==typeof $?$(i.ticks()):i.ticks($))},[d,m,g,y,v,x,b,r,i,o,s,l,c,u,f,p,h,function(e){if(!0===y){if(0===e)return"start";if(e===o.length-1)return"end"}return"middle"},$]}class $l extends ae{constructor(e){super(),se(this,e,vl,yl,i,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,formatTick:4,ticks:18,xTick:5,yTick:6})}}function xl(e,t,n){const r=e.slice();return r[17]=t[n],r[19]=n,r}function bl(e){let t,n,r;return{c(){t=b("line"),M(t,"class","gridline svelte-6edweo"),M(t,"x2","100%"),M(t,"y1",n=e[4]+(e[8]?e[9].bandwidth()/2:0)),M(t,"y2",r=e[4]+(e[8]?e[9].bandwidth()/2:0))},m(e,n){y(e,t,n)},p(e,o){784&o&&n!==(n=e[4]+(e[8]?e[9].bandwidth()/2:0))&&M(t,"y1",n),784&o&&r!==(r=e[4]+(e[8]?e[9].bandwidth()/2:0))&&M(t,"y2",r)},d(e){e&&v(t)}}}function wl(e){let t,n,r,o;return{c(){t=b("line"),M(t,"class","tick-mark svelte-6edweo"),M(t,"x1","0"),M(t,"x2",n=e[8]?-6:6),M(t,"y1",r=e[4]+(e[8]?e[9].bandwidth()/2:0)),M(t,"y2",o=e[4]+(e[8]?e[9].bandwidth()/2:0))},m(e,n){y(e,t,n)},p(e,i){256&i&&n!==(n=e[8]?-6:6)&&M(t,"x2",n),784&i&&r!==(r=e[4]+(e[8]?e[9].bandwidth()/2:0))&&M(t,"y1",r),784&i&&o!==(o=e[4]+(e[8]?e[9].bandwidth()/2:0))&&M(t,"y2",o)},d(e){e&&v(t)}}}function _l(e){let t,n,r,o,i,s,a,l,c,u=e[2](e[17],e[19],e[10].length)+"",f=!1!==e[0]&&bl(e),p=!0===e[1]&&wl(e);return{c(){t=b("g"),f&&f.c(),n=k(),p&&p.c(),r=b("text"),o=w(u),M(r,"x",e[3]),M(r,"y",i=e[4]+(e[8]?e[9].bandwidth()/2:0)),M(r,"dx",s=e[8]?-9:e[5]),M(r,"dy",a=e[8]?4:e[6]),z(r,"text-anchor",e[8]?"end":e[7]),M(r,"class","svelte-6edweo"),M(t,"class",l="tick tick-"+e[17]+" svelte-6edweo"),M(t,"transform",c="translate("+(e[12][0]+(e[8]?e[11].left:0))+", "+e[9](e[17])+")")},m(e,i){y(e,t,i),f&&f.m(t,null),g(t,n),p&&p.m(t,null),g(t,r),g(r,o)},p(e,h){!1!==e[0]?f?f.p(e,h):(f=bl(e),f.c(),f.m(t,n)):f&&(f.d(1),f=null),!0===e[1]?p?p.p(e,h):(p=wl(e),p.c(),p.m(t,r)):p&&(p.d(1),p=null),1028&h&&u!==(u=e[2](e[17],e[19],e[10].length)+"")&&C(o,u),8&h&&M(r,"x",e[3]),784&h&&i!==(i=e[4]+(e[8]?e[9].bandwidth()/2:0))&&M(r,"y",i),288&h&&s!==(s=e[8]?-9:e[5])&&M(r,"dx",s),320&h&&a!==(a=e[8]?4:e[6])&&M(r,"dy",a),384&h&&z(r,"text-anchor",e[8]?"end":e[7]),1024&h&&l!==(l="tick tick-"+e[17]+" svelte-6edweo")&&M(t,"class",l),7936&h&&c!==(c="translate("+(e[12][0]+(e[8]?e[11].left:0))+", "+e[9](e[17])+")")&&M(t,"transform",c)},d(e){e&&v(t),f&&f.d(),p&&p.d()}}}function kl(t){let n,r,o=t[10],i=[];for(let e=0;e<o.length;e+=1)i[e]=_l(xl(t,o,e));return{c(){n=b("g");for(let e=0;e<i.length;e+=1)i[e].c();M(n,"class","axis y-axis"),M(n,"transform",r="translate("+-t[11].left+", 0)")},m(e,t){y(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null)},p(e,[t]){if(8191&t){let r;for(o=e[10],r=0;r<o.length;r+=1){const s=xl(e,o,r);i[r]?i[r].p(s,t):(i[r]=_l(s),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}2048&t&&r!==(r="translate("+-e[11].left+", 0)")&&M(n,"transform",r)},i:e,o:e,d(e){e&&v(n),$(i,e)}}}function Tl(e,t,n){let r,o,i,s,l;const{padding:c,xRange:u,yScale:f}=K("LayerCake");a(e,c,(e=>n(11,s=e))),a(e,u,(e=>n(12,l=e))),a(e,f,(e=>n(9,i=e)));let{gridlines:p=!0}=t,{tickMarks:h=!1}=t,{formatTick:d=(e=>e)}=t,{ticks:m=4}=t,{xTick:g=0}=t,{yTick:y=0}=t,{dxTick:v=0}=t,{dyTick:$=-4}=t,{textAnchor:x="start"}=t;return e.$$set=e=>{"gridlines"in e&&n(0,p=e.gridlines),"tickMarks"in e&&n(1,h=e.tickMarks),"formatTick"in e&&n(2,d=e.formatTick),"ticks"in e&&n(16,m=e.ticks),"xTick"in e&&n(3,g=e.xTick),"yTick"in e&&n(4,y=e.yTick),"dxTick"in e&&n(5,v=e.dxTick),"dyTick"in e&&n(6,$=e.dyTick),"textAnchor"in e&&n(7,x=e.textAnchor)},e.$$.update=()=>{512&e.$$.dirty&&n(8,r="function"==typeof i.bandwidth),66304&e.$$.dirty&&n(10,o=Array.isArray(m)?m:r?i.domain():"function"==typeof m?m(i.ticks()):i.ticks(m))},[p,h,d,g,y,v,$,x,r,i,o,s,l,c,u,f,m]}class Ml extends ae{constructor(e){super(),se(this,e,Tl,kl,i,{gridlines:0,tickMarks:1,formatTick:2,ticks:16,xTick:3,yTick:4,dxTick:5,dyTick:6,textAnchor:7})}}const Cl=e=>({x:10&e,y:9&e,found:8&e,visible:4&e,e:16&e}),zl=e=>({x:e[1](e[3])||0,y:e[0](e[3])||0,found:e[3],visible:e[2],e:e[4]});function Nl(e){let t,n,o,i,s;const a=e[21].default,c=l(a,e,e[20],zl);return{c(){t=x("div"),n=_(),c&&c.c(),M(t,"class","bg svelte-x8at0i")},m(r,a){y(r,t,a),y(r,n,a),c&&c.m(r,a),o=!0,i||(s=[T(t,"mousemove",e[10]),T(t,"mouseout",e[22]),T(t,"blur",e[23])],i=!0)},p(e,[t]){c&&c.p&&(!o||1048607&t)&&f(c,a,e,e[20],o?u(a,e[20],t,Cl):p(e[20]),zl)},i(e){o||(ee(c,e),o=!0)},o(e){te(c,e),o=!1},d(e){e&&v(t),e&&v(n),c&&c.d(e),i=!1,r(s)}}}function Sl(e,t,n){let r,o,i,s,l,c,u,f,{$$slots:p={},$$scope:h}=t;const{data:d,xGet:m,yGet:g,width:y,height:v}=K("LayerCake");a(e,d,(e=>n(15,s=e))),a(e,m,(e=>n(18,u=e))),a(e,g,(e=>n(19,f=e))),a(e,y,(e=>n(17,c=e))),a(e,v,(e=>n(16,l=e)));let $=!1,x={},b={},{x:w="x"}=t,{y:_="y"}=t,{searchRadius:k}=t,{dataset:T}=t;return e.$$set=e=>{"x"in e&&n(11,w=e.x),"y"in e&&n(12,_=e.y),"searchRadius"in e&&n(13,k=e.searchRadius),"dataset"in e&&n(14,T=e.dataset),"$$scope"in e&&n(20,h=e.$$scope)},e.$$.update=()=>{788480&e.$$.dirty&&n(1,r="x"===w?u:f),790528&e.$$.dirty&&n(0,o="y"===_?f:u),245763&e.$$.dirty&&(i=ls().extent([[-1,-1],[c+1,l+1]]).x(r).y(o).addAll(T||s))},[o,r,$,x,b,d,m,g,y,v,function(e){n(4,b=e);const t=`layer${w.toUpperCase()}`,r=`layer${_.toUpperCase()}`;n(3,x=i.find(e[t],e[r],k)||{}),n(2,$=Object.keys(x).length>0)},w,_,k,T,s,l,c,u,f,h,p,()=>{n(2,$=!1),n(3,x={})},()=>{n(2,$=!1),n(3,x={})}]}class Dl extends ae{constructor(e){super(),se(this,e,Sl,Nl,i,{x:11,y:12,searchRadius:13,dataset:14})}}function jl(e){const t=e[11](e[21]);e[23]=t}function Al(e,t,n){const r=e.slice();return r[24]=t[n],r}function ql(e){let t,n,r,o,i,s,a=e[0](e[21][e[4].x])+"",l=e[23],c=[];for(let t=0;t<l.length;t+=1)c[t]=Ll(Al(e,l,t));return{c(){t=x("div"),n=_(),r=x("div"),o=x("div"),i=w(a),s=_();for(let e=0;e<c.length;e+=1)c[e].c();z(t,"left",e[12]+"px"),M(t,"class","line svelte-o1blw1"),M(o,"class","title svelte-o1blw1"),M(r,"class","tooltip svelte-o1blw1"),z(r,"width",Kl+"px"),z(r,"display",e[20]?"block":"none"),z(r,"left",Math.min(Math.max(e[10],e[12]),e[6]-e[10])+"px")},m(e,a){y(e,t,a),y(e,n,a),y(e,r,a),g(r,o),g(o,i),g(r,s);for(let e=0;e<c.length;e+=1)c[e].m(r,null)},p(e,n){if(4096&n&&z(t,"left",e[12]+"px"),2097169&n&&a!==(a=e[0](e[21][e[4].x])+"")&&C(i,a),2099206&n){let t;for(l=e[23],t=0;t<l.length;t+=1){const o=Al(e,l,t);c[t]?c[t].p(o,n):(c[t]=Ll(o),c[t].c(),c[t].m(r,null))}for(;t<c.length;t+=1)c[t].d(1);c.length=l.length}1048576&n&&z(r,"display",e[20]?"block":"none"),4160&n&&z(r,"left",Math.min(Math.max(e[10],e[12]),e[6]-e[10])+"px")},d(e){e&&v(t),e&&v(n),e&&v(r),$(c,e)}}}function Ll(e){let t,n,r,o,i,s,a,l=e[2](e[24].label)+"",c=e[1](e[24].value)+"";return{c(){t=x("div"),n=x("span"),r=w(l),o=w(":"),i=_(),s=w(c),a=_(),M(n,"class","key svelte-o1blw1"),z(n,"--color",Qs.get(e[24].label)),M(t,"class","row")},m(e,l){y(e,t,l),g(t,n),g(n,r),g(n,o),g(t,i),g(t,s),g(t,a)},p(e,t){2097156&t&&l!==(l=e[2](e[24].label)+"")&&C(r,l),2097152&t&&z(n,"--color",Qs.get(e[24].label)),2097154&t&&c!==(c=e[1](e[24].value)+"")&&C(s,c)},d(e){e&&v(t)}}}function El(e){let t;jl(e);let n=!0===e[20]&&ql(e);return{c(){n&&n.c(),t=k()},m(e,r){n&&n.m(e,r),y(e,t,r)},p(e,r){jl(e),!0===e[20]?n?n.p(e,r):(n=ql(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&v(t)}}}function Yl(e){let t,n;return t=new Dl({props:{dataset:e[3]||e[5],y:"x",$$slots:{default:[El,({x:e,y:t,visible:n,found:r,e:o})=>({12:e,19:t,20:n,21:r,22:o}),({x:e,y:t,visible:n,found:r,e:o})=>(e?4096:0)|(t?524288:0)|(n?1048576:0)|(r?2097152:0)|(o?4194304:0)]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,[n]){const r={};40&n&&(r.dataset=e[3]||e[5]),137367639&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}const Kl=150;function Rl(e,t,n){let r,o,i,s,l;const{data:c,width:u,yScale:f,config:p,x:h}=K("LayerCake");a(e,c,(e=>n(5,s=e))),a(e,u,(e=>n(6,l=e))),a(e,p,(e=>n(4,o=e))),a(e,h,(e=>n(14,i=e)));const d=Mn(","),m=e=>e.replace(/^\w/,(e=>e.toUpperCase()));let{formatTitle:g=(e=>e)}=t,{formatValue:y=(e=>isNaN(+e)?e:d(e))}=t,{formatKey:v=(e=>m(e))}=t,{offset:$=-20}=t,{dataset:x}=t;const b=Kl/2;return e.$$set=e=>{"formatTitle"in e&&n(0,g=e.formatTitle),"formatValue"in e&&n(1,y=e.formatValue),"formatKey"in e&&n(2,v=e.formatKey),"offset"in e&&n(13,$=e.offset),"dataset"in e&&n(3,x=e.dataset)},e.$$.update=()=>{16392&e.$$.dirty&&(r=Xe(x,i))},[g,y,v,x,o,s,l,c,u,p,b,function(e){if(e&&Object.keys(e).length){return r.get(e[o.x]).map((e=>({label:e[o.z],value:e[o.y]}))).sort(((e,t)=>t.value-e.value))}return[]},h,$,i]}class Ul extends ae{constructor(e){super(),se(this,e,Rl,Yl,i,{formatTitle:0,formatValue:1,formatKey:2,offset:13,dataset:3})}}function Fl(t){let n,r,o,i,s,a,l,c,u,f,p;return{c(){n=x("div"),r=x("span"),o=w(t[0]),i=_(),s=x("a"),a=w("Download data "),l=b("svg"),c=b("path"),u=b("polyline"),f=b("line"),M(r,"class","caption-text svelte-1m1lkwz"),M(c,"d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"),M(u,"points","7 10 12 15 17 10"),M(f,"x1","12"),M(f,"y1","15"),M(f,"x2","12"),M(f,"y2","3"),M(l,"xmlns","http://www.w3.org/2000/svg"),M(l,"width","24"),M(l,"height","24"),M(l,"viewBox","0 0 24 24"),M(l,"fill","none"),M(l,"stroke","currentColor"),M(l,"stroke-width","2"),M(l,"stroke-linecap","round"),M(l,"stroke-linejoin","round"),M(l,"class","feather feather-download svelte-1m1lkwz"),M(s,"class","download-button svelte-1m1lkwz"),M(s,"href",t[1]),M(s,"download",""),M(n,"class",p="caption caption-"+t[2]+" svelte-1m1lkwz")},m(e,t){y(e,n,t),g(n,r),g(r,o),g(n,i),g(n,s),g(s,a),g(s,l),g(l,c),g(l,u),g(l,f)},p(e,[t]){1&t&&C(o,e[0]),2&t&&M(s,"href",e[1]),4&t&&p!==(p="caption caption-"+e[2]+" svelte-1m1lkwz")&&M(n,"class",p)},i:e,o:e,d(e){e&&v(n)}}}function Pl(e,t,n){let{caption:r}=t,{url:o}=t,{type:i}=t;return e.$$set=e=>{"caption"in e&&n(0,r=e.caption),"url"in e&&n(1,o=e.url),"type"in e&&n(2,i=e.type)},[r,o,i]}class Hl extends ae{constructor(e){super(),se(this,e,Pl,Fl,i,{caption:0,url:1,type:2})}}function Il(e,t,n){const r=e.slice();r[5]=t[n],r[9]=n;const o=r[5].split(" | ");return r[6]=o[0],r[7]=o[1],r}function Ol(e){let t,n,r,o,i,s=e[6]+"";return{c(){t=b("g"),n=b("line"),r=b("text"),o=w(s),M(n,"x1","0"),M(n,"x2","0"),M(n,"y1","0"),M(n,"y2",e[2]),M(n,"class","svelte-auwtmf"),M(r,"class","svelte-auwtmf"),M(t,"transform",i=`translate(${e[1](new Date(e[7]))}, 0)`)},m(e,i){y(e,t,i),g(t,n),g(t,r),g(r,o)},p(e,r){4&r&&M(n,"y2",e[2]),1&r&&s!==(s=e[6]+"")&&C(o,s),3&r&&i!==(i=`translate(${e[1](new Date(e[7]))}, 0)`)&&M(t,"transform",i)},d(e){e&&v(t)}}}function Wl(t){let n,r=t[0],o=[];for(let e=0;e<r.length;e+=1)o[e]=Ol(Il(t,r,e));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();n=k()},m(e,t){for(let n=0;n<o.length;n+=1)o[n].m(e,t);y(e,n,t)},p(e,[t]){if(7&t){let i;for(r=e[0],i=0;i<r.length;i+=1){const s=Il(e,r,i);o[i]?o[i].p(s,t):(o[i]=Ol(s),o[i].c(),o[i].m(n.parentNode,n))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:e,o:e,d(e){$(o,e),e&&v(n)}}}function Gl(e,t,n){let r,o;const{xScale:i,height:s}=K("LayerCake");a(e,i,(e=>n(1,r=e))),a(e,s,(e=>n(2,o=e)));let{data:l}=t;return e.$$set=e=>{"data"in e&&n(0,l=e.data)},[l,r,o,i,s]}class Xl extends ae{constructor(e){super(),se(this,e,Gl,Wl,i,{data:0})}}function Vl(e){let t,n,r,o,i,s,a,l;return t=new $l({props:{gridlines:!1,ticks:e[10],formatTick:e[9],snapTicks:!1,tickMarks:!0}}),r=new Ml({props:{ticks:4,formatTick:e[11]}}),i=new Xl({props:{data:e[14]}}),a=new fl({props:{activeChart:e[1]}}),{c(){ne(t.$$.fragment),n=_(),ne(r.$$.fragment),o=_(),ne(i.$$.fragment),s=_(),ne(a.$$.fragment)},m(e,c){re(t,e,c),y(e,n,c),re(r,e,c),y(e,o,c),re(i,e,c),y(e,s,c),re(a,e,c),l=!0},p(e,n){const o={};1024&n&&(o.ticks=e[10]),512&n&&(o.formatTick=e[9]),t.$set(o);const s={};2048&n&&(s.formatTick=e[11]),r.$set(s);const l={};16384&n&&(l.data=e[14]),i.$set(l);const c={};2&n&&(c.activeChart=e[1]),a.$set(c)},i(e){l||(ee(t.$$.fragment,e),ee(r.$$.fragment,e),ee(i.$$.fragment,e),ee(a.$$.fragment,e),l=!0)},o(e){te(t.$$.fragment,e),te(r.$$.fragment,e),te(i.$$.fragment,e),te(a.$$.fragment,e),l=!1},d(e){oe(t,e),e&&v(n),oe(r,e),e&&v(o),oe(i,e),e&&v(s),oe(a,e)}}}function Bl(e){let t,n;return t=new Ul({props:{dataset:e[2],formatTitle:e[9],formatKey:e[17],formatValue:e[11]}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.dataset=e[2]),512&n&&(r.formatTitle=e[9]),2048&n&&(r.formatValue=e[11]),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Jl(e){let t,n,r,o;return t=new ns({props:{$$slots:{default:[Vl]},$$scope:{ctx:e}}}),r=new Vi({props:{$$slots:{default:[Bl]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment),n=_(),ne(r.$$.fragment)},m(e,i){re(t,e,i),y(e,n,i),re(r,e,i),o=!0},p(e,n){const o={};282114&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};264708&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){o||(ee(t.$$.fragment,e),ee(r.$$.fragment,e),o=!0)},o(e){te(t.$$.fragment,e),te(r.$$.fragment,e),o=!1},d(e){oe(t,e),e&&v(n),oe(r,e)}}}function Zl(e){let t,n;return t=new Hl({props:{caption:e[0],url:e[3],type:12===e[13]?"split-cols":"single-cols"}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.caption=e[0]),8&n&&(r.url=e[3]),8192&n&&(r.type=12===e[13]?"split-cols":"single-cols"),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Ql(e){let t,n,r,o,i;n=new Ii({props:{padding:{top:20,right:10,bottom:20,left:45},flatData:e[2],data:e[4],x:e[5],xScale:"date"===e[5]?pi():An(),y:e[6],yDomain:e[8],yNice:!0,z:e[7],zScale:lt(),zDomain:e[15],zRange:e[16],$$slots:{default:[Jl]},$$scope:{ctx:e}}});let s=e[12]&&Zl(e);return{c(){t=x("div"),ne(n.$$.fragment),r=_(),s&&s.c(),o=k(),M(t,"class","chart line-chart")},m(e,a){y(e,t,a),re(n,t,null),y(e,r,a),s&&s.m(e,a),y(e,o,a),i=!0},p(e,[t]){const r={};4&t&&(r.flatData=e[2]),16&t&&(r.data=e[4]),32&t&&(r.x=e[5]),32&t&&(r.xScale="date"===e[5]?pi():An()),64&t&&(r.y=e[6]),256&t&&(r.yDomain=e[8]),128&t&&(r.z=e[7]),282118&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r),e[12]?s?(s.p(e,t),4096&t&&ee(s,1)):(s=Zl(e),s.c(),ee(s,1),s.m(o.parentNode,o)):s&&(Z(),te(s,1,1,(()=>{s=null})),Q())},i(e){i||(ee(n.$$.fragment,e),ee(s),i=!0)},o(e){te(n.$$.fragment,e),te(s),i=!1},d(e){e&&v(t),oe(n),e&&v(r),s&&s.d(e),e&&v(o)}}}function ec(e,t,n){let{caption:r}=t,{activeChart:o}=t,{data:i}=t,{url:s}=t,{groupedData:a}=t,{xKey:l}=t,{yKey:c}=t,{zKey:u}=t,{yDomain:f=[0,null]}=t,{formatTickX:p}=t,{xTicks:h=6}=t,{formatTickY:d=(e=>e.toFixed(0))}=t,{includeCaption:m=!0}=t,{spanCol:g}=t,{markers:y}=t,v=Array.from(Qs).map((e=>e[0])),$=Array.from(Qs).map((e=>e[1]));return e.$$set=e=>{"caption"in e&&n(0,r=e.caption),"activeChart"in e&&n(1,o=e.activeChart),"data"in e&&n(2,i=e.data),"url"in e&&n(3,s=e.url),"groupedData"in e&&n(4,a=e.groupedData),"xKey"in e&&n(5,l=e.xKey),"yKey"in e&&n(6,c=e.yKey),"zKey"in e&&n(7,u=e.zKey),"yDomain"in e&&n(8,f=e.yDomain),"formatTickX"in e&&n(9,p=e.formatTickX),"xTicks"in e&&n(10,h=e.xTicks),"formatTickY"in e&&n(11,d=e.formatTickY),"includeCaption"in e&&n(12,m=e.includeCaption),"spanCol"in e&&n(13,g=e.spanCol),"markers"in e&&n(14,y=e.markers)},[r,o,i,s,a,l,c,u,f,p,h,d,m,g,y,v,$,e=>Js.get(e)]}class tc extends ae{constructor(e){super(),se(this,e,ec,Ql,i,{caption:0,activeChart:1,data:2,url:3,groupedData:4,xKey:5,yKey:6,zKey:7,yDomain:8,formatTickX:9,xTicks:10,formatTickY:11,includeCaption:12,spanCol:13,markers:14})}}function nc(e,t,n=null){return t.reduce(((t,r)=>{const o=Number.isInteger(n)||null!==n?e.filter((e=>e[n]===r)):e.filter((e=>e===r));return o.length&&o.forEach((e=>t.push(e))),t}),[])}const rc=["fL","L","C","AW","R","fR"];function oc(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function ic(e,t,n){const r=e.slice();return r[14]=t[n],r[13]=n,r}function sc(e){let t,n,r,o,i,s,a,l,c,u,f,p=Array.isArray(e[0])&&e[0].length>=2,d=p&&ac(e),m=nc(e[8].map(fc),rc),b=[];for(let t=0;t<m.length;t+=1)b[t]=cc(oc(e,m,t));return l=new tc({props:{data:e[5],url:e[7],groupedData:e[8],xKey:e[6].xKey,yKey:e[6].yKey,zKey:e[6].zKey,activeChart:e[7],includeCaption:e[6].includeCaption,caption:e[6].caption,formatTickX:e[6].formatTickX,xTicks:e[6].xTicks||e[2],formatTickY:e[6].formatTickY,spanCol:e[1],markers:e[4]}}),{c(){t=x("h3"),n=w(e[3]),r=_(),d&&d.c(),o=_(),i=x("div");for(let e=0;e<b.length;e+=1)b[e].c();s=_(),a=x("div"),ne(l.$$.fragment),M(t,"class","chart-title svelte-1v48au2"),M(i,"class","legend-container svelte-1v48au2"),M(a,"class",c=h("chart-wrapper "+(12===e[1]?"split-cols":"single-cols"))+" svelte-1v48au2"),M(a,"style",u=`--spanCol: ${e[1]}`)},m(e,c){y(e,t,c),g(t,n),g(t,r),d&&d.m(t,null),y(e,o,c),y(e,i,c);for(let e=0;e<b.length;e+=1)b[e].m(i,null);y(e,s,c),y(e,a,c),re(l,a,null),f=!0},p(e,r){if((!f||8&r)&&C(n,e[3]),1&r&&(p=Array.isArray(e[0])&&e[0].length>=2),p?d?d.p(e,r):(d=ac(e),d.c(),d.m(t,null)):d&&(d.d(1),d=null),256&r){let t;for(m=nc(e[8].map(fc),rc),t=0;t<m.length;t+=1){const n=oc(e,m,t);b[t]?b[t].p(n,r):(b[t]=cc(n),b[t].c(),b[t].m(i,null))}for(;t<b.length;t+=1)b[t].d(1);b.length=m.length}const o={};32&r&&(o.data=e[5]),128&r&&(o.url=e[7]),256&r&&(o.groupedData=e[8]),64&r&&(o.xKey=e[6].xKey),64&r&&(o.yKey=e[6].yKey),64&r&&(o.zKey=e[6].zKey),128&r&&(o.activeChart=e[7]),64&r&&(o.includeCaption=e[6].includeCaption),64&r&&(o.caption=e[6].caption),64&r&&(o.formatTickX=e[6].formatTickX),68&r&&(o.xTicks=e[6].xTicks||e[2]),64&r&&(o.formatTickY=e[6].formatTickY),2&r&&(o.spanCol=e[1]),16&r&&(o.markers=e[4]),l.$set(o),(!f||2&r&&c!==(c=h("chart-wrapper "+(12===e[1]?"split-cols":"single-cols"))+" svelte-1v48au2"))&&M(a,"class",c),(!f||2&r&&u!==(u=`--spanCol: ${e[1]}`))&&M(a,"style",u)},i(e){f||(ee(l.$$.fragment,e),f=!0)},o(e){te(l.$$.fragment,e),f=!1},d(e){e&&v(t),d&&d.d(),e&&v(o),e&&v(i),$(b,e),e&&v(s),e&&v(a),oe(l)}}}function ac(e){let t,n,r,o=e[0],i=[];for(let t=0;t<o.length;t+=1)i[t]=lc(ic(e,o,t));return{c(){t=x("select");for(let e=0;e<i.length;e+=1)i[e].c();M(t,"class","dropdown-menu svelte-1v48au2"),M(t,"type","select"),void 0===e[7]&&O((()=>e[10].call(t)))},m(o,s){y(o,t,s);for(let e=0;e<i.length;e+=1)i[e].m(t,null);N(t,e[7]),n||(r=T(t,"change",e[10]),n=!0)},p(e,n){if(1&n){let r;for(o=e[0],r=0;r<o.length;r+=1){const s=ic(e,o,r);i[r]?i[r].p(s,n):(i[r]=lc(s),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}129&n&&N(t,e[7])},d(e){e&&v(t),$(i,e),n=!1,r()}}}function lc(e){let t,n,r,o=e[14].description+"";return{c(){t=x("option"),n=w(o),t.__value=r=e[14].url,t.value=t.__value},m(e,r){y(e,t,r),g(t,n)},p(e,i){1&i&&o!==(o=e[14].description+"")&&C(n,o),1&i&&r!==(r=e[14].url)&&(t.__value=r,t.value=t.__value)},d(e){e&&v(t)}}}function cc(e){let t,n,r,o,i,s=Js.get(e[11])+"";return{c(){t=x("div"),n=x("span"),r=w(s),i=_(),M(n,"class","legend-label svelte-1v48au2"),M(n,"style",o=`--color: ${Qs.get(e[11])}`),M(t,"class","legend-group svelte-1v48au2")},m(e,o){y(e,t,o),g(t,n),g(n,r),g(t,i)},p(e,t){256&t&&s!==(s=Js.get(e[11])+"")&&C(r,s),256&t&&o!==(o=`--color: ${Qs.get(e[11])}`)&&M(n,"style",o)},d(e){e&&v(t)}}}function uc(e){let t,n,r=e[7]&&e[6]&&sc(e);return{c(){r&&r.c(),t=k()},m(e,o){r&&r.m(e,o),y(e,t,o),n=!0},p(e,[n]){e[7]&&e[6]?r?(r.p(e,n),192&n&&ee(r,1)):(r=sc(e),r.c(),ee(r,1),r.m(t.parentNode,t)):r&&(Z(),te(r,1,1,(()=>{r=null})),Q())},i(e){n||(ee(r),n=!0)},o(e){te(r),n=!1},d(e){r&&r.d(e),e&&v(t)}}}const fc=e=>e[0];function pc(e,t,n){let r,o,i,s,{config:a}=t,{spanCol:l=12}=t,{xTicks:c=6}=t,{title:u}=t,{markers:f=[]}=t,p={};return E((async()=>{(Array.isArray(a)?a:[a]).map((async(e,t)=>{const r=await Ye(e.url,je);n(9,p[e.url]=r.map((e=>Object.assign(Object.assign({},e),{date:new Date(e.year,e.month,1)}))),p),0===t&&(n(7,s=e.url),n(6,i=e))}))})),e.$$set=e=>{"config"in e&&n(0,a=e.config),"spanCol"in e&&n(1,l=e.spanCol),"xTicks"in e&&n(2,c=e.xTicks),"title"in e&&n(3,u=e.title),"markers"in e&&n(4,f=e.markers)},e.$$.update=()=>{640&e.$$.dirty&&n(5,o=p?p[s]:[]),129&e.$$.dirty&&n(6,i=Array.isArray(a)?a.filter((e=>e.url===s))[0]:a),96&e.$$.dirty&&n(8,r=o?Ve(o,(e=>e[i.zKey])):[])},[a,l,c,u,f,o,i,s,r,p,function(){s=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(7,s),n(0,a)}]}class hc extends ae{constructor(e){super(),se(this,e,pc,uc,i,{config:0,spanCol:1,xTicks:2,title:3,markers:4})}}function dc(e,t,n){const r=e.slice();return r[9]=t[n],r}function mc(e,t,n){const r=e.slice();return r[9]=t[n],r[13]=n,r}function gc(t){let n;return{c(){n=x("div"),M(n,"class","chart-placeholder svelte-1uzo7nm")},m(e,t){y(e,n,t)},p:e,i:e,o:e,d(e){e&&v(n)}}}function yc(e){let t,n;return t=new hc({props:{config:[{url:"assets/data/fig2a_ledwich.csv",description:"User share",type:"line",xKey:"date",yKey:"user_percent",zKey:"label",includeCaption:!0,caption:e[3][0].value,formatTickX:e[6],formatTickY:Mn(".2~%")},{url:"assets/data/fig2b_ledwich.csv",description:"Total consumption share",type:"line",xKey:"date",yKey:"percentage_duration",zKey:"label",includeCaption:!0,caption:e[3][1].value,formatTickX:e[7],formatTickY:Mn(".2~%")}],title:"Community engagement",markers:e[4]}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.config=[{url:"assets/data/fig2a_ledwich.csv",description:"User share",type:"line",xKey:"date",yKey:"user_percent",zKey:"label",includeCaption:!0,caption:e[3][0].value,formatTickX:e[6],formatTickY:Mn(".2~%")},{url:"assets/data/fig2b_ledwich.csv",description:"Total consumption share",type:"line",xKey:"date",yKey:"percentage_duration",zKey:"label",includeCaption:!0,caption:e[3][1].value,formatTickX:e[7],formatTickY:Mn(".2~%")}]),16&n&&(r.markers=e[4]),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function vc(e){let t,n,r,o=e[9].value+"";return{c(){t=x("p"),n=w(o),r=_()},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){2&t&&o!==(o=e[9].value+"")&&C(n,o)},d(e){e&&v(t)}}}function $c(e){let t,n,r,o=e[9].value+"";return{c(){t=x("p"),n=w(o),r=_()},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){4&t&&o!==(o=e[9].value+"")&&C(n,o)},d(e){e&&v(t)}}}function xc(e){let t,n,i,s,a,l,c,u,f,p,h;const d=[yc,gc],b=[];function w(e,t){return e[5]?0:1}n=w(e),i=b[n]=d[n](e);let k=e[1],C=[];for(let t=0;t<k.length;t+=1)C[t]=vc(mc(e,k,t));let z=e[2],N=[];for(let t=0;t<z.length;t+=1)N[t]=$c(dc(e,z,t));return{c(){t=x("div"),i.c(),s=_(),a=x("div");for(let e=0;e<C.length;e+=1)C[e].c();l=_(),c=x("div");for(let e=0;e<N.length;e+=1)N[e].c();M(a,"class","copy svelte-1uzo7nm"),M(c,"class","references svelte-1uzo7nm"),M(t,"class","section section-1 svelte-1uzo7nm")},m(r,o){y(r,t,o),b[n].m(t,null),g(t,s),g(t,a);for(let e=0;e<C.length;e+=1)C[e].m(a,null);g(t,l),g(t,c);for(let e=0;e<N.length;e+=1)N[e].m(c,null);f=!0,p||(h=[m(u=Ua.call(null,t,{once:e[0]})),T(t,"enter",e[8])],p=!0)},p(e,[r]){let l=n;if(n=w(e),n===l?b[n].p(e,r):(Z(),te(b[l],1,1,(()=>{b[l]=null})),Q(),i=b[n],i?i.p(e,r):(i=b[n]=d[n](e),i.c()),ee(i,1),i.m(t,s)),2&r){let t;for(k=e[1],t=0;t<k.length;t+=1){const n=mc(e,k,t);C[t]?C[t].p(n,r):(C[t]=vc(n),C[t].c(),C[t].m(a,null))}for(;t<C.length;t+=1)C[t].d(1);C.length=k.length}if(4&r){let t;for(z=e[2],t=0;t<z.length;t+=1){const n=dc(e,z,t);N[t]?N[t].p(n,r):(N[t]=$c(n),N[t].c(),N[t].m(c,null))}for(;t<N.length;t+=1)N[t].d(1);N.length=z.length}u&&o(u.update)&&1&r&&u.update.call(null,{once:e[0]})},i(e){f||(ee(i),f=!0)},o(e){te(i),f=!1},d(e){e&&v(t),b[n].d(),$(C,e),$(N,e),p=!1,r(h)}}}function bc(e,t,n){let r=!1,{once:o}=t,{copy:i}=t,{refs:s}=t,{captions:a}=t,{markers:l}=t;return e.$$set=e=>{"once"in e&&n(0,o=e.once),"copy"in e&&n(1,i=e.copy),"refs"in e&&n(2,s=e.refs),"captions"in e&&n(3,a=e.captions),"markers"in e&&n(4,l=e.markers)},[o,i,s,a,l,r,e=>0===e.getMonth()?Ir("%Y")(e):Ir("%b %Y")(e),e=>0===e.getMonth()?Ir("%Y")(e):Ir("%b %Y")(e),()=>n(5,r=!0)]}class wc extends ae{constructor(e){super(),se(this,e,bc,xc,i,{once:0,copy:1,refs:2,captions:3,markers:4})}}function _c(e,t,n){const r=e.slice();return r[9]=t[n],r}function kc(e,t,n){const r=e.slice();return r[9]=t[n],r[13]=n,r}function Tc(t){let n;return{c(){n=x("div"),M(n,"class","chart-placeholder svelte-1kkpabm")},m(e,t){y(e,n,t)},p:e,i:e,o:e,d(e){e&&v(n)}}}function Mc(e){let t,n;return t=new hc({props:{config:[{url:"assets/data/fig3a_smoothed.csv",description:"Median monthly minutes on YouTube (total)",type:"line",xKey:"date",yKey:"median_duration",zKey:"label",includeCaption:!0,caption:e[3][0].value,formatTickX:e[6],formatTickY:Sc},{url:"assets/data/fig3b_smoothed.csv",description:"Median monthly minutes on YouTube (within news cluster)",type:"line",xKey:"date",yKey:"median_user_watchtime",zKey:"label",includeCaption:!0,caption:e[3][1].value,formatTickX:e[7],formatTickY:Dc}],title:"YouTube consumption",markers:e[4]}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.config=[{url:"assets/data/fig3a_smoothed.csv",description:"Median monthly minutes on YouTube (total)",type:"line",xKey:"date",yKey:"median_duration",zKey:"label",includeCaption:!0,caption:e[3][0].value,formatTickX:e[6],formatTickY:Sc},{url:"assets/data/fig3b_smoothed.csv",description:"Median monthly minutes on YouTube (within news cluster)",type:"line",xKey:"date",yKey:"median_user_watchtime",zKey:"label",includeCaption:!0,caption:e[3][1].value,formatTickX:e[7],formatTickY:Dc}]),16&n&&(r.markers=e[4]),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Cc(e){let t,n,r,o=e[9].value+"";return{c(){t=x("p"),n=w(o),r=_()},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){2&t&&o!==(o=e[9].value+"")&&C(n,o)},d(e){e&&v(t)}}}function zc(e){let t,n,r,o=e[9].value+"";return{c(){t=x("p"),n=w(o),r=_()},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){4&t&&o!==(o=e[9].value+"")&&C(n,o)},d(e){e&&v(t)}}}function Nc(e){let t,n,i,s,a,l,c,u,f,p,h;const d=[Mc,Tc],b=[];function w(e,t){return e[5]?0:1}n=w(e),i=b[n]=d[n](e);let k=e[1],C=[];for(let t=0;t<k.length;t+=1)C[t]=Cc(kc(e,k,t));let z=e[2],N=[];for(let t=0;t<z.length;t+=1)N[t]=zc(_c(e,z,t));return{c(){t=x("div"),i.c(),s=_(),a=x("div");for(let e=0;e<C.length;e+=1)C[e].c();l=_(),c=x("div");for(let e=0;e<N.length;e+=1)N[e].c();M(a,"class","copy svelte-1kkpabm"),M(c,"class","references svelte-1kkpabm"),M(t,"class","section section-2 svelte-1kkpabm")},m(r,o){y(r,t,o),b[n].m(t,null),g(t,s),g(t,a);for(let e=0;e<C.length;e+=1)C[e].m(a,null);g(t,l),g(t,c);for(let e=0;e<N.length;e+=1)N[e].m(c,null);f=!0,p||(h=[m(u=Ua.call(null,t,{once:e[0]})),T(t,"enter",e[8])],p=!0)},p(e,[r]){let l=n;if(n=w(e),n===l?b[n].p(e,r):(Z(),te(b[l],1,1,(()=>{b[l]=null})),Q(),i=b[n],i?i.p(e,r):(i=b[n]=d[n](e),i.c()),ee(i,1),i.m(t,s)),2&r){let t;for(k=e[1],t=0;t<k.length;t+=1){const n=kc(e,k,t);C[t]?C[t].p(n,r):(C[t]=Cc(n),C[t].c(),C[t].m(a,null))}for(;t<C.length;t+=1)C[t].d(1);C.length=k.length}if(4&r){let t;for(z=e[2],t=0;t<z.length;t+=1){const n=_c(e,z,t);N[t]?N[t].p(n,r):(N[t]=zc(n),N[t].c(),N[t].m(c,null))}for(;t<N.length;t+=1)N[t].d(1);N.length=z.length}u&&o(u.update)&&1&r&&u.update.call(null,{once:e[0]})},i(e){f||(ee(i),f=!0)},o(e){te(i),f=!1},d(e){e&&v(t),b[n].d(),$(C,e),$(N,e),p=!1,r(h)}}}const Sc=(e,t,n)=>{const r=e.toFixed(0);return t===n-1?`${r} minutes`:r},Dc=(e,t,n)=>{const r=e.toFixed(0);return t===n-1?`${r} minutes`:r};function jc(e,t,n){let r=!1,{once:o}=t,{copy:i}=t,{refs:s}=t,{captions:a}=t,{markers:l}=t;return e.$$set=e=>{"once"in e&&n(0,o=e.once),"copy"in e&&n(1,i=e.copy),"refs"in e&&n(2,s=e.refs),"captions"in e&&n(3,a=e.captions),"markers"in e&&n(4,l=e.markers)},[o,i,s,a,l,r,e=>0===e.getMonth()?Ir("%Y")(e):Ir("%b %Y")(e),e=>0===e.getMonth()?Ir("%Y")(e):Ir("%b %Y")(e),()=>n(5,r=!0)]}class Ac extends ae{constructor(e){super(),se(this,e,jc,Nc,i,{once:0,copy:1,refs:2,captions:3,markers:4})}}function qc(e,t,n){const r=e.slice();return r[19]=t[n],r}function Lc(e,t,n){const r=e.slice();return r[22]=t[n],r[24]=n,r}function Ec(e){let t,n,o,i,s,a,l,c;function u(...t){return e[13](e[19],e[22],...t)}function f(...t){return e[14](e[19],e[22],...t)}return{c(){t=b("rect"),M(t,"class","group-rect svelte-yc7lmv"),M(t,"data-id",e[24]),M(t,"x",n=e[0](e[22])[0]),M(t,"y",o=e[3](e[22])),M(t,"height",i=e[4].bandwidth()),M(t,"width",s=e[1](e[22])),M(t,"fill",a=e[5](e[19])),M(t,"stroke","white")},m(n,r){y(n,t,r),l||(c=[T(t,"mouseover",u),T(t,"focus",f),T(t,"mouseout",e[15]),T(t,"blur",e[16])],l=!0)},p(r,l){e=r,5&l&&n!==(n=e[0](e[22])[0])&&M(t,"x",n),12&l&&o!==(o=e[3](e[22]))&&M(t,"y",o),16&l&&i!==(i=e[4].bandwidth())&&M(t,"height",i),6&l&&s!==(s=e[1](e[22]))&&M(t,"width",s),36&l&&a!==(a=e[5](e[19]))&&M(t,"fill",a)},d(e){e&&v(t),l=!1,r(c)}}}function Yc(e){let t,n,r=e[19],o=[];for(let t=0;t<r.length;t+=1)o[t]=Ec(Lc(e,r,t));return{c(){t=b("g");for(let e=0;e<o.length;e+=1)o[e].c();M(t,"class",n=h(`series-group series-${e[19].key}`)+" svelte-yc7lmv")},m(e,n){y(e,t,n);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(e,i){if(6207&i){let n;for(r=e[19],n=0;n<r.length;n+=1){const s=Lc(e,r,n);o[n]?o[n].p(s,i):(o[n]=Ec(s),o[n].c(),o[n].m(t,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=r.length}4&i&&n!==(n=h(`series-group series-${e[19].key}`)+" svelte-yc7lmv")&&M(t,"class",n)},d(e){e&&v(t),$(o,e)}}}function Kc(t){let n,r=t[2],o=[];for(let e=0;e<r.length;e+=1)o[e]=Yc(qc(t,r,e));return{c(){n=b("g");for(let e=0;e<o.length;e+=1)o[e].c();M(n,"class","bar-group")},m(e,t){y(e,n,t);for(let e=0;e<o.length;e+=1)o[e].m(n,null)},p(e,[t]){if(6207&t){let i;for(r=e[2],i=0;i<r.length;i+=1){const s=qc(e,r,i);o[i]?o[i].p(s,t):(o[i]=Yc(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:e,o:e,d(e){e&&v(n),$(o,e)}}}function Rc(e,t,n){let r,o,i,s,l,c;const{data:u,xGet:f,yGet:p,zGet:h,yScale:d,zScale:m}=K("LayerCake");a(e,u,(e=>n(2,i=e))),a(e,f,(e=>n(0,o=e))),a(e,p,(e=>n(3,s=e))),a(e,h,(e=>n(5,c=e))),a(e,d,(e=>n(4,l=e)));const g=Y();function y(e,t){g("mousemove",{e:e,props:t}),document.querySelectorAll(".group-rect").forEach((t=>{t!==e.target?t.classList.add("inactive"):t.classList.add("active")}))}function v(e){g("mouseout"),document.querySelectorAll(".group-rect").forEach((e=>e.classList.remove("inactive"))),e.target.classList.remove("active")}return e.$$.update=()=>{1&e.$$.dirty&&n(1,r=e=>{const t=o(e);return t[1]-t[0]})},[o,r,i,s,l,c,u,f,p,h,d,y,v,(e,t,n)=>y(n,{key:e.key,...t.data}),(e,t,n)=>y(n,{key:e.key,...t.data}),e=>v(e),e=>v(e)]}class Uc extends ae{constructor(e){super(),se(this,e,Rc,Kc,i,{})}}const Fc=e=>Mn(`.${e}~%`),Pc=Mn(",.0s"),Hc=Mn(",.0f");function Ic(e,t,n){const r=e.slice();r[30]=t[n];const o=r[29][r[29].key];return r[31]=o,r}function Oc(e,t,n){const r=e.slice();r[30]=t[n];const o=r[29][r[29].key];return r[31]=o,r}function Wc(e,t,n){const r=e.slice();return r[36]=t[n],r[38]=n,r}function Gc(e){let t,n;return{c(){t=x("h3"),n=w(e[16]),M(t,"class","chart-title svelte-wrhpuq")},m(e,r){y(e,t,r),g(t,n)},p(e,t){65536&t[0]&&C(n,e[16])},d(e){e&&v(t)}}}function Xc(e){let t,n,r,o,i,s=e[7].get(e[36])+"";return{c(){t=x("div"),n=x("span"),r=w(s),i=_(),M(n,"class","legend-label svelte-wrhpuq"),M(n,"style",o=`--color: ${e[9].get(e[36])}`),M(t,"class","legend-group svelte-wrhpuq")},m(e,o){y(e,t,o),g(t,n),g(n,r),g(t,i)},p(e,t){129&t[0]&&s!==(s=e[7].get(e[36])+"")&&C(r,s),513&t[0]&&o!==(o=`--color: ${e[9].get(e[36])}`)&&M(n,"style",o)},d(e){e&&v(t)}}}function Vc(e){let t,n,r,o,i,s;return t=new $l({props:{gridlines:!1,ticks:3,snapTicks:!0,tickMarks:!0,formatTick:e[5]}}),r=new Ml({props:{gridlines:!1,formatTick:e[22]}}),i=new Uc({}),i.$on("mousemove",e[23]),i.$on("mouseout",e[24]),{c(){ne(t.$$.fragment),n=_(),ne(r.$$.fragment),o=_(),ne(i.$$.fragment)},m(e,a){re(t,e,a),y(e,n,a),re(r,e,a),y(e,o,a),re(i,e,a),s=!0},p(e,n){const o={};32&n[0]&&(o.formatTick=e[5]),t.$set(o);const i={};64&n[0]&&(i.formatTick=e[22]),r.$set(i)},i(e){s||(ee(t.$$.fragment,e),ee(r.$$.fragment,e),ee(i.$$.fragment,e),s=!0)},o(e){te(t.$$.fragment,e),te(r.$$.fragment,e),te(i.$$.fragment,e),s=!1},d(e){oe(t,e),e&&v(n),oe(r,e),e&&v(o),oe(i,e)}}}function Bc(e){let t,n;return t=new ha({props:{evt:e[17],offset:-10,$$slots:{default:[tu,({detail:e})=>({28:e}),({detail:e})=>[e?268435456:0]]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};131072&n[0]&&(r.evt=e[17]),268469216&n[0]|256&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Jc(e){let t,n,r,o,i,s,a,l,c,u,f,p,h=e[6].get(e[29].cluster)+"",d=e[7].get(e[29].key)+"",m=["value"],b=[];for(let t=0;t<1;t+=1)b[t]=Qc(Ic(e,m,t));return{c(){t=x("div"),n=x("p"),r=w("Community: "),o=x("span"),i=w(h),s=_(),a=x("p"),l=w("Content: "),c=x("span"),u=w(d),f=_();for(let e=0;e<1;e+=1)b[e].c();p=k(),M(o,"class","cluster-label svelte-wrhpuq"),z(o,"--color",e[8].get(e[29].cluster)),M(c,"class","cluster-label svelte-wrhpuq"),z(c,"--color",e[9].get(e[29].key))},m(e,h){y(e,t,h),g(t,n),g(n,r),g(n,o),g(o,i),g(t,s),g(t,a),g(a,l),g(a,c),g(c,u),y(e,f,h);for(let t=0;t<1;t+=1)b[t].m(e,h);y(e,p,h)},p(e,t){if(268435520&t[0]&&h!==(h=e[6].get(e[29].cluster)+"")&&C(i,h),268435712&t[0]&&z(o,"--color",e[8].get(e[29].cluster)),268435584&t[0]&&d!==(d=e[7].get(e[29].key)+"")&&C(u,d),268435968&t[0]&&z(c,"--color",e[9].get(e[29].key)),268435488&t[0]){let n;for(m=["value"],n=0;n<1;n+=1){const r=Ic(e,m,n);b[n]?b[n].p(r,t):(b[n]=Qc(r),b[n].c(),b[n].m(p.parentNode,p))}for(;n<1;n+=1)b[n].d(1)}},d(e){e&&v(t),e&&v(f),$(b,e),e&&v(p)}}}function Zc(e){let t,n,r,o,i,s,a,l,c=e[7].get(e[29].key)+"",u=e[6].get(e[29].cluster)+"",f=["value"],p=[];for(let t=0;t<1;t+=1)p[t]=eu(Oc(e,f,t));return{c(){t=x("div"),n=x("span"),r=w(c),o=w(" ➞\n\t\t\t\t\t\t\t\t"),i=x("span"),s=w(u),a=_();for(let e=0;e<1;e+=1)p[e].c();l=k(),M(n,"class","cluster-label svelte-wrhpuq"),z(n,"--color",e[9].get(e[29].key)),M(i,"class","cluster-label svelte-wrhpuq"),z(i,"--color",e[8].get(e[29].cluster))},m(e,c){y(e,t,c),g(t,n),g(n,r),g(t,o),g(t,i),g(i,s),y(e,a,c);for(let t=0;t<1;t+=1)p[t].m(e,c);y(e,l,c)},p(e,t){if(268435584&t[0]&&c!==(c=e[7].get(e[29].key)+"")&&C(r,c),268435968&t[0]&&z(n,"--color",e[9].get(e[29].key)),268435520&t[0]&&u!==(u=e[6].get(e[29].cluster)+"")&&C(s,u),268435712&t[0]&&z(i,"--color",e[8].get(e[29].cluster)),268435488&t[0]){let n;for(f=["value"],n=0;n<1;n+=1){const r=Oc(e,f,n);p[n]?p[n].p(r,t):(p[n]=eu(r),p[n].c(),p[n].m(l.parentNode,l))}for(;n<1;n+=1)p[n].d(1)}},d(e){e&&v(t),e&&v(a),$(p,e),e&&v(l)}}}function Qc(e){let t,n,r,o=e[5](e[31])+"";return{c(){t=x("div"),n=w("Share: "),r=w(o),M(t,"class","row")},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){268435488&t[0]&&o!==(o=e[5](e[31])+"")&&C(r,o)},d(e){e&&v(t)}}}function eu(e){let t,n,r=e[5](e[31])+"";return{c(){t=x("div"),n=w(r),M(t,"class","row")},m(e,r){y(e,t,r),g(t,n)},p(e,t){268435488&t[0]&&r!==(r=e[5](e[31])+"")&&C(n,r)},d(e){e&&v(t)}}}function tu(e){let t;function n(e,t){return"arrow"===e[15]?Zc:Jc}function r(e,t){return t===Zc?function(e){const t=e.slice(),n={...t[28].props};return t[29]=n,t}(e):function(e){const t=e.slice(),n={...t[28].props};return t[29]=n,t}(e)}let o=n(e),i=o(r(e,o));return{c(){i.c(),t=k()},m(e,n){i.m(e,n),y(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(r(e,o),s):(i.d(1),i=o(r(e,o)),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&v(t)}}}function nu(e){let t,n,r=!0!==e[18]&&Bc(e);return{c(){r&&r.c(),t=k()},m(e,o){r&&r.m(e,o),y(e,t,o),n=!0},p(e,n){!0!==e[18]?r?(r.p(e,n),262144&n[0]&&ee(r,1)):(r=Bc(e),r.c(),ee(r,1),r.m(t.parentNode,t)):r&&(Z(),te(r,1,1,(()=>{r=null})),Q())},i(e){n||(ee(r),n=!0)},o(e){te(r),n=!1},d(e){r&&r.d(e),e&&v(t)}}}function ru(e){let t,n,r,o;return t=new ns({props:{$$slots:{default:[Vc]},$$scope:{ctx:e}}}),r=new Vi({props:{pointerEvents:!1,$$slots:{default:[nu]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment),n=_(),ne(r.$$.fragment)},m(e,i){re(t,e,i),y(e,n,i),re(r,e,i),o=!0},p(e,n){const o={};393312&n[0]|256&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};426976&n[0]|256&n[1]&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){o||(ee(t.$$.fragment,e),ee(r.$$.fragment,e),o=!0)},o(e){te(t.$$.fragment,e),te(r.$$.fragment,e),o=!1},d(e){oe(t,e),e&&v(n),oe(r,e)}}}function ou(e){let t,n;return t=new Hl({props:{caption:e[10],url:e[1],type:12===e[12]?"split-cols":"single-cols"}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};1024&n[0]&&(r.caption=e[10]),2&n[0]&&(r.url=e[1]),4096&n[0]&&(r.type=12===e[12]?"split-cols":"single-cols"),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function iu(e){let t,n,r,o,i,s,a,l,c,u,f,p,d=e[16]&&Gc(e),m=e[0].columns.filter(su),b=[];for(let t=0;t<m.length;t+=1)b[t]=Xc(Wc(e,m,t));a=new Ii({props:{padding:{top:0,right:0,bottom:15,left:55},flatData:rs(e[19]),data:e[19],x:e[3],y:e[25],yScale:ct().paddingInner([.35]).paddingOuter([.01]).round(!0),yDomain:e[20],z:e[4],zScale:lt(),zDomain:e[20],zRange:e[21],$$slots:{default:[ru]},$$scope:{ctx:e}}});let w=e[11]&&ou(e);return{c(){d&&d.c(),t=_(),n=x("div");for(let e=0;e<b.length;e+=1)b[e].c();o=_(),i=x("div"),s=x("div"),ne(a.$$.fragment),c=_(),w&&w.c(),M(n,"class","legend-container svelte-wrhpuq"),M(n,"style",r="--row: "+(e[13]-1)),M(s,"class",l=h(`chart stacked-bar-chart ${e[14]}`)+" svelte-wrhpuq"),M(i,"class",u=h("chart-wrapper "+(12===e[12]?"split-cols":"single-cols"))+" svelte-wrhpuq"),M(i,"style",f=`--spanCol: ${e[12]}; --row: ${e[13]}`)},m(e,r){d&&d.m(e,r),y(e,t,r),y(e,n,r);for(let e=0;e<b.length;e+=1)b[e].m(n,null);y(e,o,r),y(e,i,r),g(i,s),re(a,s,null),g(i,c),w&&w.m(i,null),p=!0},p(e,o){if(e[16]?d?d.p(e,o):(d=Gc(e),d.c(),d.m(t.parentNode,t)):d&&(d.d(1),d=null),641&o[0]){let t;for(m=e[0].columns.filter(su),t=0;t<m.length;t+=1){const r=Wc(e,m,t);b[t]?b[t].p(r,o):(b[t]=Xc(r),b[t].c(),b[t].m(n,null))}for(;t<b.length;t+=1)b[t].d(1);b.length=m.length}(!p||8192&o[0]&&r!==(r="--row: "+(e[13]-1)))&&M(n,"style",r);const c={};8&o[0]&&(c.x=e[3]),4&o[0]&&(c.y=e[25]),16&o[0]&&(c.z=e[4]),426976&o[0]|256&o[1]&&(c.$$scope={dirty:o,ctx:e}),a.$set(c),(!p||16384&o[0]&&l!==(l=h(`chart stacked-bar-chart ${e[14]}`)+" svelte-wrhpuq"))&&M(s,"class",l),e[11]?w?(w.p(e,o),2048&o[0]&&ee(w,1)):(w=ou(e),w.c(),ee(w,1),w.m(i,null)):w&&(Z(),te(w,1,1,(()=>{w=null})),Q()),(!p||4096&o[0]&&u!==(u=h("chart-wrapper "+(12===e[12]?"split-cols":"single-cols"))+" svelte-wrhpuq"))&&M(i,"class",u),(!p||12288&o[0]&&f!==(f=`--spanCol: ${e[12]}; --row: ${e[13]}`))&&M(i,"style",f)},i(e){p||(ee(a.$$.fragment,e),ee(w),p=!0)},o(e){te(a.$$.fragment,e),te(w),p=!1},d(e){d&&d.d(e),e&&v(t),e&&v(n),$(b,e),e&&v(o),e&&v(i),oe(a),w&&w.d()}}}const su=e=>"cluster"!==e;function au(e,t,n){let{data:r}=t,{url:o}=t,{yKey:i}=t,{xKey:s}=t,{zKey:a}=t,{formatter:l=Fc(0)}=t,{clusterLabelMap:c=Js}=t,{keyLabelMap:u=Js}=t,{clusterColorMap:f=Qs}=t,{keyColorMap:p=Qs}=t,{caption:h="Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eius, tempore?"}=t,{includeCaption:d=!0}=t,{spanCol:m=12}=t,{row:g=4}=t,{customClass:y="chart-large"}=t,{tooltipType:v="arrow"}=t,{title:$}=t;const x=r.columns.filter((e=>e!==i)),b=function(){var e=Ga([]),t=ol,n=rl,r=il;function o(o){var i,s,a=Array.from(e.apply(this,arguments),sl),l=a.length,c=-1;for(const e of o)for(i=0,++c;i<l;++i)(a[i][c]=[0,+r(e,a[i].key,c,o)]).data=e;for(i=0,s=Xa(t(a));i<l;++i)a[s[i]].index=i;return n(a,s),a}return o.keys=function(t){return arguments.length?(e="function"==typeof t?t:Ga(Array.from(t)),o):e},o.value=function(e){return arguments.length?(r="function"==typeof e?e:Ga(+e),o):r},o.order=function(e){return arguments.length?(t=null==e?ol:"function"==typeof e?e:Ga(Array.from(e)),o):t},o.offset=function(e){return arguments.length?(n=null==e?rl:e,o):n},o}().keys(x),w=b(r);let _,k=nc(r.map((e=>e[i])),rc),T=Array.from(p).filter((e=>x.includes(e[0]))).map((e=>e[1])),M=!0;return e.$$set=e=>{"data"in e&&n(0,r=e.data),"url"in e&&n(1,o=e.url),"yKey"in e&&n(2,i=e.yKey),"xKey"in e&&n(3,s=e.xKey),"zKey"in e&&n(4,a=e.zKey),"formatter"in e&&n(5,l=e.formatter),"clusterLabelMap"in e&&n(6,c=e.clusterLabelMap),"keyLabelMap"in e&&n(7,u=e.keyLabelMap),"clusterColorMap"in e&&n(8,f=e.clusterColorMap),"keyColorMap"in e&&n(9,p=e.keyColorMap),"caption"in e&&n(10,h=e.caption),"includeCaption"in e&&n(11,d=e.includeCaption),"spanCol"in e&&n(12,m=e.spanCol),"row"in e&&n(13,g=e.row),"customClass"in e&&n(14,y=e.customClass),"tooltipType"in e&&n(15,v=e.tooltipType),"title"in e&&n(16,$=e.title)},[r,o,i,s,a,l,c,u,f,p,h,d,m,g,y,v,$,_,M,w,k,T,e=>c.get(e),e=>n(17,_=n(18,M=e)),()=>n(18,M=!0),e=>e.data[i]]}class lu extends ae{constructor(e){super(),se(this,e,au,iu,i,{data:0,url:1,yKey:2,xKey:3,zKey:4,formatter:5,clusterLabelMap:6,keyLabelMap:7,clusterColorMap:8,keyColorMap:9,caption:10,includeCaption:11,spanCol:12,row:13,customClass:14,tooltipType:15,title:16},null,[-1,-1])}}function cu(){var e={},t=24,n=8,r=[1,1],o=[],i=[];function s(){function e(e,t){return e.source.x-t.source.x}function t(e,t){return e.target.x-t.target.x}o.forEach((function(n){n.sourceLinks.sort(t),n.targetLinks.sort(e)})),o.forEach((function(e){var t=0,n=0;e.sourceLinks.forEach((function(e){e.sy=t,t+=e.dy})),e.targetLinks.forEach((function(e){e.ty=n,n+=e.dy}))}))}function a(e){return e.y+e.dy/2}function l(e){return e.value}return e.nodeWidth=function(n){return arguments.length?(t=+n,e):t},e.nodePadding=function(t){return arguments.length?(n=+t,e):n},e.nodes=function(t){return arguments.length?(o=t,e):o},e.links=function(t){return arguments.length?(i=t,e):i},e.size=function(t){return arguments.length?(r=t,e):r},e.layout=function(c){return o.forEach((function(e){e.sourceLinks=[],e.targetLinks=[]})),i.forEach((function(e){var t=e.source,n=e.target;"number"==typeof t&&(t=e.source=o[e.source]),"number"==typeof n&&(n=e.target=o[e.target]),t.sourceLinks.push(e),n.targetLinks.push(e)})),o.forEach((function(e){e.value=Math.max(ot(e.sourceLinks,l),ot(e.targetLinks,l))})),function(){var e,n=o,i=0;for(;n.length;)e=[],n.forEach((function(t){t.y=i,t.sourceLinks.forEach((function(t){e.indexOf(t.target)<0&&e.push(t.target)}))})),n=e,++i;(function(e){o.forEach((function(t){t.sourceLinks.length||(t.y=e-1)}))})(i),s=(r[1]-t)/(i-1),o.forEach((function(e){e.y*=s}));var s}(),function(e){var t=Ve(o,(function(e){return e.y})).map((function(e){return e[1]})),s=(r[0]-(t[0].length-1)*n)/ot(t[0],l);t.forEach((function(e){e.forEach((function(e,t){e.x=t,e.dy=e.value*s}))})),i.forEach((function(e){e.dy=e.value*s})),p();for(var c=1;e>0;--e)u(c),p(),f(c*=.99),p();function u(e){function n(e){return a(e.source)*e.value}t.forEach((function(t,r){t.forEach((function(t){if(t.targetLinks.length){var r=ot(t.targetLinks,n)/ot(t.targetLinks,l);t.x+=(r-a(t))*e}}))}))}function f(e){function n(e){return a(e.target)*e.value}t.slice().reverse().forEach((function(t){t.forEach((function(t){if(t.sourceLinks.length){var r=ot(t.sourceLinks,n)/ot(t.sourceLinks,l);t.x+=(r-a(t))*e}}))}))}function p(){t.forEach((function(e){var t,o,i,s=0,a=e.length;for(e.sort(h),i=0;i<a;++i)(o=s-(t=e[i]).x)>0&&(t.x+=o),s=t.x+t.dy+n;if((o=s-n-r[0])>0)for(s=t.x-=o,i=a-2;i>=0;--i)(o=(t=e[i]).x+t.dy+n-s)>0&&(t.x-=o),s=t.x}))}function h(e,t){return t.x-e.x}}(c),s(),e},e.relayout=function(){return s(),e},e.link=function(){var e=.5;function n(n){var r=n.source.x+n.sy+n.dy/2,o=n.target.x+n.ty+n.dy/2,i=n.source.y+t,s=n.target.y,a=Zt(i,s);return"M"+r+","+i+"C"+r+","+a(e)+" "+o+","+a(1-e)+" "+o+","+s}return n.curvature=function(t){return arguments.length?(e=+t,n):e},n},e}function uu(e,t,n){const r=e.slice();r[26]=t[n],r[30]=n;const o=r[26].id.split("_");return r[27]=o[0],r[28]=o[1],r}function fu(e,t,n){const r=e.slice();return r[26]=t[n],r}function pu(e){let t,n,o,i,s;function a(...t){return e[21](e[26],...t)}function l(...t){return e[22](e[26],...t)}return{c(){t=b("path"),M(t,"class","link svelte-1eqkavw"),M(t,"stroke-width",n=e[26].dy),M(t,"d",o=e[6](e[26])),z(t,"--color",e[0](e[26].sourceName))},m(n,r){y(n,t,r),i||(s=[T(t,"mouseover",a),T(t,"focus",l),T(t,"mouseout",e[23]),T(t,"blur",e[24])],i=!0)},p(r,i){e=r,128&i[0]&&n!==(n=e[26].dy)&&M(t,"stroke-width",n),192&i[0]&&o!==(o=e[6](e[26]))&&M(t,"d",o),129&i[0]&&z(t,"--color",e[0](e[26].sourceName))},d(e){e&&v(t),i=!1,r(s)}}}function hu(e){let t,n,r,o,i,s,a,l,c,u,f,p,d,m=e[2](e[28])+"";return{c(){t=b("g"),n=b("rect"),c=b("text"),u=w(m),M(n,"class",r=h(`node node-${e[27]}`)+" svelte-1eqkavw"),M(n,"x",o=e[26].x),M(n,"y",i=e[26].y+("source"===e[27]?e[4].nodeWidth()-7.5:0)),M(n,"height",s=7.5),M(n,"width",a=e[26].dy),M(n,"fill",l=e[1](e[28])),M(c,"class","label svelte-1eqkavw"),M(c,"x",f=e[26].x+e[26].dy/2),M(c,"y",p=e[26].y+("source"===e[27]?-2.5:2.5)),M(c,"dy",d=e[4].nodeWidth()/2+e[5]/2-2),z(c,"fill",e[3](e[26])),z(c,"font-size",e[5]+"px"),M(t,"class","node-group")},m(e,r){y(e,t,r),g(t,n),g(t,c),g(c,u)},p(e,t){256&t[0]&&r!==(r=h(`node node-${e[27]}`)+" svelte-1eqkavw")&&M(n,"class",r),256&t[0]&&o!==(o=e[26].x)&&M(n,"x",o),272&t[0]&&i!==(i=e[26].y+("source"===e[27]?e[4].nodeWidth()-7.5:0))&&M(n,"y",i),256&t[0]&&a!==(a=e[26].dy)&&M(n,"width",a),258&t[0]&&l!==(l=e[1](e[28]))&&M(n,"fill",l),260&t[0]&&m!==(m=e[2](e[28])+"")&&C(u,m),256&t[0]&&f!==(f=e[26].x+e[26].dy/2)&&M(c,"x",f),256&t[0]&&p!==(p=e[26].y+("source"===e[27]?-2.5:2.5))&&M(c,"y",p),48&t[0]&&d!==(d=e[4].nodeWidth()/2+e[5]/2-2)&&M(c,"dy",d),264&t[0]&&z(c,"fill",e[3](e[26])),32&t[0]&&z(c,"font-size",e[5]+"px")},d(e){e&&v(t)}}}function du(t){let n,r,o,i=t[7],s=[];for(let e=0;e<i.length;e+=1)s[e]=pu(fu(t,i,e));let a=t[8],l=[];for(let e=0;e<a.length;e+=1)l[e]=hu(uu(t,a,e));return{c(){n=b("g"),r=b("g");for(let e=0;e<s.length;e+=1)s[e].c();o=b("g");for(let e=0;e<l.length;e+=1)l[e].c();M(r,"class","link-group"),M(o,"class","rect-group"),M(n,"class","sankey-layer")},m(e,t){y(e,n,t),g(n,r);for(let e=0;e<s.length;e+=1)s[e].m(r,null);g(n,o);for(let e=0;e<l.length;e+=1)l[e].m(o,null)},p(e,t){if(12481&t[0]){let n;for(i=e[7],n=0;n<i.length;n+=1){const o=fu(e,i,n);s[n]?s[n].p(o,t):(s[n]=pu(o),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}if(318&t[0]){let n;for(a=e[8],n=0;n<a.length;n+=1){const r=uu(e,a,n);l[n]?l[n].p(r,t):(l[n]=hu(r),l[n].c(),l[n].m(o,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=a.length}},i:e,o:e,d(e){e&&v(n),$(s,e),$(l,e)}}}function mu(e,t,n){let r,o,i,s,l,c,u,f;const{data:p,width:h,height:d}=K("LayerCake");a(e,p,(e=>n(19,u=e))),a(e,h,(e=>n(18,c=e))),a(e,d,(e=>n(20,f=e)));let{colorLinks:m=(e=>"rgba(0, 0, 0, .2)")}=t,{colorNodes:g=(e=>"#333")}=t,{labelNodes:y=(e=>e)}=t,{colorText:v=(e=>"#263238")}=t,{nodeWidth:$=5}=t,{nodePadding:x=10}=t,{linkSort:b=null}=t,{nodeId:w=(e=>e.id)}=t;const _=Y();function k(e,t){_("mousemove",{e:e,props:t}),document.querySelectorAll(".link").forEach((t=>{t!==e.target?t.classList.add("inactive"):t.classList.add("active")}))}function T(e){_("mouseout"),document.querySelectorAll(".link").forEach((e=>e.classList.remove("inactive"))),e.target.classList.remove("active")}return e.$$set=e=>{"colorLinks"in e&&n(0,m=e.colorLinks),"colorNodes"in e&&n(1,g=e.colorNodes),"labelNodes"in e&&n(2,y=e.labelNodes),"colorText"in e&&n(3,v=e.colorText),"nodeWidth"in e&&n(14,$=e.nodeWidth),"nodePadding"in e&&n(15,x=e.nodePadding),"linkSort"in e&&n(16,b=e.linkSort),"nodeId"in e&&n(17,w=e.nodeId)},e.$$.update=()=>{1835008&e.$$.dirty[0]&&n(4,r=cu().nodeWidth(25).nodePadding(5).size([c,f]).nodes(u.nodes).links(u.links).layout(0)),16&e.$$.dirty[0]&&n(8,o=r.nodes()),16&e.$$.dirty[0]&&n(7,i=r.links()),16&e.$$.dirty[0]&&n(6,s=r.link()),262144&e.$$.dirty[0]&&n(5,l=c<=320?8:12)},[m,g,y,v,r,l,s,i,o,p,h,d,k,T,$,x,b,w,c,u,f,(e,t)=>k(t,e),(e,t)=>k(t,e),e=>T(e),e=>T(e)]}class gu extends ae{constructor(e){super(),se(this,e,mu,du,i,{colorLinks:0,colorNodes:1,labelNodes:2,colorText:3,nodeWidth:14,nodePadding:15,linkSort:16,nodeId:17},null,[-1,-1])}}function yu(t){let n,r,o,i,s;return{c(){n=x("div"),r=w(t[0]),o=_(),i=x("div"),s=w(t[1]),M(n,"class","sankey-label source svelte-u8s73z"),z(n,"--padding-top","-"+3*t[2].top/4+"px"),M(i,"class","sankey-label target svelte-u8s73z"),z(i,"--padding-bottom","-"+3*t[2].bottom/4+"px")},m(e,t){y(e,n,t),g(n,r),y(e,o,t),y(e,i,t),g(i,s)},p(e,[t]){1&t&&C(r,e[0]),4&t&&z(n,"--padding-top","-"+3*e[2].top/4+"px"),2&t&&C(s,e[1]),4&t&&z(i,"--padding-bottom","-"+3*e[2].bottom/4+"px")},i:e,o:e,d(e){e&&v(n),e&&v(o),e&&v(i)}}}function vu(e,t,n){let r,{source:o}=t,{target:i}=t;const{width:s,padding:l}=K("LayerCake");return a(e,l,(e=>n(2,r=e))),e.$$set=e=>{"source"in e&&n(0,o=e.source),"target"in e&&n(1,i=e.target)},[o,i,r,l]}class $u extends ae{constructor(e){super(),se(this,e,vu,yu,i,{source:0,target:1})}}function xu(e){const t={...e[17].props};e[18]=t}function bu(e,t,n){const r=e.slice();r[19]=t[n];const o=r[18][r[19]];return r[20]=o,r}function wu(e){let t,n,r;return{c(){t=x("h3"),n=w(e[9]),M(t,"class",r="chart-title "+(12===e[6]?"title-split-cols":"title-single-cols")+" svelte-hqwpkh")},m(e,r){y(e,t,r),g(t,n)},p(e,o){512&o&&C(n,e[9]),64&o&&r!==(r="chart-title "+(12===e[6]?"title-split-cols":"title-single-cols")+" svelte-hqwpkh")&&M(t,"class",r)},d(e){e&&v(t)}}}function _u(t){let n,r,o,i,s,a,l;return a=new gu({props:{colorNodes:t[12],labelNodes:t[13],colorLinks:t[14]}}),a.$on("mousemove",t[15]),a.$on("mouseout",t[16]),{c(){n=b("defs"),r=b("linearGradient"),o=b("stop"),i=b("stop"),s=_(),ne(a.$$.fragment),M(o,"offset","0"),M(o,"stop-color","var(--color-source)"),M(i,"offset","100%"),M(i,"stop-color","var(--color-target)"),M(r,"id","gradient"),M(r,"gradientTransform","rotate(90)")},m(e,t){y(e,n,t),g(n,r),g(r,o),g(r,i),y(e,s,t),re(a,e,t),l=!0},p:e,i(e){l||(ee(a.$$.fragment,e),l=!0)},o(e){te(a.$$.fragment,e),l=!1},d(e){e&&v(n),e&&v(s),oe(a,e)}}}function ku(e){let t,n;return t=new ha({props:{evt:e[10],offset:-10,$$slots:{default:[Mu,({detail:e})=>({17:e}),({detail:e})=>e?131072:0]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};1024&n&&(r.evt=e[10]),8519688&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Tu(e){let t,n,r=e[3](e[20])+"";return{c(){t=x("div"),n=w(r),M(t,"class","row")},m(e,r){y(e,t,r),g(t,n)},p(e,t){131080&t&&r!==(r=e[3](e[20])+"")&&C(n,r)},d(e){e&&v(t)}}}function Mu(e){let t,n;xu(e);let r,o,i,s,a,l,c=Js.get(e[18].sourceName)+"",u=Js.get(e[18].targetName)+"",f=["value"],p=[];for(let t=0;t<1;t+=1)p[t]=Tu(bu(e,f,t));return{c(){t=x("div"),n=x("span"),r=w(c),o=w(" ➞\n                            "),i=x("span"),s=w(u),a=_();for(let e=0;e<1;e+=1)p[e].c();l=k(),M(n,"class","cluster-label svelte-hqwpkh"),z(n,"--color",Qs.get(e[18].sourceName)),M(i,"class","cluster-label svelte-hqwpkh"),z(i,"--color",Qs.get(e[18].targetName))},m(e,c){y(e,t,c),g(t,n),g(n,r),g(t,o),g(t,i),g(i,s),y(e,a,c);for(let t=0;t<1;t+=1)p[t].m(e,c);y(e,l,c)},p(e,t){if(xu(e),131072&t&&c!==(c=Js.get(e[18].sourceName)+"")&&C(r,c),131072&t&&z(n,"--color",Qs.get(e[18].sourceName)),131072&t&&u!==(u=Js.get(e[18].targetName)+"")&&C(s,u),131072&t&&z(i,"--color",Qs.get(e[18].targetName)),131080&t){let n;for(f=["value"],n=0;n<1;n+=1){const r=bu(e,f,n);p[n]?p[n].p(r,t):(p[n]=Tu(r),p[n].c(),p[n].m(l.parentNode,l))}for(;n<1;n+=1)p[n].d(1)}},d(e){e&&v(t),e&&v(a),$(p,e),e&&v(l)}}}function Cu(e){let t,n,r,o;t=new $u({props:{source:e[7],target:e[8]}});let i=!0!==e[11]&&ku(e);return{c(){ne(t.$$.fragment),n=_(),i&&i.c(),r=k()},m(e,s){re(t,e,s),y(e,n,s),i&&i.m(e,s),y(e,r,s),o=!0},p(e,n){const o={};128&n&&(o.source=e[7]),256&n&&(o.target=e[8]),t.$set(o),!0!==e[11]?i?(i.p(e,n),2048&n&&ee(i,1)):(i=ku(e),i.c(),ee(i,1),i.m(r.parentNode,r)):i&&(Z(),te(i,1,1,(()=>{i=null})),Q())},i(e){o||(ee(t.$$.fragment,e),ee(i),o=!0)},o(e){te(t.$$.fragment,e),te(i),o=!1},d(e){oe(t,e),e&&v(n),i&&i.d(e),e&&v(r)}}}function zu(e){let t,n,r,o;return t=new ns({props:{$$slots:{default:[_u]},$$scope:{ctx:e}}}),r=new Vi({props:{pointerEvents:!1,$$slots:{default:[Cu]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment),n=_(),ne(r.$$.fragment)},m(e,i){re(t,e,i),y(e,n,i),re(r,e,i),o=!0},p(e,n){const o={};8391680&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};8392072&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){o||(ee(t.$$.fragment,e),ee(r.$$.fragment,e),o=!0)},o(e){te(t.$$.fragment,e),te(r.$$.fragment,e),o=!1},d(e){oe(t,e),e&&v(n),oe(r,e)}}}function Nu(e){let t,n;return t=new Hl({props:{caption:e[4],url:e[2],type:12===e[6]?"split-cols":"single-cols"}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.caption=e[4]),4&n&&(r.url=e[2]),64&n&&(r.type=12===e[6]?"split-cols":"single-cols"),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Su(e){let t,n,r,o,i,s,a,l,c=e[9]&&wu(e);o=new Ii({props:{data:{nodes:e[0],links:e[1]},padding:{top:30,bottom:30,left:5,right:5},position:"relative",$$slots:{default:[zu]},$$scope:{ctx:e}}});let u=e[5]&&Nu(e);return{c(){c&&c.c(),t=_(),n=x("div"),r=x("div"),ne(o.$$.fragment),i=_(),u&&u.c(),M(r,"class","chart sankey-diagram"),M(n,"class",s=h("chart-wrapper "+(12===e[6]?"split-cols":"single-cols"))+" svelte-hqwpkh"),M(n,"style",a=`--spanCol: ${e[6]}`)},m(e,s){c&&c.m(e,s),y(e,t,s),y(e,n,s),g(n,r),re(o,r,null),g(n,i),u&&u.m(n,null),l=!0},p(e,[r]){e[9]?c?c.p(e,r):(c=wu(e),c.c(),c.m(t.parentNode,t)):c&&(c.d(1),c=null);const i={};3&r&&(i.data={nodes:e[0],links:e[1]}),8392072&r&&(i.$$scope={dirty:r,ctx:e}),o.$set(i),e[5]?u?(u.p(e,r),32&r&&ee(u,1)):(u=Nu(e),u.c(),ee(u,1),u.m(n,null)):u&&(Z(),te(u,1,1,(()=>{u=null})),Q()),(!l||64&r&&s!==(s=h("chart-wrapper "+(12===e[6]?"split-cols":"single-cols"))+" svelte-hqwpkh"))&&M(n,"class",s),(!l||64&r&&a!==(a=`--spanCol: ${e[6]}`))&&M(n,"style",a)},i(e){l||(ee(o.$$.fragment,e),ee(u),l=!0)},o(e){te(o.$$.fragment,e),te(u),l=!1},d(e){c&&c.d(e),e&&v(t),e&&v(n),oe(o),u&&u.d()}}}function Du(e,t,n){let r,{nodes:o}=t,{links:i}=t,{url:s}=t,{formatter:a=Fc(0)}=t,{caption:l="Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eius, tempore?"}=t,{includeCaption:c=!0}=t,{spanCol:u=12}=t,{sourceLabel:f="Source"}=t,{targetLabel:p="Target"}=t,{title:h}=t,d=!0;return e.$$set=e=>{"nodes"in e&&n(0,o=e.nodes),"links"in e&&n(1,i=e.links),"url"in e&&n(2,s=e.url),"formatter"in e&&n(3,a=e.formatter),"caption"in e&&n(4,l=e.caption),"includeCaption"in e&&n(5,c=e.includeCaption),"spanCol"in e&&n(6,u=e.spanCol),"sourceLabel"in e&&n(7,f=e.sourceLabel),"targetLabel"in e&&n(8,p=e.targetLabel),"title"in e&&n(9,h=e.title)},[o,i,s,a,l,c,u,f,p,h,r,d,e=>Qs.get(e),e=>Js.get(e),e=>Qs.get(e),e=>n(10,r=n(11,d=e)),()=>n(11,d=!0)]}class ju extends ae{constructor(e){super(),se(this,e,Du,Su,i,{nodes:0,links:1,url:2,formatter:3,caption:4,includeCaption:5,spanCol:6,sourceLabel:7,targetLabel:8,title:9})}}function Au(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function qu(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function Lu(t){let n;return{c(){n=x("div"),M(n,"class","chart-placeholder svelte-1uadzkm")},m(e,t){y(e,n,t)},p:e,i:e,o:e,d(e){e&&v(n)}}}function Eu(e){let t,n;return t=new lu({props:{data:e[5],yKey:Fu,xKey:e[6],zKey:Pu,formatter:Fc(2),url:Uu,spanCol:12,customClass:"chart-medium",tooltipType:"community",caption:e[3][0].value,title:"Consumption patterns of individuals strongly align with their clusters"}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.data=e[5]),8&n&&(r.caption=e[3][0].value),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Yu(e){let t,n,r,o=e[8].value+"";return{c(){t=x("p"),n=w(o),r=_()},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){2&t&&o!==(o=e[8].value+"")&&C(n,o)},d(e){e&&v(t)}}}function Ku(e){let t,n,r,o=e[8].value+"";return{c(){t=x("p"),n=w(o),r=_()},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){4&t&&o!==(o=e[8].value+"")&&C(n,o)},d(e){e&&v(t)}}}function Ru(e){let t,n,i,s,a,l,c,u,f,p,h;const d=[Eu,Lu],b=[];function w(e,t){return e[4]&&e[5]?0:1}n=w(e),i=b[n]=d[n](e);let k=e[1],C=[];for(let t=0;t<k.length;t+=1)C[t]=Yu(qu(e,k,t));let z=e[2],N=[];for(let t=0;t<z.length;t+=1)N[t]=Ku(Au(e,z,t));return{c(){t=x("div"),i.c(),s=_(),a=x("div");for(let e=0;e<C.length;e+=1)C[e].c();l=_(),c=x("div");for(let e=0;e<N.length;e+=1)N[e].c();M(a,"class","copy svelte-1uadzkm"),M(c,"class","references svelte-1uadzkm"),M(t,"class","section section-3 svelte-1uadzkm")},m(r,o){y(r,t,o),b[n].m(t,null),g(t,s),g(t,a);for(let e=0;e<C.length;e+=1)C[e].m(a,null);g(t,l),g(t,c);for(let e=0;e<N.length;e+=1)N[e].m(c,null);f=!0,p||(h=[m(u=Ua.call(null,t,{once:e[0]})),T(t,"enter",e[7])],p=!0)},p(e,[r]){let l=n;if(n=w(e),n===l?b[n].p(e,r):(Z(),te(b[l],1,1,(()=>{b[l]=null})),Q(),i=b[n],i?i.p(e,r):(i=b[n]=d[n](e),i.c()),ee(i,1),i.m(t,s)),2&r){let t;for(k=e[1],t=0;t<k.length;t+=1){const n=qu(e,k,t);C[t]?C[t].p(n,r):(C[t]=Yu(n),C[t].c(),C[t].m(a,null))}for(;t<C.length;t+=1)C[t].d(1);C.length=k.length}if(4&r){let t;for(z=e[2],t=0;t<z.length;t+=1){const n=Au(e,z,t);N[t]?N[t].p(n,r):(N[t]=Ku(n),N[t].c(),N[t].m(c,null))}for(;t<N.length;t+=1)N[t].d(1);N.length=z.length}u&&o(u.update)&&1&r&&u.update.call(null,{once:e[0]})},i(e){f||(ee(i),f=!0)},o(e){te(i),f=!1},d(e){e&&v(t),b[n].d(),$(C,e),$(N,e),p=!1,r(h)}}}let Uu="assets/data/fig1_pnas_mean.csv",Fu="cluster",Pu="key";function Hu(e,t,n){let r,o=!1,{once:i}=t,{copy:s}=t,{refs:a}=t,{captions:l}=t;E((async()=>{const e=await Ye(Uu,je);n(5,r=e)}));return e.$$set=e=>{"once"in e&&n(0,i=e.once),"copy"in e&&n(1,s=e.copy),"refs"in e&&n(2,a=e.refs),"captions"in e&&n(3,l=e.captions)},[i,s,a,l,o,r,[0,1],()=>n(4,o=!0)]}class Iu extends ae{constructor(e){super(),se(this,e,Hu,Ru,i,{once:0,copy:1,refs:2,captions:3})}}function Ou(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function Wu(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function Gu(t){let n;return{c(){n=x("div"),M(n,"class","chart-placeholder svelte-zpeit2")},m(e,t){y(e,n,t)},p:e,i:e,o:e,d(e){e&&v(n)}}}function Xu(e){let t,n;return t=new ju({props:{nodes:e[6],links:e[7],url:Zu,sourceLabel:"Month",targetLabel:"Month + 1",caption:e[3][0].value,title:'Community members tend to remain in their communities, suggesting "stickiness"'}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.nodes=e[6]),128&n&&(r.links=e[7]),8&n&&(r.caption=e[3][0].value),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Vu(e){let t,n,r,o=e[12].value+"";return{c(){t=x("p"),n=w(o),r=_()},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){2&t&&o!==(o=e[12].value+"")&&C(n,o)},d(e){e&&v(t)}}}function Bu(e){let t,n,r,o=e[12].value+"";return{c(){t=x("p"),n=w(o),r=_()},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){4&t&&o!==(o=e[12].value+"")&&C(n,o)},d(e){e&&v(t)}}}function Ju(e){let t,n,i,s,a,l,c,u,f,p,h;const d=[Xu,Gu],b=[];function w(e,t){return e[4]&&e[5]?0:1}n=w(e),i=b[n]=d[n](e);let k=e[1],C=[];for(let t=0;t<k.length;t+=1)C[t]=Vu(Wu(e,k,t));let z=e[2],N=[];for(let t=0;t<z.length;t+=1)N[t]=Bu(Ou(e,z,t));return{c(){t=x("div"),i.c(),s=_(),a=x("div");for(let e=0;e<C.length;e+=1)C[e].c();l=_(),c=x("div");for(let e=0;e<N.length;e+=1)N[e].c();M(a,"class","copy svelte-zpeit2"),M(c,"class","references svelte-zpeit2"),M(t,"class","section section-4 svelte-zpeit2")},m(r,o){y(r,t,o),b[n].m(t,null),g(t,s),g(t,a);for(let e=0;e<C.length;e+=1)C[e].m(a,null);g(t,l),g(t,c);for(let e=0;e<N.length;e+=1)N[e].m(c,null);f=!0,p||(h=[m(u=Ua.call(null,t,{once:e[0]})),T(t,"enter",e[8])],p=!0)},p(e,[r]){let l=n;if(n=w(e),n===l?b[n].p(e,r):(Z(),te(b[l],1,1,(()=>{b[l]=null})),Q(),i=b[n],i?i.p(e,r):(i=b[n]=d[n](e),i.c()),ee(i,1),i.m(t,s)),2&r){let t;for(k=e[1],t=0;t<k.length;t+=1){const n=Wu(e,k,t);C[t]?C[t].p(n,r):(C[t]=Vu(n),C[t].c(),C[t].m(a,null))}for(;t<C.length;t+=1)C[t].d(1);C.length=k.length}if(4&r){let t;for(z=e[2],t=0;t<z.length;t+=1){const n=Ou(e,z,t);N[t]?N[t].p(n,r):(N[t]=Bu(n),N[t].c(),N[t].m(c,null))}for(;t<N.length;t+=1)N[t].d(1);N.length=z.length}u&&o(u.update)&&1&r&&u.update.call(null,{once:e[0]})},i(e){f||(ee(i),f=!0)},o(e){te(i),f=!1},d(e){e&&v(t),b[n].d(),$(C,e),$(N,e),p=!1,r(h)}}}let Zu="assets/data/fig4.csv";function Qu(e,t,n){let r,o,i,s,a=!1,{once:l}=t,{copy:c}=t,{refs:u}=t,{captions:f}=t;E((async()=>{const e=await Ye(Zu,je);n(5,r=nc(e,["fR","R","AW","C","L","fL"],"from")),s=nc(e.columns,["fR","R","AW","C","L","fL"]),n(6,o=[...r.map((e=>({id:`source_${e.from}`}))),...s.map((e=>({id:`target_${e}`})))]),n(7,i=rs(r.map(((e,t)=>s.map(((n,r)=>({sourceName:e.from,targetName:n,source:t,target:r+6,value:e[n]})))))))}));return e.$$set=e=>{"once"in e&&n(0,l=e.once),"copy"in e&&n(1,c=e.copy),"refs"in e&&n(2,u=e.refs),"captions"in e&&n(3,f=e.captions)},[l,c,u,f,a,r,o,i,()=>n(4,a=!0)]}class ef extends ae{constructor(e){super(),se(this,e,Qu,Ju,i,{once:0,copy:1,refs:2,captions:3})}}function tf(e,t,n){const r=e.slice();r[22]=t[n],r[25]=n;const o=function(e,t){let n,r;if(void 0===t)for(const t of e)null!=t&&(void 0===n?t>=t&&(n=r=t):(n>t&&(n=t),r<t&&(r=t)));else{let o=-1;for(let i of e)null!=(i=t(i,++o,e))&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}(r[22][1],r[1]).map(r[2]);return r[23]=o,r}function nf(e,t,n){const r=e.slice();return r[26]=t[n],r[28]=n,r}function rf(e){let t,n,o,i,s,a,l;function c(...t){return e[17](e[26],...t)}function u(...t){return e[18](e[26],...t)}return{c(){t=b("circle"),M(t,"class","range-circle svelte-7jp4oc"),M(t,"cx",n=e[5](e[26])),M(t,"cy",o=e[4](e[26])),M(t,"r",i=e[14](e[26].scenario)),M(t,"fill",s=e[6](e[26]))},m(n,r){y(n,t,r),a||(l=[T(t,"mouseover",c),T(t,"focus",u),T(t,"mouseout",e[19]),T(t,"blur",e[20])],a=!0)},p(r,a){e=r,33&a&&n!==(n=e[5](e[26]))&&M(t,"cx",n),17&a&&o!==(o=e[4](e[26]))&&M(t,"cy",o),1&a&&i!==(i=e[14](e[26].scenario))&&M(t,"r",i),65&a&&s!==(s=e[6](e[26]))&&M(t,"fill",s)},d(e){e&&v(t),a=!1,r(l)}}}function of(e){let t,n,r,o,i,s,a,l,c,u=e[22][1],f=[];for(let t=0;t<u.length;t+=1)f[t]=rf(nf(e,u,t));return{c(){t=b("g"),n=b("line");for(let e=0;e<f.length;e+=1)f[e].c();M(n,"x1",r=e[23][0]),M(n,"x2",o=e[23][1]),M(n,"y1",i=e[4](e[22][1][0])),M(n,"y2",s=e[4](e[22][1][0])),M(n,"stroke","gainsboro"),M(n,"stroke-width",a=2*e[14](2)),M(t,"class",l=h(`range-group range-group-${e[22][0]}`)+" svelte-7jp4oc"),M(t,"transform",c=`translate(0, ${e[3].bandwidth()/2})`)},m(e,r){y(e,t,r),g(t,n);for(let e=0;e<f.length;e+=1)f[e].m(t,null)},p(e,a){if(7&a&&r!==(r=e[23][0])&&M(n,"x1",r),7&a&&o!==(o=e[23][1])&&M(n,"x2",o),17&a&&i!==(i=e[4](e[22][1][0]))&&M(n,"y1",i),17&a&&s!==(s=e[4](e[22][1][0]))&&M(n,"y2",s),114801&a){let n;for(u=e[22][1],n=0;n<u.length;n+=1){const r=nf(e,u,n);f[n]?f[n].p(r,a):(f[n]=rf(r),f[n].c(),f[n].m(t,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=u.length}1&a&&l!==(l=h(`range-group range-group-${e[22][0]}`)+" svelte-7jp4oc")&&M(t,"class",l),8&a&&c!==(c=`translate(0, ${e[3].bandwidth()/2})`)&&M(t,"transform",c)},d(e){e&&v(t),$(f,e)}}}function sf(t){let n,r=t[0],o=[];for(let e=0;e<r.length;e+=1)o[e]=of(tf(t,r,e));return{c(){n=b("g");for(let e=0;e<o.length;e+=1)o[e].c();M(n,"class",h("vis-group")+" svelte-7jp4oc")},m(e,t){y(e,n,t);for(let e=0;e<o.length;e+=1)o[e].m(n,null)},p(e,[t]){if(114815&t){let i;for(r=e[0],i=0;i<r.length;i+=1){const s=tf(e,r,i);o[i]?o[i].p(s,t):(o[i]=of(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:e,o:e,d(e){e&&v(n),$(o,e)}}}function af(e,t,n){let r,o,i,s,l,c,u;const{data:f,xGet:p,yGet:h,zGet:d,xScale:m,x:g,yScale:y}=K("LayerCake");a(e,f,(e=>n(0,r=e))),a(e,p,(e=>n(5,c=e))),a(e,h,(e=>n(4,l=e))),a(e,d,(e=>n(6,u=e))),a(e,m,(e=>n(2,i=e))),a(e,g,(e=>n(1,o=e))),a(e,y,(e=>n(3,s=e)));const v=Gn().exponent(.5).domain([2,4]).range([4,7]),$=Y();function x(e,t){$("mousemove",{e:e,props:t}),document.querySelectorAll(".range-circle").forEach((t=>{t!==e.target?t.classList.add("inactive"):t.classList.add("active")}))}function b(e){$("mouseout"),document.querySelectorAll(".range-circle").forEach((e=>e.classList.remove("inactive"))),e.target.classList.remove("active")}return[r,o,i,s,l,c,u,f,p,h,d,m,g,y,v,x,b,(e,t)=>x(t,e),(e,t)=>x(t,e),e=>b(e),e=>b(e)]}class lf extends ae{constructor(e){super(),se(this,e,af,sf,i,{})}}function cf(e,t,n){const r=e.slice();return r[6]=t[n],r}function uf(e){let t;return{c(){t=x("span"),t.textContent="videos"},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function ff(e){let t,n,r,o,i,s,a=e[6].scenario+"",l=4===e[6].scenario&&uf();return{c(){t=x("div"),n=x("span"),r=w(a),o=_(),l&&l.c(),i=_(),M(t,"class",s="label "+(4===e[6].scenario?"last-label":"")+" svelte-s4d8io"),z(t,"--left",e[2](e[6])+"px")},m(e,s){y(e,t,s),g(t,n),g(n,r),g(t,o),l&&l.m(t,null),g(t,i)},p(e,n){2&n&&a!==(a=e[6].scenario+"")&&C(r,a),4===e[6].scenario?l||(l=uf(),l.c(),l.m(t,i)):l&&(l.d(1),l=null),2&n&&s!==(s="label "+(4===e[6].scenario?"last-label":"")+" svelte-s4d8io")&&M(t,"class",s),6&n&&z(t,"--left",e[2](e[6])+"px")},d(e){e&&v(t),l&&l.d()}}}function pf(t){let n,r,o,i,s=t[1].get("fR"),a=[];for(let e=0;e<s.length;e+=1)a[e]=ff(cf(t,s,e));return{c(){n=x("div"),r=w("Change in consumption (minutes)"),o=_();for(let e=0;e<a.length;e+=1)a[e].c();i=k(),M(n,"class","x-title svelte-s4d8io"),z(n,"--padding",t[0].bottom/2+"px")},m(e,t){y(e,n,t),g(n,r),y(e,o,t);for(let n=0;n<a.length;n+=1)a[n].m(e,t);y(e,i,t)},p(e,[t]){if(1&t&&z(n,"--padding",e[0].bottom/2+"px"),6&t){let n;for(s=e[1].get("fR"),n=0;n<s.length;n+=1){const r=cf(e,s,n);a[n]?a[n].p(r,t):(a[n]=ff(r),a[n].c(),a[n].m(i.parentNode,i))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},i:e,o:e,d(e){e&&v(n),e&&v(o),$(a,e),e&&v(i)}}}function hf(e,t,n){let r,o,i;const{custom:s,padding:l,xGet:c}=K("LayerCake");return a(e,s,(e=>n(1,o=e))),a(e,l,(e=>n(0,r=e))),a(e,c,(e=>n(2,i=e))),[r,o,i,s,l,c]}class df extends ae{constructor(e){super(),se(this,e,hf,pf,i,{})}}function mf(e){const t={...e[17].props};e[18]=t}function gf(e,t,n){const r=e.slice();r[19]=t[n];const o=r[18][r[19]];return r[20]=o,r}function yf(e){let t,n;return{c(){t=x("h3"),n=w(e[9]),M(t,"class","chart-title svelte-11l6v4q")},m(e,r){y(e,t,r),g(t,n)},p(e,t){512&t&&C(n,e[9])},d(e){e&&v(t)}}}function vf(t){let n,r,o,i,s,a;return n=new $l({props:{gridlines:!1,ticks:6,snapTicks:!1,tickMarks:!0}}),o=new Ml({props:{gridlines:!1,formatTick:t[14]}}),s=new lf({}),s.$on("mousemove",t[15]),s.$on("mouseout",t[16]),{c(){ne(n.$$.fragment),r=_(),ne(o.$$.fragment),i=_(),ne(s.$$.fragment)},m(e,t){re(n,e,t),y(e,r,t),re(o,e,t),y(e,i,t),re(s,e,t),a=!0},p:e,i(e){a||(ee(n.$$.fragment,e),ee(o.$$.fragment,e),ee(s.$$.fragment,e),a=!0)},o(e){te(n.$$.fragment,e),te(o.$$.fragment,e),te(s.$$.fragment,e),a=!1},d(e){oe(n,e),e&&v(r),oe(o,e),e&&v(i),oe(s,e)}}}function $f(e){let t,n;return t=new ha({props:{evt:e[10],offset:-15,$$slots:{default:[bf,({detail:e})=>({17:e}),({detail:e})=>e?131072:0]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};1024&n&&(r.evt=e[10]),8519936&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function xf(e){let t,n,r,o,i=e[8](e[20])+"";return{c(){t=x("div"),n=w("Difference in consumption: "),r=w(i),o=w(" minutes"),M(t,"class","row")},m(e,i){y(e,t,i),g(t,n),g(t,r),g(t,o)},p(e,t){131328&t&&i!==(i=e[8](e[20])+"")&&C(r,i)},d(e){e&&v(t)}}}function bf(e){let t,n;mf(e);let r,o,i,s,a,l,c,u,f=Js.get(e[18].cluster)+"",p=e[18].scenario+"",h=["mean"],d=[];for(let t=0;t<1;t+=1)d[t]=xf(gf(e,h,t));return{c(){t=x("div"),n=x("span"),r=w(f),o=_(),i=x("div"),s=w("Burst length: "),a=w(p),l=w(" videos"),c=_();for(let e=0;e<1;e+=1)d[e].c();u=k(),M(n,"class","cluster-label svelte-11l6v4q"),z(n,"--color",Qs.get(e[18].cluster)),M(i,"class","row")},m(e,f){y(e,t,f),g(t,n),g(n,r),y(e,o,f),y(e,i,f),g(i,s),g(i,a),g(i,l),y(e,c,f);for(let t=0;t<1;t+=1)d[t].m(e,f);y(e,u,f)},p(e,t){if(mf(e),131072&t&&f!==(f=Js.get(e[18].cluster)+"")&&C(r,f),131072&t&&z(n,"--color",Qs.get(e[18].cluster)),131072&t&&p!==(p=e[18].scenario+"")&&C(a,p),131328&t){let n;for(h=["mean"],n=0;n<1;n+=1){const r=gf(e,h,n);d[n]?d[n].p(r,t):(d[n]=xf(r),d[n].c(),d[n].m(u.parentNode,u))}for(;n<1;n+=1)d[n].d(1)}},d(e){e&&v(t),e&&v(o),e&&v(i),e&&v(c),$(d,e),e&&v(u)}}}function wf(e){let t,n,r,o=!0!==e[11]&&$f(e);return n=new df({}),{c(){o&&o.c(),t=_(),ne(n.$$.fragment)},m(e,i){o&&o.m(e,i),y(e,t,i),re(n,e,i),r=!0},p(e,n){!0!==e[11]?o?(o.p(e,n),2048&n&&ee(o,1)):(o=$f(e),o.c(),ee(o,1),o.m(t.parentNode,t)):o&&(Z(),te(o,1,1,(()=>{o=null})),Q())},i(e){r||(ee(o),ee(n.$$.fragment,e),r=!0)},o(e){te(o),te(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&v(t),oe(n,e)}}}function _f(e){let t,n,r,o;return t=new ns({props:{$$slots:{default:[vf]},$$scope:{ctx:e}}}),r=new Vi({props:{pointerEvents:!1,$$slots:{default:[wf]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment),n=_(),ne(r.$$.fragment)},m(e,i){re(t,e,i),y(e,n,i),re(r,e,i),o=!0},p(e,n){const o={};8391680&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};8391936&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){o||(ee(t.$$.fragment,e),ee(r.$$.fragment,e),o=!0)},o(e){te(t.$$.fragment,e),te(r.$$.fragment,e),o=!1},d(e){oe(t,e),e&&v(n),oe(r,e)}}}function kf(e){let t,n;return t=new Hl({props:{caption:e[0],url:e[4],type:"split-cols"}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.caption=e[0]),16&n&&(r.url=e[4]),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Tf(e){let t,n,r,o,i,s,a=e[9]&&yf(e);o=new Ii({props:{padding:{top:0,right:10,bottom:50,left:55},flatData:e[2],data:Array.from(e[3]),x:e[5],xNice:!0,y:e[6],yScale:ct(),yDomain:e[12],z:e[7],zScale:lt(),zDomain:e[12],zRange:e[13],custom:e[3],$$slots:{default:[_f]},$$scope:{ctx:e}}});let l=e[1]&&kf(e);return{c(){a&&a.c(),t=_(),n=x("div"),r=x("div"),ne(o.$$.fragment),i=_(),l&&l.c(),M(r,"class","chart range-plot"),M(n,"class","chart-wrapper svelte-11l6v4q")},m(e,c){a&&a.m(e,c),y(e,t,c),y(e,n,c),g(n,r),re(o,r,null),g(n,i),l&&l.m(n,null),s=!0},p(e,[r]){e[9]?a?a.p(e,r):(a=yf(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null);const i={};4&r&&(i.flatData=e[2]),8&r&&(i.data=Array.from(e[3])),32&r&&(i.x=e[5]),64&r&&(i.y=e[6]),128&r&&(i.z=e[7]),8&r&&(i.custom=e[3]),8391936&r&&(i.$$scope={dirty:r,ctx:e}),o.$set(i),e[1]?l?(l.p(e,r),2&r&&ee(l,1)):(l=kf(e),l.c(),ee(l,1),l.m(n,null)):l&&(Z(),te(l,1,1,(()=>{l=null})),Q())},i(e){s||(ee(o.$$.fragment,e),ee(l),s=!0)},o(e){te(o.$$.fragment,e),te(l),s=!1},d(e){a&&a.d(e),e&&v(t),e&&v(n),oe(o),l&&l.d()}}}function Mf(e,t,n){let r,{caption:o="Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eius, tempore?"}=t,{includeCaption:i=!0}=t,{data:s}=t,{groupedData:a}=t,{url:l}=t,{xKey:c}=t,{yKey:u}=t,{zKey:f}=t,{formatter:p=Fc(0)}=t,{title:h}=t,d=Array.from(a).map((e=>e[0])),m=d.map((e=>Qs.get(e))),g=!0;return e.$$set=e=>{"caption"in e&&n(0,o=e.caption),"includeCaption"in e&&n(1,i=e.includeCaption),"data"in e&&n(2,s=e.data),"groupedData"in e&&n(3,a=e.groupedData),"url"in e&&n(4,l=e.url),"xKey"in e&&n(5,c=e.xKey),"yKey"in e&&n(6,u=e.yKey),"zKey"in e&&n(7,f=e.zKey),"formatter"in e&&n(8,p=e.formatter),"title"in e&&n(9,h=e.title)},[o,i,s,a,l,c,u,f,p,h,r,g,d,m,e=>Js.get(e),e=>n(10,r=n(11,g=e)),()=>n(11,g=!0)]}class Cf extends ae{constructor(e){super(),se(this,e,Mf,Tf,i,{caption:0,includeCaption:1,data:2,groupedData:3,url:4,xKey:5,yKey:6,zKey:7,formatter:8,title:9})}}function zf(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function Nf(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function Sf(t){let n;return{c(){n=x("div"),M(n,"class","chart-placeholder svelte-1rtnb17")},m(e,t){y(e,n,t)},p:e,i:e,o:e,d(e){e&&v(n)}}}function Df(e){let t,n;return t=new Cf({props:{data:e[5],groupedData:e[6],yKey:Yf,xKey:Ef,zKey:Kf,formatter:Rf,url:Lf,caption:e[3][0].value,title:"Bursts of political videos impact overall consumption habits differently"}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.data=e[5]),64&n&&(r.groupedData=e[6]),8&n&&(r.caption=e[3][0].value),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function jf(e){let t,n,r,o=e[8].value+"";return{c(){t=x("p"),n=w(o),r=_()},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){2&t&&o!==(o=e[8].value+"")&&C(n,o)},d(e){e&&v(t)}}}function Af(e){let t,n,r,o=e[8].value+"";return{c(){t=x("p"),n=w(o),r=_()},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){4&t&&o!==(o=e[8].value+"")&&C(n,o)},d(e){e&&v(t)}}}function qf(e){let t,n,i,s,a,l,c,u,f,p,h;const d=[Df,Sf],b=[];function w(e,t){return e[4]&&e[5]?0:1}n=w(e),i=b[n]=d[n](e);let k=e[1],C=[];for(let t=0;t<k.length;t+=1)C[t]=jf(Nf(e,k,t));let z=e[2],N=[];for(let t=0;t<z.length;t+=1)N[t]=Af(zf(e,z,t));return{c(){t=x("div"),i.c(),s=_(),a=x("div");for(let e=0;e<C.length;e+=1)C[e].c();l=_(),c=x("div");for(let e=0;e<N.length;e+=1)N[e].c();M(a,"class","copy svelte-1rtnb17"),M(c,"class","references svelte-1rtnb17"),M(t,"class","section section-5 svelte-1rtnb17")},m(r,o){y(r,t,o),b[n].m(t,null),g(t,s),g(t,a);for(let e=0;e<C.length;e+=1)C[e].m(a,null);g(t,l),g(t,c);for(let e=0;e<N.length;e+=1)N[e].m(c,null);f=!0,p||(h=[m(u=Ua.call(null,t,{once:e[0]})),T(t,"enter",e[7])],p=!0)},p(e,[r]){let l=n;if(n=w(e),n===l?b[n].p(e,r):(Z(),te(b[l],1,1,(()=>{b[l]=null})),Q(),i=b[n],i?i.p(e,r):(i=b[n]=d[n](e),i.c()),ee(i,1),i.m(t,s)),2&r){let t;for(k=e[1],t=0;t<k.length;t+=1){const n=Nf(e,k,t);C[t]?C[t].p(n,r):(C[t]=jf(n),C[t].c(),C[t].m(a,null))}for(;t<C.length;t+=1)C[t].d(1);C.length=k.length}if(4&r){let t;for(z=e[2],t=0;t<z.length;t+=1){const n=zf(e,z,t);N[t]?N[t].p(n,r):(N[t]=Af(n),N[t].c(),N[t].m(c,null))}for(;t<N.length;t+=1)N[t].d(1);N.length=z.length}u&&o(u.update)&&1&r&&u.update.call(null,{once:e[0]})},i(e){f||(ee(i),f=!0)},o(e){te(i),f=!1},d(e){e&&v(t),b[n].d(),$(C,e),$(N,e),p=!1,r(h)}}}const Lf="assets/data/fig5.csv";let Ef="mean",Yf="cluster",Kf="cluster";const Rf=e=>e.toFixed(2);function Uf(e,t,n){let r,o,i=!1,{once:s}=t,{copy:a}=t,{refs:l}=t,{captions:c}=t;E((async()=>{const e=await Ye(Lf,je);n(5,r=e),n(6,o=Xe(r,(e=>e[Yf])))}));return e.$$set=e=>{"once"in e&&n(0,s=e.once),"copy"in e&&n(1,a=e.copy),"refs"in e&&n(2,l=e.refs),"captions"in e&&n(3,c=e.captions)},[s,a,l,c,i,r,o,()=>n(4,i=!0)]}class Ff extends ae{constructor(e){super(),se(this,e,Uf,qf,i,{once:0,copy:1,refs:2,captions:3})}}function Pf(e,t,n){const r=e.slice();return r[10]=t[n],r[12]=n,r}function Hf(e){let t,n,o;function i(...t){return e[5](e[10],...t)}function s(...t){return e[6](e[10],...t)}return{c(){t=x("div"),M(t,"class","heat-map-cell svelte-1o8fbw1"),z(t,"--color",e[1].scaleColor(e[10][1]))},m(r,a){y(r,t,a),n||(o=[T(t,"mouseover",i),T(t,"focus",s),T(t,"mouseout",e[7]),T(t,"blur",e[8])],n=!0)},p(n,r){e=n,3&r&&z(t,"--color",e[1].scaleColor(e[10][1]))},d(e){e&&v(t),n=!1,r(o)}}}function If(t){let n,r,o,i,s=Js.get(t[0].from)+"",a=Object.entries(t[0]).filter(Of),l=[];for(let e=0;e<a.length;e+=1)l[e]=Hf(Pf(t,a,e));return{c(){n=x("div"),r=x("span"),o=w(s),i=_();for(let e=0;e<l.length;e+=1)l[e].c();M(r,"class","heat-map-row-name svelte-1o8fbw1"),M(n,"class","heat-map-row svelte-1o8fbw1")},m(e,t){y(e,n,t),g(n,r),g(r,o),g(n,i);for(let e=0;e<l.length;e+=1)l[e].m(n,null)},p(e,[t]){if(1&t&&s!==(s=Js.get(e[0].from)+"")&&C(o,s),27&t){let r;for(a=Object.entries(e[0]).filter(Of),r=0;r<a.length;r+=1){const o=Pf(e,a,r);l[r]?l[r].p(o,t):(l[r]=Hf(o),l[r].c(),l[r].m(n,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=a.length}},i:e,o:e,d(e){e&&v(n),$(l,e)}}}const Of=e=>"from"!==e[0];function Wf(e,t,n){let r;const{custom:o}=K("LayerCake");a(e,o,(e=>n(1,r=e)));let{data:i}=t;const s=Y();function l(e,t){s("mousemove",{e:e,props:t}),console.log(e.target),e.target.classList.add("active")}function c(e){s("mouseout"),e.target.classList.remove("active")}return e.$$set=e=>{"data"in e&&n(0,i=e.data)},[i,r,o,l,c,(e,t)=>l(t,{from:i.from,to:e[0],value:e[1]}),(e,t)=>l(t,{from:i.from,to:e[0],value:e[1]}),e=>c(e),e=>c(e)]}class Gf extends ae{constructor(e){super(),se(this,e,Wf,If,i,{data:0})}}function Xf(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function Vf(e,t,n){const r=e.slice();return r[12]=t[n],r[11]=n,r}function Bf(e){let t,n,r=(Js.has(e[12])?Js.get(e[12]):e[12])+"";return{c(){t=x("div"),n=w(r),M(t,"class","header-value svelte-1b7jpu5")},m(e,r){y(e,t,r),g(t,n)},p(e,t){1&t&&r!==(r=(Js.has(e[12])?Js.get(e[12]):e[12])+"")&&C(n,r)},d(e){e&&v(t)}}}function Jf(e){let t,n;return t=new Gf({props:{data:e[9]}}),t.$on("mousemove",e[4]),t.$on("mouseout",e[5]),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.data=e[9]),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Zf(e){let t,n,r,o,i=Object.keys(e[0][0]),s=[];for(let t=0;t<i.length;t+=1)s[t]=Bf(Vf(e,i,t));let a=nc(e[0],rc,"from"),l=[];for(let t=0;t<a.length;t+=1)l[t]=Jf(Xf(e,a,t));const c=e=>te(l[e],1,1,(()=>{l[e]=null}));return{c(){t=x("div"),n=x("div");for(let e=0;e<s.length;e+=1)s[e].c();r=_();for(let e=0;e<l.length;e+=1)l[e].c();M(n,"class","heat-map-header svelte-1b7jpu5"),M(t,"class","heat-map-wrapper svelte-1b7jpu5")},m(e,i){y(e,t,i),g(t,n);for(let e=0;e<s.length;e+=1)s[e].m(n,null);g(t,r);for(let e=0;e<l.length;e+=1)l[e].m(t,null);o=!0},p(e,[r]){if(1&r){let t;for(i=Object.keys(e[0][0]),t=0;t<i.length;t+=1){const o=Vf(e,i,t);s[t]?s[t].p(o,r):(s[t]=Bf(o),s[t].c(),s[t].m(n,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=i.length}if(13&r){let n;for(a=nc(e[0],rc,"from"),n=0;n<a.length;n+=1){const o=Xf(e,a,n);l[n]?(l[n].p(o,r),ee(l[n],1)):(l[n]=Jf(o),l[n].c(),ee(l[n],1),l[n].m(t,null))}for(Z(),n=a.length;n<l.length;n+=1)c(n);Q()}},i(e){if(!o){for(let e=0;e<a.length;e+=1)ee(l[e]);o=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)te(l[e]);o=!1},d(e){e&&v(t),$(s,e),$(l,e)}}}function Qf(e,t,n){let r;const{data:o,width:i,height:s}=K("LayerCake");a(e,o,(e=>n(0,r=e)));const l=Y();function c(e){l("mousemove",e.detail)}function u(){l("mouseout")}return[r,o,c,u,e=>c(e),()=>u()]}class ep extends ae{constructor(e){super(),se(this,e,Qf,Zf,i,{})}}function tp(e,t,n){const r=e.slice();return r[2]=t[n],r}function np(e){let t,n,r;return{c(){t=b("stop"),M(t,"offset",n=`${e[1](e[2])}%`),M(t,"stop-color",r=e[0](e[2]))},m(e,n){y(e,t,n)},p(e,n){1&n&&r!==(r=e[0](e[2]))&&M(t,"stop-color",r)},d(e){e&&v(t)}}}function rp(t){let n,r,o,i,s,a,l,c,u,f=[.4,1,3],p=[];for(let e=0;e<3;e+=1)p[e]=np(tp(t,f,e));return{c(){n=x("div"),r=x("span"),r.textContent="Lower risk",o=_(),i=b("svg"),s=b("defs"),a=b("linearGradient");for(let e=0;e<3;e+=1)p[e].c();l=b("rect"),c=_(),u=x("span"),u.textContent="Higher risk",M(r,"class","legend-label svelte-1f8erhz"),M(a,"id","colorGradient"),M(l,"class","legend-rect"),M(l,"x","0"),M(l,"y","0"),M(l,"width","100"),M(l,"height","30"),M(l,"fill","url('#colorGradient')"),M(i,"class","legend-gradient svelte-1f8erhz"),M(u,"class","legend-label svelte-1f8erhz"),M(n,"class","legend-container svelte-1f8erhz")},m(e,t){y(e,n,t),g(n,r),g(n,o),g(n,i),g(i,s),g(s,a);for(let e=0;e<3;e+=1)p[e].m(a,null);g(i,l),g(n,c),g(n,u)},p(e,[t]){if(3&t){let n;for(f=[.4,1,3],n=0;n<3;n+=1){const r=tp(e,f,n);p[n]?p[n].p(r,t):(p[n]=np(r),p[n].c(),p[n].m(a,null))}for(;n<3;n+=1)p[n].d(1)}},i:e,o:e,d(e){e&&v(n),$(p,e)}}}function op(e,t,n){let{scale:r}=t;const o=An().domain([.4,3]).range([0,100]);return e.$$set=e=>{"scale"in e&&n(0,r=e.scale)},[r,o]}class ip extends ae{constructor(e){super(),se(this,e,op,rp,i,{scale:0})}}function sp(e){const t={...e[11].props};e[12]=t}function ap(e,t,n){const r=e.slice();r[13]=t[n];const o=r[12][r[13]];return r[14]=o,r}function lp(e){let t,n,r,o,i,s,a;return i=new ip({props:{scale:e[8]}}),{c(){t=x("div"),n=x("h3"),r=w(e[5]),o=_(),ne(i.$$.fragment),M(n,"class","svelte-12egrjo"),M(t,"class",s="chart-title "+(12===e[4]?"title-split-cols":"title-single-cols")+" svelte-12egrjo")},m(e,s){y(e,t,s),g(t,n),g(n,r),g(t,o),re(i,t,null),a=!0},p(e,n){(!a||32&n)&&C(r,e[5]),(!a||16&n&&s!==(s="chart-title "+(12===e[4]?"title-split-cols":"title-single-cols")+" svelte-12egrjo"))&&M(t,"class",s)},i(e){a||(ee(i.$$.fragment,e),a=!0)},o(e){te(i.$$.fragment,e),a=!1},d(e){e&&v(t),oe(i)}}}function cp(e){let t,n;return t=new ha({props:{evt:e[6],offset:-10,$$slots:{default:[fp,({detail:e})=>({11:e}),({detail:e})=>e?2048:0]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.evt=e[6]),133120&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function up(e){let t,n,r,o=e[14]+"";return{c(){t=x("div"),n=w("Risk ratio: "),r=w(o),M(t,"class","row")},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){2048&t&&o!==(o=e[14]+"")&&C(r,o)},d(e){e&&v(t)}}}function fp(e){let t,n;sp(e);let r,o,i,s,a,l,c=Js.get(e[12].to)+"",u=Js.get(e[12].from)+"",f=["value"],p=[];for(let t=0;t<1;t+=1)p[t]=up(ap(e,f,t));return{c(){t=x("div"),n=x("span"),r=w(c),o=w(" ➞\n                    "),i=x("span"),s=w(u),a=_();for(let e=0;e<1;e+=1)p[e].c();l=k(),M(n,"class","cluster-label svelte-12egrjo"),z(n,"--color",Qs.get(e[12].to)),M(i,"class","cluster-label svelte-12egrjo"),z(i,"--color",Qs.get(e[12].from))},m(e,c){y(e,t,c),g(t,n),g(n,r),g(t,o),g(t,i),g(i,s),y(e,a,c);for(let t=0;t<1;t+=1)p[t].m(e,c);y(e,l,c)},p(e,t){if(sp(e),2048&t&&c!==(c=Js.get(e[12].to)+"")&&C(r,c),2048&t&&z(n,"--color",Qs.get(e[12].to)),2048&t&&u!==(u=Js.get(e[12].from)+"")&&C(s,u),2048&t&&z(i,"--color",Qs.get(e[12].from)),2048&t){let n;for(f=["value"],n=0;n<1;n+=1){const r=ap(e,f,n);p[n]?p[n].p(r,t):(p[n]=up(r),p[n].c(),p[n].m(l.parentNode,l))}for(;n<1;n+=1)p[n].d(1)}},d(e){e&&v(t),e&&v(a),$(p,e),e&&v(l)}}}function pp(e){let t,n,r,o,i,s,a,l;i=new ep({}),i.$on("mousemove",e[9]),i.$on("mouseout",e[10]);let c=!0!==e[7]&&cp(e);return{c(){t=x("div"),t.textContent="YouTube Community",n=_(),r=x("div"),r.textContent="Web News Category",o=_(),ne(i.$$.fragment),s=_(),c&&c.c(),a=k(),M(t,"class","axis axis-y svelte-12egrjo"),M(r,"class","axis axis-x svelte-12egrjo")},m(e,u){y(e,t,u),y(e,n,u),y(e,r,u),y(e,o,u),re(i,e,u),y(e,s,u),c&&c.m(e,u),y(e,a,u),l=!0},p(e,t){!0!==e[7]?c?(c.p(e,t),128&t&&ee(c,1)):(c=cp(e),c.c(),ee(c,1),c.m(a.parentNode,a)):c&&(Z(),te(c,1,1,(()=>{c=null})),Q())},i(e){l||(ee(i.$$.fragment,e),ee(c),l=!0)},o(e){te(i.$$.fragment,e),te(c),l=!1},d(e){e&&v(t),e&&v(n),e&&v(r),e&&v(o),oe(i,e),e&&v(s),c&&c.d(e),e&&v(a)}}}function hp(e){let t,n;return t=new Vi({props:{$$slots:{default:[pp]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};131264&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function dp(e){let t,n;return t=new Hl({props:{caption:e[2],url:e[1],type:12===e[4]?"split-cols":"single-cols"}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.caption=e[2]),2&n&&(r.url=e[1]),16&n&&(r.type=12===e[4]?"split-cols":"single-cols"),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function mp(e){let t,n,r,o,i,s,a,l,c=e[5]&&lp(e);o=new Ii({props:{data:e[0],padding:{top:10,bottom:0,left:50,right:0},position:"relative",custom:{scaleColor:e[8]},$$slots:{default:[hp]},$$scope:{ctx:e}}});let u=e[3]&&dp(e);return{c(){c&&c.c(),t=_(),n=x("div"),r=x("div"),ne(o.$$.fragment),i=_(),u&&u.c(),M(r,"class","chart heat-map"),M(n,"class",s=h("chart-wrapper "+(12===e[4]?"split-cols":"single-cols"))+" svelte-12egrjo"),M(n,"style",a=`--spanCol: ${e[4]}`)},m(e,s){c&&c.m(e,s),y(e,t,s),y(e,n,s),g(n,r),re(o,r,null),g(n,i),u&&u.m(n,null),l=!0},p(e,[r]){e[5]?c?(c.p(e,r),32&r&&ee(c,1)):(c=lp(e),c.c(),ee(c,1),c.m(t.parentNode,t)):c&&(Z(),te(c,1,1,(()=>{c=null})),Q());const i={};1&r&&(i.data=e[0]),131264&r&&(i.$$scope={dirty:r,ctx:e}),o.$set(i),e[3]?u?(u.p(e,r),8&r&&ee(u,1)):(u=dp(e),u.c(),ee(u,1),u.m(n,null)):u&&(Z(),te(u,1,1,(()=>{u=null})),Q()),(!l||16&r&&s!==(s=h("chart-wrapper "+(12===e[4]?"split-cols":"single-cols"))+" svelte-12egrjo"))&&M(n,"class",s),(!l||16&r&&a!==(a=`--spanCol: ${e[4]}`))&&M(n,"style",a)},i(e){l||(ee(c),ee(o.$$.fragment,e),ee(u),l=!0)},o(e){te(c),te(o.$$.fragment,e),te(u),l=!1},d(e){c&&c.d(e),e&&v(t),e&&v(n),oe(o),u&&u.d()}}}function gp(e,t,n){let r,{data:o}=t,{url:i}=t,{caption:s="Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eius, tempore?"}=t,{includeCaption:a=!0}=t,{spanCol:l=12}=t,{title:c}=t,u=!0;const f=mi().domain([-1,1,3]).range(["#317873","#eee","#E08A00"]);return e.$$set=e=>{"data"in e&&n(0,o=e.data),"url"in e&&n(1,i=e.url),"caption"in e&&n(2,s=e.caption),"includeCaption"in e&&n(3,a=e.includeCaption),"spanCol"in e&&n(4,l=e.spanCol),"title"in e&&n(5,c=e.title)},[o,i,s,a,l,c,r,u,f,e=>n(6,r=n(7,u=e)),()=>n(7,u=!0)]}class yp extends ae{constructor(e){super(),se(this,e,gp,mp,i,{data:0,url:1,caption:2,includeCaption:3,spanCol:4,title:5})}}function vp(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function $p(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function xp(t){let n;return{c(){n=x("div"),M(n,"class","chart-placeholder svelte-vpco2i")},m(e,t){y(e,n,t)},p:e,i:e,o:e,d(e){e&&v(n)}}}function bp(e){let t,n;return t=new yp({props:{data:e[5],url:Tp,spanCol:12,title:"YouTube consumption is reflective of user news habits",caption:e[3][0].value}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.data=e[5]),8&n&&(r.caption=e[3][0].value),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function wp(e){let t,n,r,o=e[8].value+"";return{c(){t=x("p"),n=w(o),r=_()},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){2&t&&o!==(o=e[8].value+"")&&C(n,o)},d(e){e&&v(t)}}}function _p(e){let t,n,r,o=e[8].value+"";return{c(){t=x("p"),n=w(o),r=_()},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){4&t&&o!==(o=e[8].value+"")&&C(n,o)},d(e){e&&v(t)}}}function kp(e){let t,n,i,s,a,l,c,u,f,p,h;const d=[bp,xp],b=[];function w(e,t){return e[4]&&e[5]?0:1}n=w(e),i=b[n]=d[n](e);let k=e[1],C=[];for(let t=0;t<k.length;t+=1)C[t]=wp($p(e,k,t));let z=e[2],N=[];for(let t=0;t<z.length;t+=1)N[t]=_p(vp(e,z,t));return{c(){t=x("div"),i.c(),s=_(),a=x("div");for(let e=0;e<C.length;e+=1)C[e].c();l=_(),c=x("div");for(let e=0;e<N.length;e+=1)N[e].c();M(a,"class","copy svelte-vpco2i"),M(c,"class","references svelte-vpco2i"),M(t,"class","section section-6 svelte-vpco2i")},m(r,o){y(r,t,o),b[n].m(t,null),g(t,s),g(t,a);for(let e=0;e<C.length;e+=1)C[e].m(a,null);g(t,l),g(t,c);for(let e=0;e<N.length;e+=1)N[e].m(c,null);f=!0,p||(h=[m(u=Ua.call(null,t,{once:e[0]})),T(t,"enter",e[6])],p=!0)},p(e,[r]){let l=n;if(n=w(e),n===l?b[n].p(e,r):(Z(),te(b[l],1,1,(()=>{b[l]=null})),Q(),i=b[n],i?i.p(e,r):(i=b[n]=d[n](e),i.c()),ee(i,1),i.m(t,s)),2&r){let t;for(k=e[1],t=0;t<k.length;t+=1){const n=$p(e,k,t);C[t]?C[t].p(n,r):(C[t]=wp(n),C[t].c(),C[t].m(a,null))}for(;t<C.length;t+=1)C[t].d(1);C.length=k.length}if(4&r){let t;for(z=e[2],t=0;t<z.length;t+=1){const n=vp(e,z,t);N[t]?N[t].p(n,r):(N[t]=_p(n),N[t].c(),N[t].m(c,null))}for(;t<N.length;t+=1)N[t].d(1);N.length=z.length}u&&o(u.update)&&1&r&&u.update.call(null,{once:e[0]})},i(e){f||(ee(i),f=!0)},o(e){te(i),f=!1},d(e){e&&v(t),b[n].d(),$(C,e),$(N,e),p=!1,r(h)}}}const Tp="assets/data/fig6.csv";function Mp(e,t,n){let r,o=!1,{once:i}=t,{copy:s}=t,{refs:a}=t,{captions:l}=t;E((async()=>{const e=await Ye(Tp,je);n(5,r=e),nc(r.columns,["fR","R","C","L","fL"])}));return e.$$set=e=>{"once"in e&&n(0,i=e.once),"copy"in e&&n(1,s=e.copy),"refs"in e&&n(2,a=e.refs),"captions"in e&&n(3,l=e.captions)},[i,s,a,l,o,r,()=>n(4,o=!0)]}class Cp extends ae{constructor(e){super(),se(this,e,Mp,kp,i,{once:0,copy:1,refs:2,captions:3})}}function zp(e,t,n){const r=e.slice();return r[7]=t[n],r[9]=n,r}function Np(e,t,n){const r=e.slice();return r[7]=t[n],r[9]=n,r}function Sp(t){let n;return{c(){n=x("div"),M(n,"class","chart-placeholder svelte-1bg1xdy")},m(e,t){y(e,n,t)},p:e,i:e,o:e,d(e){e&&v(n)}}}function Dp(e){let t,n;return t=new hc({props:{config:[{url:"assets/data/fig7a.csv",description:"Fraction of videos by session length",type:"line",xKey:"index",yKey:"fraction",zKey:"cluster",formatTickX:e[5],xTicks:[0,3.5,7,10.5,14],formatTickY:Mn(".2~%"),includeCaption:!0,caption:e[3][0].value},{url:"assets/data/fig7b.csv",description:"Frequency by session length",type:"line",xKey:"length",yKey:"mean",zKey:"cluster",formatTickX:Lp,formatTickY:Ep,includeCaption:!0,caption:e[3][1].value}],spanCol:12,title:"Session Analysis"}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.config=[{url:"assets/data/fig7a.csv",description:"Fraction of videos by session length",type:"line",xKey:"index",yKey:"fraction",zKey:"cluster",formatTickX:e[5],xTicks:[0,3.5,7,10.5,14],formatTickY:Mn(".2~%"),includeCaption:!0,caption:e[3][0].value},{url:"assets/data/fig7b.csv",description:"Frequency by session length",type:"line",xKey:"length",yKey:"mean",zKey:"cluster",formatTickX:Lp,formatTickY:Ep,includeCaption:!0,caption:e[3][1].value}]),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function jp(e){let t,n,r,o=e[7].value+"";return{c(){t=x("p"),n=w(o),r=_()},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){2&t&&o!==(o=e[7].value+"")&&C(n,o)},d(e){e&&v(t)}}}function Ap(e){let t,n,r,o=e[7].value+"";return{c(){t=x("p"),n=w(o),r=_()},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){4&t&&o!==(o=e[7].value+"")&&C(n,o)},d(e){e&&v(t)}}}function qp(e){let t,n,i,s,a,l,c,u,f,p,h;const d=[Dp,Sp],b=[];function w(e,t){return e[4]?0:1}n=w(e),i=b[n]=d[n](e);let k=e[1],C=[];for(let t=0;t<k.length;t+=1)C[t]=jp(Np(e,k,t));let z=e[2],N=[];for(let t=0;t<z.length;t+=1)N[t]=Ap(zp(e,z,t));return{c(){t=x("div"),i.c(),s=_(),a=x("div");for(let e=0;e<C.length;e+=1)C[e].c();l=_(),c=x("div");for(let e=0;e<N.length;e+=1)N[e].c();M(a,"class","copy svelte-1bg1xdy"),M(c,"class","references svelte-1bg1xdy"),M(t,"class","section section-7 svelte-1bg1xdy")},m(r,o){y(r,t,o),b[n].m(t,null),g(t,s),g(t,a);for(let e=0;e<C.length;e+=1)C[e].m(a,null);g(t,l),g(t,c);for(let e=0;e<N.length;e+=1)N[e].m(c,null);f=!0,p||(h=[m(u=Ua.call(null,t,{once:e[0]})),T(t,"enter",e[6])],p=!0)},p(e,[r]){let l=n;if(n=w(e),n===l?b[n].p(e,r):(Z(),te(b[l],1,1,(()=>{b[l]=null})),Q(),i=b[n],i?i.p(e,r):(i=b[n]=d[n](e),i.c()),ee(i,1),i.m(t,s)),2&r){let t;for(k=e[1],t=0;t<k.length;t+=1){const n=Np(e,k,t);C[t]?C[t].p(n,r):(C[t]=jp(n),C[t].c(),C[t].m(a,null))}for(;t<C.length;t+=1)C[t].d(1);C.length=k.length}if(4&r){let t;for(z=e[2],t=0;t<z.length;t+=1){const n=zp(e,z,t);N[t]?N[t].p(n,r):(N[t]=Ap(n),N[t].c(),N[t].m(c,null))}for(;t<N.length;t+=1)N[t].d(1);N.length=z.length}u&&o(u.update)&&1&r&&u.update.call(null,{once:e[0]})},i(e){f||(ee(i),f=!0)},o(e){te(i),f=!1},d(e){e&&v(t),b[n].d(),$(C,e),$(N,e),p=!1,r(h)}}}const Lp=e=>e,Ep=e=>e.toFixed(2);function Yp(e,t,n){let r=!1,{once:o}=t,{copy:i}=t,{refs:s}=t,{captions:a}=t;return e.$$set=e=>{"once"in e&&n(0,o=e.once),"copy"in e&&n(1,i=e.copy),"refs"in e&&n(2,s=e.refs),"captions"in e&&n(3,a=e.captions)},[o,i,s,a,r,e=>Mn(".2~f")(e/14),()=>n(4,r=!0)]}class Kp extends ae{constructor(e){super(),se(this,e,Yp,qp,i,{once:0,copy:1,refs:2,captions:3})}}function Rp(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function Up(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function Fp(t){let n;return{c(){n=x("div"),M(n,"class","chart-placeholder svelte-165xxzq")},m(e,t){y(e,n,t)},p:e,i:e,o:e,d(e){e&&v(n)}}}function Pp(e){let t,n;return t=new lu({props:{data:e[5],yKey:Gp,xKey:e[6],zKey:Xp,formatter:Fc(2),keyColorMap:ea,keyLabelMap:Zs,url:Wp,spanCol:12,row:3,customClass:"chart-medium",title:"How users arrive at political content",caption:e[3][0].value}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.data=e[5]),8&n&&(r.caption=e[3][0].value),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Hp(e){let t,n,r,o=e[8].value+"";return{c(){t=x("p"),n=w(o),r=_()},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){2&t&&o!==(o=e[8].value+"")&&C(n,o)},d(e){e&&v(t)}}}function Ip(e){let t,n,r,o=e[8].value+"";return{c(){t=x("p"),n=w(o),r=_()},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){4&t&&o!==(o=e[8].value+"")&&C(n,o)},d(e){e&&v(t)}}}function Op(e){let t,n,i,s,a,l,c,u,f,p,h;const d=[Pp,Fp],b=[];function w(e,t){return e[4]&&e[5]?0:1}n=w(e),i=b[n]=d[n](e);let k=e[1],C=[];for(let t=0;t<k.length;t+=1)C[t]=Hp(Up(e,k,t));let z=e[2],N=[];for(let t=0;t<z.length;t+=1)N[t]=Ip(Rp(e,z,t));return{c(){t=x("div"),i.c(),s=_(),a=x("div");for(let e=0;e<C.length;e+=1)C[e].c();l=_(),c=x("div");for(let e=0;e<N.length;e+=1)N[e].c();M(a,"class","copy svelte-165xxzq"),M(c,"class","references svelte-165xxzq"),M(t,"class","section section-8 svelte-165xxzq")},m(r,o){y(r,t,o),b[n].m(t,null),g(t,s),g(t,a);for(let e=0;e<C.length;e+=1)C[e].m(a,null);g(t,l),g(t,c);for(let e=0;e<N.length;e+=1)N[e].m(c,null);f=!0,p||(h=[m(u=Ua.call(null,t,{once:e[0]})),T(t,"enter",e[7])],p=!0)},p(e,[r]){let l=n;if(n=w(e),n===l?b[n].p(e,r):(Z(),te(b[l],1,1,(()=>{b[l]=null})),Q(),i=b[n],i?i.p(e,r):(i=b[n]=d[n](e),i.c()),ee(i,1),i.m(t,s)),2&r){let t;for(k=e[1],t=0;t<k.length;t+=1){const n=Up(e,k,t);C[t]?C[t].p(n,r):(C[t]=Hp(n),C[t].c(),C[t].m(a,null))}for(;t<C.length;t+=1)C[t].d(1);C.length=k.length}if(4&r){let t;for(z=e[2],t=0;t<z.length;t+=1){const n=Rp(e,z,t);N[t]?N[t].p(n,r):(N[t]=Ip(n),N[t].c(),N[t].m(c,null))}for(;t<N.length;t+=1)N[t].d(1);N.length=z.length}u&&o(u.update)&&1&r&&u.update.call(null,{once:e[0]})},i(e){f||(ee(i),f=!0)},o(e){te(i),f=!1},d(e){e&&v(t),b[n].d(),$(C,e),$(N,e),p=!1,r(h)}}}let Wp="assets/data/table2.csv",Gp="cluster",Xp="key";function Vp(e,t,n){let r,o=!1,{once:i}=t,{copy:s}=t,{refs:a}=t,{captions:l}=t;E((async()=>{const e=await Ye(Wp,je);n(5,r=e)}));return e.$$set=e=>{"once"in e&&n(0,i=e.once),"copy"in e&&n(1,s=e.copy),"refs"in e&&n(2,a=e.refs),"captions"in e&&n(3,l=e.captions)},[i,s,a,l,o,r,[0,1],()=>n(4,o=!0)]}class Bp extends ae{constructor(e){super(),se(this,e,Vp,Op,i,{once:0,copy:1,refs:2,captions:3})}}function Jp(t){let n,r;return{c(){n=b("path"),M(n,"class","path-line svelte-1i6lrw3"),M(n,"d",r=t[1](t[2])),M(n,"stroke",t[0])},m(e,t){y(e,n,t)},p(e,[t]){6&t&&r!==(r=e[1](e[2]))&&M(n,"d",r),1&t&&M(n,"stroke",e[0])},i:e,o:e,d(e){e&&v(n)}}}function Zp(e,t,n){let r,o,i,s;const{data:l,xGet:c,yGet:u}=K("LayerCake");a(e,l,(e=>n(2,s=e))),a(e,c,(e=>n(7,i=e))),a(e,u,(e=>n(6,o=e)));let{stroke:f="#ab00d6"}=t;return e.$$set=e=>{"stroke"in e&&n(0,f=e.stroke)},e.$$.update=()=>{192&e.$$.dirty&&n(1,r=Qa().x((e=>i(e))).y((e=>o(e))).curve(nl))},[f,r,s,l,c,u,o,i]}class Qp extends ae{constructor(e){super(),se(this,e,Zp,Jp,i,{stroke:0})}}function eh(e){const t=e[17];e[19]=t}function th(e){let t,n,r,o,i,s,a,l,c=e[0](e[19][e[5].x])+"",u=e[1](e[19][e[5].y])+"";return{c(){t=x("div"),n=_(),r=x("div"),o=x("div"),i=w(c),s=_(),a=x("div"),l=w(u),z(t,"left",e[14]+"px"),M(t,"class","line svelte-o1blw1"),M(o,"class","title svelte-o1blw1"),M(a,"class","row"),M(r,"class","tooltip svelte-o1blw1"),z(r,"width",oh+"px"),z(r,"display",e[16]?"block":"none"),z(r,"left",Math.min(Math.max(e[9],e[14]),e[4]-e[9])+"px")},m(e,c){y(e,t,c),y(e,n,c),y(e,r,c),g(r,o),g(o,i),g(r,s),g(r,a),g(a,l)},p(e,n){16384&n&&z(t,"left",e[14]+"px"),131105&n&&c!==(c=e[0](e[19][e[5].x])+"")&&C(i,c),131106&n&&u!==(u=e[1](e[19][e[5].y])+"")&&C(l,u),65536&n&&z(r,"display",e[16]?"block":"none"),16400&n&&z(r,"left",Math.min(Math.max(e[9],e[14]),e[4]-e[9])+"px")},d(e){e&&v(t),e&&v(n),e&&v(r)}}}function nh(e){let t;eh(e);let n=!0===e[16]&&th(e);return{c(){n&&n.c(),t=k()},m(e,r){n&&n.m(e,r),y(e,t,r)},p(e,r){eh(e),!0===e[16]?n?n.p(e,r):(n=th(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&v(t)}}}function rh(e){let t,n;return t=new Dl({props:{dataset:e[2]||e[3],y:"x",$$slots:{default:[nh,({x:e,y:t,visible:n,found:r,e:o})=>({14:e,15:t,16:n,17:r,18:o}),({x:e,y:t,visible:n,found:r,e:o})=>(e?16384:0)|(t?32768:0)|(n?65536:0)|(r?131072:0)|(o?262144:0)]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,[n]){const r={};12&n&&(r.dataset=e[2]||e[3]),1261619&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}const oh=150;function ih(e,t,n){let r,o,i;const{data:s,width:l,config:c}=K("LayerCake");a(e,s,(e=>n(3,r=e))),a(e,l,(e=>n(4,o=e))),a(e,c,(e=>n(5,i=e)));const u=Mn(","),f=e=>e.replace(/^\w/,(e=>e.toUpperCase()));let{formatTitle:p=(e=>e)}=t,{formatValue:h=(e=>isNaN(+e)?e:u(e))}=t,{formatKey:d=(e=>f(e))}=t,{offset:m=-20}=t,{dataset:g}=t;const y=oh/2;return e.$$set=e=>{"formatTitle"in e&&n(0,p=e.formatTitle),"formatValue"in e&&n(1,h=e.formatValue),"formatKey"in e&&n(10,d=e.formatKey),"offset"in e&&n(11,m=e.offset),"dataset"in e&&n(2,g=e.dataset)},[p,h,g,r,o,i,s,l,c,y,d,m]}class sh extends ae{constructor(e){super(),se(this,e,ih,rh,i,{formatTitle:0,formatValue:1,formatKey:10,offset:11,dataset:2})}}function ah(e){let t,n,r,o,i,s;return t=new $l({props:{gridlines:!1,ticks:8,formatTick:e[6],snapTicks:!1,tickMarks:!1}}),r=new Ml({props:{ticks:4,formatTick:e[7]}}),i=new Qp({props:{stroke:e[10]}}),{c(){ne(t.$$.fragment),n=_(),ne(r.$$.fragment),o=_(),ne(i.$$.fragment)},m(e,a){re(t,e,a),y(e,n,a),re(r,e,a),y(e,o,a),re(i,e,a),s=!0},p(e,n){const o={};64&n&&(o.formatTick=e[6]),t.$set(o);const s={};128&n&&(s.formatTick=e[7]),r.$set(s);const a={};1024&n&&(a.stroke=e[10]),i.$set(a)},i(e){s||(ee(t.$$.fragment,e),ee(r.$$.fragment,e),ee(i.$$.fragment,e),s=!0)},o(e){te(t.$$.fragment,e),te(r.$$.fragment,e),te(i.$$.fragment,e),s=!1},d(e){oe(t,e),e&&v(n),oe(r,e),e&&v(o),oe(i,e)}}}function lh(e){let t,n;return t=new sh({props:{dataset:e[1],formatTitle:e[6],formatKey:e[11],formatValue:Hc}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.dataset=e[1]),64&n&&(r.formatTitle=e[6]),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function ch(e){let t,n,r,o;return t=new ns({props:{$$slots:{default:[ah]},$$scope:{ctx:e}}}),r=new Vi({props:{$$slots:{default:[lh]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment),n=_(),ne(r.$$.fragment)},m(e,i){re(t,e,i),y(e,n,i),re(r,e,i),o=!0},p(e,n){const o={};5312&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};4162&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){o||(ee(t.$$.fragment,e),ee(r.$$.fragment,e),o=!0)},o(e){te(t.$$.fragment,e),te(r.$$.fragment,e),o=!1},d(e){oe(t,e),e&&v(n),oe(r,e)}}}function uh(e){let t,n;return t=new Hl({props:{caption:e[0],url:e[2],type:12===e[9]?"split-cols":"single-cols"}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.caption=e[0]),4&n&&(r.url=e[2]),512&n&&(r.type=12===e[9]?"split-cols":"single-cols"),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function fh(e){let t,n,r,o,i,s,a;r=new Ii({props:{padding:{top:20,right:10,bottom:20,left:45},data:e[1],x:e[3],xScale:"date"===e[3]?pi():An(),y:e[4],yDomain:e[5],yNice:!0,$$slots:{default:[ch]},$$scope:{ctx:e}}});let l=e[8]&&uh(e);return{c(){t=x("div"),n=x("div"),ne(r.$$.fragment),o=_(),l&&l.c(),M(n,"class","chart line-chart"),M(t,"class",i=h("chart-wrapper "+(12===e[9]?"split-cols":"single-cols"))+" svelte-sawx4c"),M(t,"style",s=`--spanCol: ${e[9]}`)},m(e,i){y(e,t,i),g(t,n),re(r,n,null),g(t,o),l&&l.m(t,null),a=!0},p(e,[n]){const o={};2&n&&(o.data=e[1]),8&n&&(o.x=e[3]),8&n&&(o.xScale="date"===e[3]?pi():An()),16&n&&(o.y=e[4]),32&n&&(o.yDomain=e[5]),5314&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o),e[8]?l?(l.p(e,n),256&n&&ee(l,1)):(l=uh(e),l.c(),ee(l,1),l.m(t,null)):l&&(Z(),te(l,1,1,(()=>{l=null})),Q()),(!a||512&n&&i!==(i=h("chart-wrapper "+(12===e[9]?"split-cols":"single-cols"))+" svelte-sawx4c"))&&M(t,"class",i),(!a||512&n&&s!==(s=`--spanCol: ${e[9]}`))&&M(t,"style",s)},i(e){a||(ee(r.$$.fragment,e),ee(l),a=!0)},o(e){te(r.$$.fragment,e),te(l),a=!1},d(e){e&&v(t),oe(r),l&&l.d()}}}function ph(e,t,n){let{caption:r}=t,{data:o}=t,{url:i}=t,{xKey:s}=t,{yKey:a}=t,{yDomain:l=[0,null]}=t,{formatTickX:c}=t,{formatTickY:u=(e=>e.toFixed(0))}=t,{includeCaption:f=!0}=t,{spanCol:p}=t,{stroke:h}=t;return e.$$set=e=>{"caption"in e&&n(0,r=e.caption),"data"in e&&n(1,o=e.data),"url"in e&&n(2,i=e.url),"xKey"in e&&n(3,s=e.xKey),"yKey"in e&&n(4,a=e.yKey),"yDomain"in e&&n(5,l=e.yDomain),"formatTickX"in e&&n(6,c=e.formatTickX),"formatTickY"in e&&n(7,u=e.formatTickY),"includeCaption"in e&&n(8,f=e.includeCaption),"spanCol"in e&&n(9,p=e.spanCol),"stroke"in e&&n(10,h=e.stroke)},[r,o,i,s,a,l,c,u,f,p,h,e=>Js.get(e)]}class hh extends ae{constructor(e){super(),se(this,e,ph,fh,i,{caption:0,data:1,url:2,xKey:3,yKey:4,yDomain:5,formatTickX:6,formatTickY:7,includeCaption:8,spanCol:9,stroke:10})}}function dh(e,t,n){const r=e.slice();return r[7]=t[n],r[9]=n,r}function mh(e,t,n){const r=e.slice();return r[7]=t[n],r[9]=n,r}function gh(t){let n;return{c(){n=x("div"),M(n,"class","chart-placeholder svelte-y6udie")},m(e,t){y(e,n,t)},p:e,i:e,o:e,d(e){e&&v(n)}}}function yh(e){let t,n;return t=new hh({props:{data:e[5],url:bh,xKey:wh,yKey:_h,formatTickX:Ir("%b %Y"),formatTickY:Pc,caption:e[3][0].value,spanCol:12,stroke:"#E08A00"}}),{c(){ne(t.$$.fragment)},m(e,r){re(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.data=e[5]),8&n&&(r.caption=e[3][0].value),t.$set(r)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function vh(e){let t,n,r,o=e[7].value+"";return{c(){t=x("p"),n=w(o),r=_(),M(t,"class","svelte-y6udie")},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){2&t&&o!==(o=e[7].value+"")&&C(n,o)},d(e){e&&v(t)}}}function $h(e){let t,n,r,o=e[7].value+"";return{c(){t=x("p"),n=w(o),r=_()},m(e,o){y(e,t,o),g(t,n),g(t,r)},p(e,t){4&t&&o!==(o=e[7].value+"")&&C(n,o)},d(e){e&&v(t)}}}function xh(e){let t,n,i,s,a,l,c,u,f,p,h,d,b,w;const k=[yh,gh],C=[];function z(e,t){return e[4]?0:1}a=z(e),l=C[a]=k[a](e);let N=e[1],S=[];for(let t=0;t<N.length;t+=1)S[t]=vh(mh(e,N,t));let D=e[2],j=[];for(let t=0;t<D.length;t+=1)j[t]=$h(dh(e,D,t));return{c(){t=x("main"),n=x("div"),i=x("h2"),i.textContent="Supplementary information",s=_(),l.c(),c=_(),u=x("div");for(let e=0;e<S.length;e+=1)S[e].c();f=_(),p=x("div");for(let e=0;e<j.length;e+=1)j[e].c();M(i,"class","section-title svelte-y6udie"),M(u,"class","copy copy-part1 svelte-y6udie"),M(p,"class","references svelte-y6udie"),M(n,"class","section section-supplementary svelte-y6udie"),M(t,"class","supplementary svelte-y6udie")},m(r,o){y(r,t,o),g(t,n),g(n,i),g(n,s),C[a].m(n,null),g(n,c),g(n,u);for(let e=0;e<S.length;e+=1)S[e].m(u,null);g(n,f),g(n,p);for(let e=0;e<j.length;e+=1)j[e].m(p,null);d=!0,b||(w=[m(h=Ua.call(null,n,{once:e[0]})),T(n,"enter",e[6])],b=!0)},p(e,[t]){let r=a;if(a=z(e),a===r?C[a].p(e,t):(Z(),te(C[r],1,1,(()=>{C[r]=null})),Q(),l=C[a],l?l.p(e,t):(l=C[a]=k[a](e),l.c()),ee(l,1),l.m(n,c)),2&t){let n;for(N=e[1],n=0;n<N.length;n+=1){const r=mh(e,N,n);S[n]?S[n].p(r,t):(S[n]=vh(r),S[n].c(),S[n].m(u,null))}for(;n<S.length;n+=1)S[n].d(1);S.length=N.length}if(4&t){let n;for(D=e[2],n=0;n<D.length;n+=1){const r=dh(e,D,n);j[n]?j[n].p(r,t):(j[n]=$h(r),j[n].c(),j[n].m(p,null))}for(;n<j.length;n+=1)j[n].d(1);j.length=D.length}h&&o(h.update)&&1&t&&h.update.call(null,{once:e[0]})},i(e){d||(ee(l),d=!0)},o(e){te(l),d=!1},d(e){e&&v(t),C[a].d(),$(S,e),$(j,e),b=!1,r(w)}}}let bh="assets/data/video_count.csv",wh="date",_h="count";function kh(e,t,n){let r,o=!1,{once:i}=t,{copy:s}=t,{refs:a}=t,{captions:l}=t;E((async()=>{const e=await Ye(bh,je);n(5,r=e)}));return e.$$set=e=>{"once"in e&&n(0,i=e.once),"copy"in e&&n(1,s=e.copy),"refs"in e&&n(2,a=e.refs),"captions"in e&&n(3,l=e.captions)},[i,s,a,l,o,r,()=>n(4,o=!0)]}class Th extends ae{constructor(e){super(),se(this,e,kh,xh,i,{once:0,copy:1,refs:2,captions:3})}}function Mh(e,t,n){const r=e.slice();return r[1]=t[n],r}function Ch(e){let t,n,r,o,i,s,a,l,c,u,f,p=e[1].name+"",h=e[1].desc+"";return{c(){t=x("div"),n=x("div"),r=_(),o=x("a"),i=x("p"),s=w(p),a=_(),l=x("p"),c=w(h),f=_(),M(n,"class","author-photo svelte-1a0xj7d"),z(n,"--photo-url","url('/assets/images/"+e[1].photo+"')"),M(i,"class","author-name svelte-1a0xj7d"),M(l,"class","author-desc svelte-1a0xj7d"),M(o,"class","author-bio svelte-1a0xj7d"),M(o,"href",u=e[1].url),M(t,"class","author-container svelte-1a0xj7d")},m(e,u){y(e,t,u),g(t,n),g(t,r),g(t,o),g(o,i),g(i,s),g(o,a),g(o,l),g(l,c),g(t,f)},p(e,t){1&t&&z(n,"--photo-url","url('/assets/images/"+e[1].photo+"')"),1&t&&p!==(p=e[1].name+"")&&C(s,p),1&t&&h!==(h=e[1].desc+"")&&C(c,h),1&t&&u!==(u=e[1].url)&&M(o,"href",u)},d(e){e&&v(t)}}}function zh(t){let n,r,o,i,s,a,l=t[0],c=[];for(let e=0;e<l.length;e+=1)c[e]=Ch(Mh(t,l,e));return{c(){n=x("div"),r=x("div"),o=_(),i=x("div"),i.textContent="The Team",s=_(),a=x("div");for(let e=0;e<c.length;e+=1)c[e].c();M(r,"class","line svelte-1a0xj7d"),M(i,"class","title svelte-1a0xj7d"),M(a,"class","authors svelte-1a0xj7d"),M(n,"class","section container svelte-1a0xj7d")},m(e,t){y(e,n,t),g(n,r),g(n,o),g(n,i),g(n,s),g(n,a);for(let e=0;e<c.length;e+=1)c[e].m(a,null)},p(e,[t]){if(1&t){let n;for(l=e[0],n=0;n<l.length;n+=1){const r=Mh(e,l,n);c[n]?c[n].p(r,t):(c[n]=Ch(r),c[n].c(),c[n].m(a,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}},i:e,o:e,d(e){e&&v(n),$(c,e)}}}function Nh(e,t,n){let{authors:r}=t;return e.$$set=e=>{"authors"in e&&n(0,r=e.authors)},[r]}class Sh extends ae{constructor(e){super(),se(this,e,Nh,zh,i,{authors:0})}}function Dh(e){let t,n,r,o,i,s,a,l,c,u,f,p,h,d,m,g,$,x,b,w,k,T,M,C,z,N;return t=new ue({}),r=new Ra({props:{title:e[0].title,standfirst:e[0].standfirst,steps:e[0].scroller}}),i=new wc({props:{once:!0,copy:e[0]["section-one"].copy,refs:e[0]["section-one"].references,captions:e[0]["section-one"].captions,markers:e[0].markers}}),a=new Ac({props:{once:!0,copy:e[0]["section-two"].copy,refs:e[0]["section-two"].references,captions:e[0]["section-two"].captions,markers:e[0].markers}}),c=new Iu({props:{once:!0,copy:e[0]["section-three"].copy,refs:e[0]["section-three"].references,captions:e[0]["section-three"].captions}}),f=new ef({props:{once:!0,copy:e[0]["section-four"].copy,refs:e[0]["section-four"].references,captions:e[0]["section-four"].captions}}),h=new Ff({props:{once:!0,copy:e[0]["section-five"].copy,refs:e[0]["section-five"].references,captions:e[0]["section-five"].captions}}),m=new Cp({props:{once:!0,copy:e[0]["section-six"].copy,refs:e[0]["section-six"].references,captions:e[0]["section-six"].captions}}),$=new Kp({props:{once:!0,copy:e[0]["section-seven"].copy,refs:e[0]["section-seven"].references,captions:e[0]["section-seven"].captions}}),b=new Bp({props:{once:!0,copy:e[0]["section-eight"].copy,refs:e[0]["section-eight"].references,captions:e[0]["section-eight"].captions}}),k=new Sh({props:{authors:e[1]}}),M=new Th({props:{once:!0,copy:e[0].supplementary.copy,refs:e[0].supplementary.references,captions:e[0].supplementary.captions}}),z=new pe({}),{c(){ne(t.$$.fragment),n=_(),ne(r.$$.fragment),o=_(),ne(i.$$.fragment),s=_(),ne(a.$$.fragment),l=_(),ne(c.$$.fragment),u=_(),ne(f.$$.fragment),p=_(),ne(h.$$.fragment),d=_(),ne(m.$$.fragment),g=_(),ne($.$$.fragment),x=_(),ne(b.$$.fragment),w=_(),ne(k.$$.fragment),T=_(),ne(M.$$.fragment),C=_(),ne(z.$$.fragment)},m(e,v){re(t,e,v),y(e,n,v),re(r,e,v),y(e,o,v),re(i,e,v),y(e,s,v),re(a,e,v),y(e,l,v),re(c,e,v),y(e,u,v),re(f,e,v),y(e,p,v),re(h,e,v),y(e,d,v),re(m,e,v),y(e,g,v),re($,e,v),y(e,x,v),re(b,e,v),y(e,w,v),re(k,e,v),y(e,T,v),re(M,e,v),y(e,C,v),re(z,e,v),N=!0},p(e,[t]){const n={};1&t&&(n.title=e[0].title),1&t&&(n.standfirst=e[0].standfirst),1&t&&(n.steps=e[0].scroller),r.$set(n);const o={};1&t&&(o.copy=e[0]["section-one"].copy),1&t&&(o.refs=e[0]["section-one"].references),1&t&&(o.captions=e[0]["section-one"].captions),1&t&&(o.markers=e[0].markers),i.$set(o);const s={};1&t&&(s.copy=e[0]["section-two"].copy),1&t&&(s.refs=e[0]["section-two"].references),1&t&&(s.captions=e[0]["section-two"].captions),1&t&&(s.markers=e[0].markers),a.$set(s);const l={};1&t&&(l.copy=e[0]["section-three"].copy),1&t&&(l.refs=e[0]["section-three"].references),1&t&&(l.captions=e[0]["section-three"].captions),c.$set(l);const u={};1&t&&(u.copy=e[0]["section-four"].copy),1&t&&(u.refs=e[0]["section-four"].references),1&t&&(u.captions=e[0]["section-four"].captions),f.$set(u);const p={};1&t&&(p.copy=e[0]["section-five"].copy),1&t&&(p.refs=e[0]["section-five"].references),1&t&&(p.captions=e[0]["section-five"].captions),h.$set(p);const d={};1&t&&(d.copy=e[0]["section-six"].copy),1&t&&(d.refs=e[0]["section-six"].references),1&t&&(d.captions=e[0]["section-six"].captions),m.$set(d);const g={};1&t&&(g.copy=e[0]["section-seven"].copy),1&t&&(g.refs=e[0]["section-seven"].references),1&t&&(g.captions=e[0]["section-seven"].captions),$.$set(g);const y={};1&t&&(y.copy=e[0]["section-eight"].copy),1&t&&(y.refs=e[0]["section-eight"].references),1&t&&(y.captions=e[0]["section-eight"].captions),b.$set(y);const v={};2&t&&(v.authors=e[1]),k.$set(v);const x={};1&t&&(x.copy=e[0].supplementary.copy),1&t&&(x.refs=e[0].supplementary.references),1&t&&(x.captions=e[0].supplementary.captions),M.$set(x)},i(e){N||(ee(t.$$.fragment,e),ee(r.$$.fragment,e),ee(i.$$.fragment,e),ee(a.$$.fragment,e),ee(c.$$.fragment,e),ee(f.$$.fragment,e),ee(h.$$.fragment,e),ee(m.$$.fragment,e),ee($.$$.fragment,e),ee(b.$$.fragment,e),ee(k.$$.fragment,e),ee(M.$$.fragment,e),ee(z.$$.fragment,e),N=!0)},o(e){te(t.$$.fragment,e),te(r.$$.fragment,e),te(i.$$.fragment,e),te(a.$$.fragment,e),te(c.$$.fragment,e),te(f.$$.fragment,e),te(h.$$.fragment,e),te(m.$$.fragment,e),te($.$$.fragment,e),te(b.$$.fragment,e),te(k.$$.fragment,e),te(M.$$.fragment,e),te(z.$$.fragment,e),N=!1},d(e){oe(t,e),e&&v(n),oe(r,e),e&&v(o),oe(i,e),e&&v(s),oe(a,e),e&&v(l),oe(c,e),e&&v(u),oe(f,e),e&&v(p),oe(h,e),e&&v(d),oe(m,e),e&&v(g),oe($,e),e&&v(x),oe(b,e),e&&v(w),oe(k,e),e&&v(T),oe(M,e),e&&v(C),oe(z,e)}}}function jh(e,t,n){let{data:r}=t,{authors:o}=t;return e.$$set=e=>{"data"in e&&n(0,r=e.data),"authors"in e&&n(1,o=e.authors)},[r,o]}var Ah={title:"YouTube Politics",standfirst:[{type:"text",value:"YouTube is arguably the largest and most engaging online media platform in the world. Its scale has fueled concerns that YouTube users are being radicalized by biased recommendations and professedly apolitical “anti-woke” channels."},{type:"text",value:"Here we test this hypothesis using a panel of more than 300,000 Americans and their individual-level browsing behavior, on and off YouTube, from January 2016 to September 2021. The dashboards below present key findings from our analysis."}],markers:["2016 Election | 2016-11-08","2018 Midterms | 2018-11-06","2020 Election | 2020-11-03"],scroller:[{type:"step-one",value:["Our data covers 974 YouTube channels, totalling to 523,242 unique videos. Shown here are the top 200 YouTube channels we monitor, represented by dots of different colors and sizes.","Each dot’s size corresponds to its subscriber count, while the colors correspond to the channel’s political leaning — dark blue for far-left, light blue for left, grey for center, red for right, and dark red for far-right."]},{type:"step-two",value:["Here are the channels organized by their size, or number of subscribers.","With this visualization, we can see that even among the largest channels we studied, far-left and far-right channels tend to have smaller audiences."]},{type:"step-three",value:["And here they are grouped together based on their political leaning.","As you can see, most of the largest channels in YouTube’s news ecosystem are left-leaning or centrist when it comes to their political views. “Anti-woke” channels – a broad category of professedly nonpartisan content that opposes liberal ideology and institutions – are slightly rarer in the top 200, while large far-left and far-right channels are scarce. In fact, data on the far left is so limited that the category is dropped from many of our calculations, since larger sample sizes are needed for reliable estimates."]},{type:"step-four",value:["Explore our channel data before we dive deeper into YouTube’s political ecosystem. Hovering over a channel gives more information about its size and reach."]}],"section-one":{copy:[{type:"text",value:"To check for overall trends in political category preferences, we examine changes in the six viewing clusters’ total consumption. Here, we track how many YouTube users fall into each political cluster over time, which tells us whether these communities are growing or shrinking."},{type:"text",value:"Selecting “User share” from the dropdown above shows the percentages of the total number of YouTube users who fall into each of our six defined viewing clusters, corresponding to the political content categories."},{type:"text",value:"Selecting “Total consumption share” shows the percentages of the total amount (in minutes) of viewed YouTube content which fall into each of the six categories of news content."},{type:"text",value:"Our results reveal that news, in general, makes up only a small portion of YouTube consumption. However, even a small percentage of users can mean large absolute numbers at the scale of YouTube. For example, averaged over the 4-year period, 764,405 Americans consumed anti-woke content at least once in a given month, with that number growing steadily over time."}],references:[{type:"text",value:"Iyengar et al, The origins and consequences of affective polarization in the United States, 2019"},{type:"text",value:"Jones, Declining trust in congress: Effects of polarization and consequences for Democracy, 2015"}],captions:[{type:"text",value:"Percent of YouTube users falling into the six political categories. In other words, out of all American YouTube viewers, 1.3% were in the left cluster in February 2020. This shows how large YouTube’s political communities are relative to the entire platform."},{type:"text",value:"Consumption share of the six political channel categories. For example, out of the total minutes of content that Americans viewed across the platform in October 2018, 1.76% of those minutes were far-right content. These statistics shed light on the amount of political content being consumed, and not necessarily the communities that consume it."}]},"section-two":{copy:[{type:"text",value:"Using our collection of YouTube channel data, we are able to group YouTube viewers into political clusters based on their news consumption habits."},{type:"text",value:"The graph above reflects the viewing habits of the average YouTube user from each of the six political clusters, corresponding to the political content categories: far-left, left, center, right, and far-right. Here, we look at how active these clusters are in terms of video watchtime."},{type:"text",value:"Selecting “Median monthly minutes on YouTube (total)” from the dropdown above shows the median total monthly watchtime for YouTube users within each of our six defined viewing clusters; i.e., how many minutes of YouTube content were consumed by, say, a member of the far-left cluster in a given month."},{type:"text",value:"Selecting “Median monthly minutes on YouTube (within news cluster)” shows the median monthly watchtime within the political category for viewers in the corresponding cluster; i.e., how many minutes of far-right content were consumed by a member of the far-right cluster."},{type:"text",value:"These figures suggest stronger engagement with far-right and anti-woke content compared to other categories. The median monthly watchtime for members of these communities rose to almost twice the engagement of users in the left, center, and right communities. In other words, while the far-right and anti-woke communities remained relatively small in size throughout the observation period (with only anti-woke growing), their user engagement grew to exceed every other category."}],references:[{type:"text",value:"Iyengar et al, The origins and consequences of affective polarization in the United States, 2019"},{type:"text",value:"Jones, Declining trust in congress: Effects of polarization and consequences for Democracy, 2015"}],captions:[{type:"text",value:"Median monthly consumption, in minutes, across all channel categories. Lines show the 3-month rolling average. For example, in March 2021, a typical member of the left political cluster viewed 181 total minutes of YouTube content over the course of the month. This statistic gives insight into users’ engagement with the YouTube platform overall – not necessarily with their preferred category of news – and how this varies across political communities."},{type:"text",value:"Median monthly consumption, in minutes, within each political community. Lines show the 3-month rolling average. For example, in October 2018, a typical member of the far-right cluster viewed 17 minutes of far-right YouTube content over the course of the month. This statistic sheds light on how engaged YouTube users are in their own political communities."}]},"section-three":{copy:[{type:"text",value:"We used a clustering algorithm to assign each individual in our panel to a community, or cluster, of individuals with similar YouTube news diets. Each of these six clusters corresponds closely with our six categories of political content – far left, left, center, right, far right, and anti-woke."},{type:"text",value:"The centroid or “archetype member” of each cluster devotes more than 90% of their attention to just one content category, with the remaining 10% distributed roughly evenly among the other categories. In fact, the consumption patterns of cluster members align with their political cluster so strongly that more than 95% of members receive at least 50% of their content from just one content category."},{type:"text",value:"This result has an important implication: YouTube users are meaningfully associated with definable “communities” based on their political content consumption. Viewing preferences are fairly homogeneous within each community and relatively distinct between them."}],references:[{type:"text",value:"Iyengar et al, The origins and consequences of affective polarization in the United States, 2019"},{type:"text",value:"Jones, Declining trust in congress: Effects of polarization and consequences for Democracy, 2015"}],captions:[{type:"text",value:"The archetypes of news consumption behavior on YouTube for each political category. For example, for the archetypical member of the far-right community, 90% of their political content watchtime is made up of far-right content."}]},"section-four":{copy:[{type:"text",value:"We next analyzed the longevity of YouTube’s political clusters. How does membership in these communities change from month to month? Are moderate or centrist users likely to be pushed to either the far left or far right clusters?"},{type:"text",value:"Over the course of our observations, we developed the model above to further examine individual behavior. The diagram shows the probability that, in any given month, a member of any of the political clusters would be a member of any cluster in the following month."},{type:"text",value:"Our model shows that political communities on YouTube exhibit a sort of “stickiness” – the most likely behavior is for community members to remain in their communities from month to month. When individuals do switch communities, they are more likely to move from the right side of the political spectrum to the left. We can also see that the anti-woke community gains more of its audience from the right wing than from the center and left wing combined."},{type:"text",value:"This model has a major effect on the way we can visualize political communities on the platform. Rather than being static groups of politically siloed users, these communities are continuously shifting – not only do clusters lose their own members and gain members from other clusters, but a user may not fall into any of these communities at all in any given month."},{type:"Note",value:"“News consumers” are defined as individuals who, over the course of 1 month, spend a minimum of 1 minute of watch time on any of the political channels in our labeled set. The vast majority of YouTube users do not meet this criteria, so it is useful to keep in mind that the figure above — and many of the figures throughout this dashboard — only illustrates net flow within one small active part of the population."}],references:[{type:"text",value:"Iyengar et al, The origins and consequences of affective polarization in the United States, 2019"},{type:"text",value:"Jones, Declining trust in congress: Effects of polarization and consequences for Democracy, 2015"}],captions:[{type:"text",value:"Probability of flow from communities between months. For example, if a user is a member of the anti-woke cluster, there is a 36% chance that they will also be a member of that cluster the following month, and only a 10% chance that they will move to the left cluster. Each month, users may not fall into any of these communities, if they are not among “news consumers” in that particular month."}]},"section-five":{copy:[{type:"text",value:"We investigated whether exposure to concentrated “bursts” of content – for example, viewing two, three, or four videos from that political category one after the other – makes it more likely for an individual to watch that content category in the future."},{type:"text",value:"For each content category, we considered three “treatment groups” made up of individuals who are exposed to bursts of either two, three, or four videos from a given content category. We then computed the difference in their average daily consumption of the same content category before and after exposure, and compared those values against a control group."},{type:"text",value:"As the figure above shows, increases in burst length correspond to higher future consumption relative to the control groups, across all political categories. Individuals exposed to bursts of anti-woke content show the largest effects – nearly twice compared to other content categories – along with larger marginal effects as the number of videos in the burst increases."},{type:"text",value:"It is important to note that the exposure shown here can be driven by user, recommendation, or external sources; bursts were observed in natural viewing habits rather than induced by our research team. This is a purely predictive exercise, and the effects should not be interpreted as causal."}],references:[{type:"text",value:"Iyengar et al, The origins and consequences of affective polarization in the United States, 2019"},{type:"text",value:"Jones, Declining trust in congress: Effects of polarization and consequences for Democracy, 2015"}],captions:[{type:"text",value:"Difference in means of daily consumption change, in the event of bursty consumption from a specific political category. Individuals are assigned either to bursty consumption groups – in the event of watching 2 to 4 videos – or to a control group – if none of their sessions has more than one video from the same category in their lifetime. The exposure can be driven by user, recommendation, or external sources."},{type:"text",value:"Risk ratio of consumption of political content on YouTube from news content of political categories on the web."}]},"section-six":{copy:[{type:"text",value:"Based on select anecdotes, there have been concerns that YouTube’s video recommendation algorithm pushes viewers towards more politically extreme content. However, there is little large-scale data to support this. Analyzing consumption habits across the web — in other words, on and off the YouTube platform — can tell us more clearly whether users are radicalized by the algorithm, or whether their YouTube viewing preferences simply align with the types of content they consume elsewhere on the web."},{type:"text",value:"The figure above shows the “risk” of someone from one of our defined political communities on YouTube (shown on the left/vertical axis) consuming content from one of those sections of the political spectrum (shown on the top/horizontal axis) off of the YouTube platform. From this info, we can glean two key results."},{type:"text",value:"First, members of the right and far-right communities are over twice as likely to consume right-leaning content and 3 times as likely to consume far-right content outside of YouTube compared with an average user."},{type:"text",value:"Second, off-platform consumption by members of the anti-woke community is biased in a very similar way to that of right and far-right members. In other words, even if anti-woke channel owners do not see themselves as associating with right or far-right ideologies, their viewers do."},{type:"text",value:"If the algorithm does drive radicalization through its recommendations, we would expect to see more interaction with radical political content on the platform compared to off of it. But instead, these results show a strong correlation between on- and off-platform tastes. While these results do not rule out that recommendations are driving engagement for the heaviest consumers, they are strongly consistent with the explanation that consumption of radical content on YouTube is, at least in part, a reflection of user preferences."}],references:[{type:"text",value:"Iyengar et al, The origins and consequences of affective polarization in the United States, 2019"},{type:"text",value:"Jones, Declining trust in congress: Effects of polarization and consequences for Democracy, 2015"}],captions:[{type:"text",value:"The figure shows how likely it is for a YouTube user from a certain political community to consume content from a certain political category off of the YouTube platform, compared to a random YouTube user. For example, we can see that a member of YouTube’s anti-woke community is 2.2 times more likely than the average user to consume far-right content off of YouTube."}]},"section-seven":{copy:[{type:"text",value:"We also checked whether radical content was more likely to be consumed later in a user’s viewing session, after viewers had been exposed to more recommended content. A biased recommendation algorithm would lead to an increased frequency of radical content towards the end of a viewing session, since users have more opportunities to click on recommended content the more videos they watch."},{type:"text",value:"However, we observed the opposite. Selecting “Fraction of videos by session length” in the dropdown above, we observe that videos in long viewing sessions are not more likely to belong to radical content categories further along in the viewing session, i.e. after the recommendation algorithm has had more opportunities to steer users towards extreme videos."},{type:"text",value:"Similarly, by selecting “Frequency by session length,” we see that all six content categories appeared less and less frequently as users viewed a series of videos. This suggests that longer viewing sessions are increasingly steered towards non-news content. Both of these findings undercut claims of YouTube driving radicalization through its recommendation system."}],references:[{type:"text",value:"Iyengar et al, The origins and consequences of affective polarization in the United States, 2019"},{type:"text",value:"Jones, Declining trust in congress: Effects of polarization and consequences for Democracy, 2015"}],captions:[{type:"text",value:"The average likelihood of a video at a certain point in a viewing session — i.e. halfway (0.5) or three-quarters of the way (0.75) through a session — being from one of the political categories. Here we assess viewing sessions that are 20 or more videos in length. For example, in a session with at least 20 videos, there is an 8% chance that the first video was far-right content. That likelihood drops below 5% one-quarter (0.25) of the way through a viewing session."},{type:"text",value:"Average fraction of videos of a political category by numbers of videos in sessions. For example, in a typical session where a user viewed nine videos, about 8% of their watchtime was far-right content. Sessions are between 10 and 60 minutes. Sessions with more than 30 videos (2% of sessions) were dropped from the chart."}]},"section-eight":{copy:[{type:"text",value:"Finally, we analyze the pathways that viewers use to find radical content on YouTube. If the recommendation system does impact viewing patterns, we would expect to find that arrivals at radical content are dominated by the video views immediately preceding them."},{type:"text",value:"However, the visualization above shows that other routes play key roles. For instance, while 35% of far-right videos were preceded by another video, nearly 58% of referrals in our dataset came from external URLs, the YouTube homepage, or direct searches. While this, too, does not entirely rule out the recommendation system as an influence, it emphasizes the consistency of user preferences across platforms."}],references:[{type:"text",value:"Iyengar et al, The origins and consequences of affective polarization in the United States, 2019"},{type:"text",value:"Jones, Declining trust in congress: Effects of polarization and consequences for Democracy, 2015"}],captions:[{type:"text",value:"Distribution of the entry points of videos within each political category. For example, 10% of far-left video views came directly after a user viewed the YouTube homepage."}]},supplementary:{copy:[{type:"text",value:"The graph displays the status of the daily YouTube crawler used to collect transcripts and meta data from 13K news channels. It tracks the number of videos crawled per month from January 2021, with the line representing three-month moving averages."}],references:[{type:"text",value:"Iyengar et al, The origins and consequences of affective polarization in the United States, 2019"},{type:"text",value:"Jones, Declining trust in congress: Effects of polarization and consequences for Democracy, 2015"}],captions:[{type:"text",value:"Number of videos crawled for data per month. Line shows 3-month moving averages."}]}};return new class extends ae{constructor(e){super(),se(this,e,jh,Dh,i,{data:0,authors:1})}}({target:document.body,props:{data:Ah,authors:[{name:"Homa Hosseinmardi",desc:"Associate Research Scientist",url:"https://css.seas.upenn.edu/people/homa-hosseinmardi/",photo:"homa-hosseinmardi.png"},{name:"Duncan J. Watts",desc:"CSSLab Director",url:"https://css.seas.upenn.edu/people/duncan-watts/",photo:"duncan-j-watts.png"},{name:"Felippe Rodrigues",desc:"Front-end Developer",url:"https://fsorodrigues.dev",photo:"felippe-rodrigues.jpg"},{name:"Emma Arsekin",desc:"Fmr. Senior Communications Specialist",url:"https://css.seas.upenn.edu/",photo:"emma-arsekin.jpg"},{name:"Miguel Rivera-Lanas",desc:"Fmr. Data Scientist",url:"https://css.seas.upenn.edu/",photo:"miguel-rivera-lanas.jpg"}]}})}();
//# sourceMappingURL=bundle.js.map
